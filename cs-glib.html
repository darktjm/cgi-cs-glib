<html><!--
Generated using noweb; original .nw source attached as tar.gz in comment at end
Extract with uudecode, or, if uudecode chokes, use:
   tr '|~m`' '<>- ' | uudecode -o 'cs-glib.tar.gz'
-->
 <head>
<meta name="generator" content="noweave -html -filter l2h, highlight-3">
  <style type="text/css">
  <!--
 .code	{ color:#000000; background-color:#e0eaee; font-size: smaller;}
 .code a	{ color:#000000; background-color:#e0eaee; font-size: smaller;}
.code .num { color:#b07e00; }
.code .esc { color:#ff00ff; }
.code .str { color:#bf0303; }
.code .pps { color:#818100; }
.code .slc { color:#838183; font-style:italic; }
.code .com { color:#838183; font-style:italic; }
.code .ppc { color:#008200; }
.code .opt { color:#000000; }
.code .ipl { color:#0057ae; }
.code .lin { color:#555555; }
.code .kwa { color:#000000; font-weight:bold; }
.code .kwb { color:#0057ae; }
.code .kwc { color:#000000; font-weight:bold; }
.code .kwd { color:#010181; }
.code li {display: block;}
/* either above line to remove line #s, or make space for line #s with: */
/* .code {margin-left: 2em;} */
/* optional: add border around code */
/* .code {border: thin solid black;} */
code {font-style: normal;}
pre.defn {margin-bottom: 0;}
.code {margin-left: 10pt; margin-right: 10pt; margin-top: 0; padding: 1px}
.code li,pre {margin-top: 0; margin-bottom: 0;}
.code a {text-decoration: none;}
pre.dfn a {text-decoration: none;}
//-->
</style>
<title>Generic ClearSilver and GLib Module Build Support</title>
 </head>
<body>
<h1><a name=toc1>Generic ClearSilver and GLib Module Build Support</a></h1>



<address>Thomas J. Moore</address>
<b>Version 1.0 Revision 198<br>2010</b>
<p>
<!--title goes here-->
<h2><a name=toc2>Abstract</a></h2><blockquote>

This document provides generic
ClearSilver<sup><a href="#fn1">1</a></sup>
 and
GLib<sup><a href="#fn2">2</a></sup> support for my generic build
system.  It also provides some useful generic template extensions.
<p>

<p>
&copy; 2008--2010 Trustees of Indiana University.  This document
is licensed under the Apache License, Version 2.0 (the `License');
you may not use this document except in compliance with the License.
You may obtain a copy of the License at
<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.  Unless required by
applicable law or agreed to in writing, software distributed under the
License is distributed on an `AS IS' BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for
the specific language governing permissions and limitations under the
License.
<p>

<p>
This document was generated from the following sources, all of which are
attached to the original electronic forms of this document:
<ol class="code">
<ol>
<li><pre>$Id:&nbsp;build.nw&nbsp;197&nbsp;2012-12-06&nbsp;05:02:53Z&nbsp;darktjm&nbsp;$</pre></li>
<li><pre>$Id:&nbsp;cs-glib.nw&nbsp;198&nbsp;2012-12-07&nbsp;05:40:28Z&nbsp;darktjm&nbsp;$</pre></li>
</ol></ol>

<p>
</em></font></blockquote>

<p>

<h2>Table of Contents</h2>
<ul compact>
  <li><a href="#toc3">Memory Allocation</a>
  <li><a href="#toc4">Logging</a>
  <li><a href="#toc5">Configuration</a>
  <li><a href="#toc6">Templates</a>
  <li><a href="#toc7">HTML Templates</a>
  <li><a href="#toc8">Usage</a>
  <li><a href="#toc9">Code Dependencies</a>
  <li><a href="#toc10">Code Index</a>
  </ul>
</ul>

<p>

<h2><a name=toc3>Memory Allocation</a></h2>
<p>
There are a number of dynamic array facilities and memory allocation
techniques that I tend to reimplement with every project.  However, the GLib
library provides many of the facilities I most commonly use, like dynamic
arrays, dynamic strings, linked lists of buffers, and linked list of buffers
with hash table duplication removal.  Although some implementations are not
as efficient as they could be, using them reduces the overall size of code
that needs to be maintained.  Support is provided here for that library ---
in particular, the ones provided with Red Hat Enterprise Linux 4 (<i>2.4.7</i>)
and Red Hat Enterprise Linux 5 (<i>2.12.3</i>).
<p>
<pre class="dfn"><a name="NW0-1mOMve-1" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[D<a href="#NW0-1mOMve-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;&lt;glib.h&gt;</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-13PeAG-1" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;=</dfn></a> <b>[D<a href="#NW0-13PeAG-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>GLIB_CFLAGS<span class="opt">:=$(</span><span class="kwa">shell&nbsp;</span>pkg-config&nbsp;<span class="opt">--</span>silence-errors&nbsp;gthread-2.0&nbsp;<span class="opt">--</span><span class="kwa">cflags&nbsp;</span>||&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pkg-config&nbsp;glib-2.0&nbsp;<span class="str">&quot;--cflags&quot;</span><span class="opt">)</span></pre></li>
<li><pre>GLIB_LDFLAGS<span class="opt">:=$(</span><span class="kwa">shell&nbsp;</span>pkg-config&nbsp;<span class="opt">--</span>silence-errors&nbsp;gthread-2.0&nbsp;<span class="opt">--</span>libs&nbsp;||&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pkg-config&nbsp;glib-2.0&nbsp;<span class="opt">--</span>libs<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-13PeAG-2" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-1">&lt;-</a>D<a href="#NW0-13PeAG-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>EXTRA_CFLAGS&nbsp;<span class="opt">+=&nbsp;$(</span>GLIB_CFLAGS<span class="opt">)</span></pre></li>
<li><pre>EXTRA_LDFLAGS&nbsp;<span class="opt">+=&nbsp;$(</span>GLIB_LDFLAGS<span class="opt">)</span></pre></li>
</ol></ol>
<p>

One thing that is missing that I have always found useful is a version of
<code>fgets</code>(3) which supports dynamic strings.  Such a function is easy enough
to implement, so here it is.  A generic version is provided as well for
cases where <code>fgets</code>-equivalent functions are available.
<p>
When reading binary data that may contain NUL characters, the buffer length
must be updated based not on <code>strlen</code>, but on the number of characters
read.  This can be obtained from <code>ftell</code> only for seekable streams, so the
only option with <code>fgets</code> is to fill the memory with non-NUL characters and
search for the last added NUL.  Another option would be to use a different
reader function.  The CPU overhead for using <code>getc</code> for every character is
pretty high, though, and <code>fscanf</code> has issues with NUL characters as well.
Implementing a wrapper around <code>fread</code> would require that all reads from
the file be done using this function in order to take care of backlog.
<p>
In order to avoid the processing overhead for NULs for most reads, the
wrapper has two names, and the generic function takes a parameter to enable
this.
<p>
<pre class="dfn"><a name="NW0-dCUIn-1" href="#NW0-dCUIn-1"><dfn>&lt;Library <code>glib-supt</code> Members&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>g_string_fgets.o</pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-1mOMve-2" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-1mOMve-1">&lt;-</a>D<a href="#NW0-1mOMve-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;</span><span class="pps">&quot;g_string_fgets.h&quot;</span><span class="ppc"></span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1Eb0te-1" href="#NW0-1Eb0te-1"><dfn>&lt;g_string_fgets.h&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="com">/*</span></pre></li>
<li><pre><span class="com">&nbsp;&nbsp;<a name="NW0-1Eb0te-1-u1" href="#NW0-17AJkL-1"><i>&lt;(build.nw) Common NoWeb Warning&gt;</i></a></span></pre></li>
<li><pre><span class="com">*/</span></pre></li>
<li><pre><span class="ppc">#ifndef&nbsp;_G_STRING_FGETS_H</span></pre></li>
<li><pre><span class="ppc">#define&nbsp;_G_STRING_FGETS_H</span></pre></li>
<li><pre><span class="opt"><a name="NW0-1Eb0te-1-u2" href="#NW0-2XZC0p-1"><i>&lt;<code>gets_fp</code> definition&gt;</i></a></span></pre></li>
<li><pre><span class="ppc">#endif&nbsp;</span><span class="com">/*&nbsp;_G_STRING_FGETS_H&nbsp;*/</span><span class="ppc"></span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2XZC0p-1" href="#NW0-2XZC0p-1"><dfn>&lt;<code>gets_fp</code> definition&gt;=</dfn></a> <b>(<a href="#NW0-1Eb0te-1">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwc">typedef&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">*(*</span><span class="kwb">gets_fp</span><span class="opt">)(</span><span class="kwb">char&nbsp;</span><span class="opt">*</span>buf<span class="opt">,&nbsp;</span><span class="kwb">int&nbsp;</span>len<span class="opt">,&nbsp;</span><span class="kwb">void&nbsp;</span><span class="opt">*</span>f<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4IhMOG-1" href="#NW0-4IhMOG-1"><dfn>&lt;(build.nw) Known Data Types&gt;=</dfn></a> <b>[D<a href="#NW0-4IhMOG-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">gets_fp</span><span class="opt">,%</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3qoljW-1" href="#NW0-3qoljW-1"><dfn>&lt;g_string_fgets.c&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="opt"><a name="NW0-3qoljW-1-u1" href="#NW0-3oc1l6-1"><i>&lt;(build.nw) Common C Header&gt;</i></a></span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">char&nbsp;</span><span class="opt">*</span><span class="kwd">g_string_fgets</span><span class="opt">(</span><span class="kwb">GString&nbsp;</span><span class="opt">**</span>_buf<span class="opt">,&nbsp;</span><span class="kwb">guint&nbsp;</span>offset<span class="opt">,&nbsp;</span><span class="kwb">FILE&nbsp;</span><span class="opt">*</span>f<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">g_string_gets_generic</span><span class="opt">(</span>_buf<span class="opt">,&nbsp;</span>offset<span class="opt">,&nbsp;(</span><span class="kwb">gets_fp</span><span class="opt">)</span>fgets<span class="opt">,&nbsp;</span>f<span class="opt">,&nbsp;</span>FALSE<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">char&nbsp;</span><span class="opt">*</span><span class="kwd">g_string_fgets_bin</span><span class="opt">(</span><span class="kwb">GString&nbsp;</span><span class="opt">**</span>_buf<span class="opt">,&nbsp;</span><span class="kwb">guint&nbsp;</span>offset<span class="opt">,&nbsp;</span><span class="kwb">FILE&nbsp;</span><span class="opt">*</span>f<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">g_string_gets_generic</span><span class="opt">(</span>_buf<span class="opt">,&nbsp;</span>offset<span class="opt">,&nbsp;(</span><span class="kwb">gets_fp</span><span class="opt">)</span>fgets<span class="opt">,&nbsp;</span>f<span class="opt">,&nbsp;</span>TRUE<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">char&nbsp;</span><span class="opt">*</span><span class="kwd">g_string_gets_generic</span><span class="opt">(</span><span class="kwb">GString&nbsp;</span><span class="opt">**</span>_buf<span class="opt">,&nbsp;</span><span class="kwb">guint&nbsp;</span>offset<span class="opt">,&nbsp;</span><span class="kwb">gets_fp&nbsp;</span>my_gets<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">void&nbsp;</span><span class="opt">*</span>f<span class="opt">,&nbsp;</span><span class="kwb">gboolean&nbsp;</span>allow_zero<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">guint&nbsp;</span>left<span class="opt">,&nbsp;</span>len<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf&nbsp;<span class="opt">=&nbsp;*</span>_buf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>read_some&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>ep<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>buf<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;buf&nbsp;<span class="opt">=&nbsp;*</span>_buf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_sized_new</span><span class="opt">(</span>offset&nbsp;<span class="opt">+&nbsp;</span><span class="num">80</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(</span>buf<span class="opt">-&gt;</span>allocated_len&nbsp;<span class="opt">&lt;=&nbsp;</span>offset<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_set_size</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>offset&nbsp;<span class="opt">+&nbsp;</span><span class="num">80</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="num">1</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;left&nbsp;<span class="opt">=&nbsp;</span>buf<span class="opt">-&gt;</span>allocated_len&nbsp;<span class="opt">-&nbsp;</span>offset<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>allow_zero<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">memset</span><span class="opt">(</span>buf<span class="opt">-&gt;</span>str&nbsp;<span class="opt">+&nbsp;</span>offset<span class="opt">,&nbsp;</span><span class="num">255</span><span class="opt">,&nbsp;</span>left<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;</span><span class="com">/*&nbsp;still&nbsp;need&nbsp;to&nbsp;detect&nbsp;end&nbsp;of&nbsp;line&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf<span class="opt">-&gt;</span>str<span class="opt">[</span>offset&nbsp;<span class="opt">+&nbsp;</span>left&nbsp;<span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">]&nbsp;=&nbsp;</span><span class="num">255</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!(*</span>my_gets<span class="opt">)(</span>buf<span class="opt">-&gt;</span>str&nbsp;<span class="opt">+&nbsp;</span>offset<span class="opt">,&nbsp;</span>left<span class="opt">,&nbsp;</span>f<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf<span class="opt">-&gt;</span>str<span class="opt">[</span>offset<span class="opt">]&nbsp;=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;read_some&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>allow_zero<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;memrchr&nbsp;is&nbsp;GNU&nbsp;extension,&nbsp;so&nbsp;this&nbsp;is&nbsp;done&nbsp;manually&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;guaranteed&nbsp;to&nbsp;terminate&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>ep&nbsp;<span class="opt">=&nbsp;</span>buf<span class="opt">-&gt;</span>str&nbsp;<span class="opt">+&nbsp;</span>buf<span class="opt">-&gt;</span>allocated_len&nbsp;<span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">;&nbsp;*</span>ep<span class="opt">;&nbsp;</span>ep<span class="opt">--);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len&nbsp;<span class="opt">=&nbsp;(</span><span class="kwb">int</span><span class="opt">)(</span>ep&nbsp;<span class="opt">-&nbsp;</span>buf<span class="opt">-&gt;</span>str<span class="opt">)&nbsp;-&nbsp;</span>offset<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strlen</span><span class="opt">(</span>buf<span class="opt">-&gt;</span>str&nbsp;<span class="opt">+&nbsp;</span>offset<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;left&nbsp;<span class="opt">-=&nbsp;</span>len<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;offset&nbsp;<span class="opt">+=&nbsp;</span>len<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">((</span>left&nbsp;<span class="opt">&gt;&nbsp;</span><span class="num">1&nbsp;</span><span class="opt">&amp;&amp;&nbsp;</span>buf<span class="opt">-&gt;</span>str<span class="opt">[</span>offset&nbsp;<span class="opt">+&nbsp;</span>left&nbsp;<span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">])&nbsp;||</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf<span class="opt">-&gt;</span>str<span class="opt">[</span>offset&nbsp;<span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'</span><span class="esc">\n</span><span class="str">'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_set_size</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>buf<span class="opt">-&gt;</span>allocated_len&nbsp;<span class="opt">*&nbsp;</span><span class="num">2&nbsp;</span><span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;buf<span class="opt">-&gt;</span>len&nbsp;<span class="opt">=&nbsp;</span>offset<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>read_some&nbsp;?&nbsp;buf<span class="opt">-&gt;</span>str&nbsp;<span class="opt">:&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1r3EKH-1" href="#NW0-1r3EKH-1"><dfn>&lt;(build.nw) Version Strings&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="str">&quot;$Id:&nbsp;cs-glib.nw&nbsp;198&nbsp;2012-12-07&nbsp;05:40:28Z&nbsp;darktjm&nbsp;$</span><span class="esc">\n</span><span class="str">&quot;</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-35OSyj-1" href="#NW0-35OSyj-1"><dfn>&lt;(build.nw) Sources&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>$Id:&nbsp;cs-glib.nw&nbsp;198&nbsp;2012-12-07&nbsp;05:40:28Z&nbsp;darktjm&nbsp;$</pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-17AJkL-1" href="#NW0-17AJkL-1"><dfn>&lt;(build.nw) Common NoWeb Warning&gt;=</dfn></a> <b>(<a href="#NW0-1Eb0te-1">&lt;-U</a> <a href="#NW0-31BAak-1">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#&nbsp;$Id:&nbsp;cs-glib.nw&nbsp;198&nbsp;2012-12-07&nbsp;05:40:28Z&nbsp;darktjm&nbsp;$</span></pre></li>
</ol></ol>
<p>

Its main disadvantage for server-like processes is that it aborts the entire
program on memory failures rather than returning an error so that the caller
can recover gracefully.  If this is an issue, a process monitor, such as
<code>init</code>(8), can take care of this problem.  Another memory allocation issue
is that GLib uses 32-bit integers in some places, and does not check for
integer overflow, so some errors are never caught except by segmentation
fault<sup><a href="#fn3">3</a></sup>
.  This can be
avoided by running these processes with &quot;<tt>ulimit -v <em>&lt;size&gt;</em></tt>&quot;
in effect on Linux, or &quot;<tt>ulimit -d <em>&lt;size&gt;</em></tt>&quot; in effect on AIX,
where <em>&lt;size&gt;</em> is at most a small (<i>&lt;=3</i>) multiple of 1048576 (1GB).
The following script can be used to support starting processes in
<code>init</code>(8).  It checks to see if a file in <tt>/tmp</tt> has been touched
before continuing, so that the file can be touched before killing a process
for maintentance.
<p>
<pre class="dfn"><a name="NW0-4NSboV-1" href="#NW0-4NSboV-1"><dfn>&lt;runit&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#!/bin/sh</span></pre></li>
<li><pre></pre></li>
<li><pre>prog_to_run<span class="opt">=</span><span class="str">&quot;$1&quot;</span></pre></li>
<li><pre><span class="kwb">type&nbsp;</span><span class="str">&quot;$prog_to_run&quot;</span>&nbsp;<span class="opt">&gt;/</span>dev<span class="opt">/</span>null&nbsp;<span class="num">2</span><span class="opt">&gt;&amp;</span><span class="num">1&nbsp;</span>||&nbsp;<span class="kwb">exit&nbsp;</span><span class="num">1</span></pre></li>
<li><pre><span class="kwb">shift</span></pre></li>
<li><pre>prog_to_run_base<span class="opt">=</span><span class="str">&quot;${prog_to_run##*/}&quot;</span></pre></li>
<li><pre><span class="kwa">while&nbsp;</span><span class="opt">[&nbsp;-</span>f&nbsp;<span class="str">&quot;/tmp/stop_${prog_to_run_base}&quot;</span>&nbsp;<span class="opt">];&nbsp;</span><span class="kwa">do</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwc">sleep&nbsp;</span><span class="num">60</span></pre></li>
<li><pre><span class="kwa">done</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="slc">#&nbsp;Use&nbsp;-v&nbsp;on&nbsp;Linux,&nbsp;-d&nbsp;on&nbsp;AIX</span></pre></li>
<li><pre><span class="kwb">ulimit&nbsp;</span><span class="opt">-</span>v&nbsp;$<span class="opt">((</span><span class="num">2</span><span class="opt">*</span><span class="num">1024</span><span class="opt">*</span><span class="num">1024</span><span class="opt">))&nbsp;</span><span class="num">2</span><span class="opt">&gt;/</span>dev<span class="opt">/</span>null&nbsp;||&nbsp;<span class="kwb">ulimit&nbsp;</span><span class="opt">-</span>d&nbsp;$<span class="opt">((</span><span class="num">2</span><span class="opt">*</span><span class="num">1024</span><span class="opt">*</span><span class="num">1024</span><span class="opt">))</span></pre></li>
<li><pre><span class="kwa">if&nbsp;</span><span class="kwb">type&nbsp;</span>gawk&nbsp;<span class="opt">&gt;/</span>dev<span class="opt">/</span>null&nbsp;<span class="num">2</span><span class="opt">&gt;&amp;</span><span class="num">1</span><span class="opt">;&nbsp;</span><span class="kwa">then</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">exec&nbsp;</span><span class="str">&quot;$prog_to_run&quot;</span>&nbsp;<span class="str">&quot;$&#64;&quot;</span>&nbsp;<span class="num">2</span><span class="opt">&gt;&amp;</span><span class="num">1&nbsp;</span>|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gawk&nbsp;<span class="str">'{&nbsp;print&nbsp;strftime(&quot;%Y-%m-%d&nbsp;%H:%M:%S&quot;),&nbsp;$0;&nbsp;fflush();&nbsp;}'</span></pre></li>
<li><pre><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">exec&nbsp;</span><span class="str">&quot;$prog_to_run&quot;</span>&nbsp;<span class="str">&quot;$&#64;&quot;</span></pre></li>
<li><pre><span class="kwa">fi</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2F4ELl-1" href="#NW0-2F4ELl-1"><dfn>&lt;(build.nw) Script Executables&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>runit&nbsp;\</pre></li>
</ol></ol>
<p>

<h2><a name=toc4>Logging</a></h2>
<p>
One way to deal with logs is to not deal with them, and instead just dump
errors to standard error.  While a simple <code>perror</code>(3) would be enough
(with some extra text from application libraries), the slightly more complex
ClearSilver<sup><a href="#fn4">4</a></sup>
 error facility could be used instead.  This provides a
partial traceback with little extra effort. As with any method that passes
around error messages rather than error codes, though, it will be hard to
translate things into a different language.  It will also be hard to
distinguish between different errors unless separate error codes are used.
<p>

<p><pre class="dfn"><a name="NW0-1mOMve-3" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-1mOMve-2">&lt;-</a>D<a href="#NW0-1mOMve-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;&lt;time.h&gt;&nbsp;</span><span class="com">/*&nbsp;for&nbsp;-Wshadow&nbsp;*/</span><span class="ppc"></span></pre></li>
<li><pre><span class="ppc">#define&nbsp;timezone&nbsp;time_zone&nbsp;</span><span class="com">/*&nbsp;for&nbsp;-Wshadow&nbsp;*/</span><span class="ppc"></span></pre></li>
<li><pre><span class="ppc">#include&nbsp;&lt;ClearSilver.h&gt;</span></pre></li>
<li><pre><span class="ppc">#include&nbsp;</span><span class="pps">&quot;cs_supt.h&quot;</span><span class="ppc"></span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1eDegd-1" href="#NW0-1eDegd-1"><dfn>&lt;cs_supt.h&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#ifndef&nbsp;_CS_SUPT_H</span></pre></li>
<li><pre><span class="ppc">#define&nbsp;_CS_SUPT_H</span></pre></li>
<li><pre><span class="opt"><a name="NW0-1eDegd-1-u1" href="#NW0-4R7VR1-1"><i>&lt;ClearSilver Support Globals&gt;</i></a></span></pre></li>
<li><pre><span class="ppc">#endif&nbsp;</span><span class="com">/*&nbsp;_CS_SUPT_H&nbsp;*/</span><span class="ppc"></span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4R7VR1-1" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[D<a href="#NW0-4R7VR1-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwc">extern&nbsp;</span><span class="kwb">NERR_TYPE&nbsp;</span>GENERIC_ERR<span class="opt">;</span></pre></li>
<li><pre><span class="ppc">#ifdef&nbsp;__GNUC__</span></pre></li>
<li><pre><span class="ppc">#define&nbsp;unused_attr&nbsp;__attribute__((__unused__))</span></pre></li>
<li><pre><span class="ppc">#else</span></pre></li>
<li><pre><span class="ppc">#define&nbsp;unused_attr</span></pre></li>
<li><pre><span class="ppc">#endif</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4IhMOG-2" href="#NW0-4IhMOG-1"><dfn>&lt;(build.nw) Known Data Types&gt;+=</dfn></a> <b>[<a href="#NW0-4IhMOG-1">&lt;-</a>D<a href="#NW0-4IhMOG-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">unused_attr</span><span class="opt">,%</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1PCVPm-1" href="#NW0-1PCVPm-1"><dfn>&lt;Library <code>cs-supt</code> Members&gt;=</dfn></a> <b>[D<a href="#NW0-1PCVPm-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>cs_supt<span class="opt">.</span>o</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-1" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;=</dfn></a> <b>[D<a href="#NW0-3if92p-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt"><a name="NW0-3if92p-1-u1" href="#NW0-3oc1l6-1"><i>&lt;(build.nw) Common C Header&gt;</i></a></span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">NERR_TYPE&nbsp;</span>GENERIC_ERR&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4eC0tT-1" href="#NW0-4eC0tT-1"><dfn>&lt;Common Mainline Variables&gt;=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="kwb">unused_attr&nbsp;</span><span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="kwb">int&nbsp;</span>ret&nbsp;<span class="kwb">unused_attr&nbsp;</span><span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-32SPhC-1" href="#NW0-32SPhC-1"><dfn>&lt;Initialize logging&gt;=</dfn></a> <b>(<a href="#NW0-2MiCsZ-1">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>progname&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strrchr</span><span class="opt">(</span>argv<span class="opt">[</span><span class="num">0</span><span class="opt">],&nbsp;</span><span class="str">'/'</span><span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>progname<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;progname&nbsp;<span class="opt">=&nbsp;</span>argv<span class="opt">[</span><span class="num">0</span><span class="opt">];</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;progname<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">g_set_prgname</span><span class="opt">(</span>progname<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre>nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_init</span><span class="opt">();</span></pre></li>
<li><pre><span class="kwd">die_if_err</span><span class="opt">(</span>nerr<span class="opt">);&nbsp;</span><span class="com">/*&nbsp;out&nbsp;of&nbsp;memory&nbsp;-&nbsp;pretty&nbsp;fatal&nbsp;*/</span></pre></li>
<li><pre><span class="kwd">nerr_register</span><span class="opt">(&amp;</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="kwd">g_get_prgname</span><span class="opt">());</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4R7VR1-2" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-1">&lt;-</a>D<a href="#NW0-4R7VR1-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#define&nbsp;die_if_err(err)&nbsp;do&nbsp;{&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>_err&nbsp;<span class="opt">=&nbsp;</span>err<span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>_err&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_log_error</span><span class="opt">(</span>_err<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exit</span><span class="opt">(</span><span class="num">1</span><span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span>\</pre></li>
<li><pre><span class="opt">}&nbsp;</span><span class="kwa">while</span><span class="opt">(</span><span class="num">0</span><span class="opt">)</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;nerr_raise_msg(msg)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_raise</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>msg<span class="opt">)</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;die_msg(msg)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span>msg<span class="opt">))</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;nerr_raise_msg_errno(msg)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_raise_errno</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>msg<span class="opt">)</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;die_errno(msg)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span>msg<span class="opt">))</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;nerr_raise_errno_local(msg,&nbsp;err)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_raise</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;%s:&nbsp;[%d]&nbsp;%s&quot;</span><span class="opt">,&nbsp;</span>msg<span class="opt">,&nbsp;</span>err<span class="opt">,&nbsp;</span><span class="kwd">strerror</span><span class="opt">(</span>err<span class="opt">))</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;die_errno_local(msg,&nbsp;err)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwd">nerr_raise_errno_local</span><span class="opt">(</span>msg<span class="opt">,&nbsp;</span>err<span class="opt">))</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;nerr_op(op)&nbsp;do&nbsp;{&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span>op<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre><span class="opt">}&nbsp;</span><span class="kwa">while</span><span class="opt">(</span><span class="num">0</span><span class="opt">)</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;nerr_op_ok(op)&nbsp;(nerr&nbsp;==&nbsp;STATUS_OK&nbsp;&amp;&amp;&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">(</span>nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span>op<span class="opt">))&nbsp;==&nbsp;</span>STATUS_OK<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3a9iNE-1" href="#NW0-3a9iNE-1"><dfn>&lt;(build.nw) C Prototypes&gt;=</dfn></a> <b>[D<a href="#NW0-3a9iNE-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>err<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>msg<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">die_msg</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>msg<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>msg<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">die_errno</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>msg<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">nerr_raise_errno_local</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>msg<span class="opt">,&nbsp;</span><span class="kwb">int&nbsp;</span>err<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">die_errno_local</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>msg<span class="opt">,&nbsp;</span><span class="kwb">int&nbsp;</span>err<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>op<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">gboolean&nbsp;</span><span class="kwd">nerr_op_ok</span><span class="opt">(</span><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>op<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-zd3Em-1" href="#NW0-zd3Em-1"><dfn>&lt;Convert <code>nerr</code> to <code>err_str</code>&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">STRING&nbsp;</span>err_str<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwd">string_init</span><span class="opt">(&amp;</span>err_str<span class="opt">);</span></pre></li>
<li><pre><span class="kwd">nerr_error_traceback</span><span class="opt">(</span>nerr<span class="opt">,&nbsp;&amp;</span>err_str<span class="opt">);</span></pre></li>
<li><pre><span class="kwd">nerr_ignore</span><span class="opt">(&amp;</span>nerr<span class="opt">);</span></pre></li>
</ol></ol>
<p>

A few GLib functions actually do return error codes (<code>GError *</code>), in which
case a macro can be used to convert that into a ClearSilver error.
<p>
<pre class="dfn"><a name="NW0-4R7VR1-3" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-2">&lt;-</a>D<a href="#NW0-4R7VR1-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#define&nbsp;gerr_to_nerr(gerr)&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">((</span>gerr<span class="opt">)&nbsp;</span>?&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_raise</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;%s/%d:&nbsp;%s&quot;</span><span class="opt">,&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_quark_to_string</span><span class="opt">((</span>gerr<span class="opt">)-&gt;</span>domain<span class="opt">),&nbsp;(</span>gerr<span class="opt">)-&gt;</span>code<span class="opt">,&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">(</span>gerr<span class="opt">)-&gt;</span>message<span class="opt">)&nbsp;:&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;STATUS_OK<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3a9iNE-2" href="#NW0-3a9iNE-1"><dfn>&lt;(build.nw) C Prototypes&gt;+=</dfn></a> <b>[<a href="#NW0-3a9iNE-1">&lt;-</a>D<a href="#NW0-3a9iNE-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">gerr_to_nerr</span><span class="opt">(</span><span class="kwb">const&nbsp;GError&nbsp;</span><span class="opt">*</span>gerr<span class="opt">);</span></pre></li>
</ol></ol>
<p>

Actually building with ClearSilver requires knowledge of the library
location.  This cannot be obtained by pkg-config, so it is an overridable
make variable.
<p>

<p><pre class="dfn"><a name="NW0-3DeDMu-1" href="#NW0-3DeDMu-1"><dfn>&lt;(build.nw) makefile.config&gt;=</dfn></a> <b>[D<a href="#NW0-3DeDMu-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#&nbsp;Where&nbsp;to&nbsp;find&nbsp;ClearSilver</span></pre></li>
<li><pre>CLEARSILVER_CFLAGS<span class="opt">=-</span>I<span class="opt">/</span>usr<span class="opt">/</span>include<span class="opt">/</span>ClearSilver&nbsp;<span class="opt">-</span>I<span class="opt">/</span>usr<span class="opt">/</span>local<span class="opt">/</span>include<span class="opt">/</span>ClearSilver</pre></li>
<li><pre>CLEARSILVER_LDFLAGS<span class="opt">=-</span>L<span class="opt">/</span>usr<span class="opt">/</span>local<span class="opt">/</span>lib&nbsp;<span class="opt">-</span>lneo_cgi&nbsp;<span class="opt">-</span>lneo_cs&nbsp;<span class="opt">-</span>lneo_utl&nbsp;<span class="opt">-</span>lz</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-13PeAG-3" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-2">&lt;-</a>D<a href="#NW0-13PeAG-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>EXTRA_CFLAGS&nbsp;<span class="opt">+=&nbsp;</span>$<span class="opt">(</span>CLEARSILVER_CFLAGS<span class="opt">)</span></pre></li>
<li><pre>EXTRA_LDFLAGS&nbsp;<span class="opt">+=&nbsp;</span>$<span class="opt">(</span>CLEARSILVER_LDFLAGS<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<h2><a name=toc5>Configuration</a></h2>
<p>
Since GLib doesn't support configuration files until <i>2.6</i>, a different
library is used.  The ClearSilver library supports configuration files.  It
is also somewhat complex and poorly documented, but it is less complex and
better documented than some, and provides easy ways to override variables
and write out configuration files.
<p>
Configuration parameters for a program are always in a section of the
configuration file named after the program.  This allows a combined
configuration file for multiple programs, and since the entire file can be
prefixed with the program name fairly easily, it is no great burden on the
user.  If no configuration file is found, or an option has no entry in the
configuration file, a hard-coded default is used.
<p>
<pre class="dfn"><a name="NW0-4R7VR1-4" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-3">&lt;-</a>D<a href="#NW0-4R7VR1-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwc">extern&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>local_config<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;getconf(name,&nbsp;def)&nbsp;hdf_get_value(local_config,&nbsp;name,&nbsp;def)</span></pre></li>
<li><pre><span class="ppc">#define&nbsp;getconf_int(name,&nbsp;def)&nbsp;hdf_get_int64_value(local_config,&nbsp;name,&nbsp;def)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3a9iNE-3" href="#NW0-3a9iNE-1"><dfn>&lt;(build.nw) C Prototypes&gt;+=</dfn></a> <b>[<a href="#NW0-3a9iNE-2">&lt;-</a>D<a href="#NW0-3a9iNE-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span><span class="kwd">getconf</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>def<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">gint64&nbsp;</span><span class="kwd">getconf_int</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">,&nbsp;</span><span class="kwb">gint64&nbsp;</span>def<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-2" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-1">&lt;-</a>D<a href="#NW0-3if92p-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>local_config<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">gint64&nbsp;</span><span class="kwd">hdf_get_int64_value</span><span class="opt">(</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">,&nbsp;</span><span class="kwb">gint64&nbsp;</span>def<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>val&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_value</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>name<span class="opt">,&nbsp;</span>NULL<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gint64&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>val&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>val<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strtoll</span><span class="opt">(</span>val<span class="opt">,&nbsp;&amp;</span>s<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwd">nerr_raise</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;Expected&nbsp;integer&nbsp;for&nbsp;%s;&nbsp;got&nbsp;%s&quot;</span><span class="opt">,&nbsp;</span>name<span class="opt">,&nbsp;</span>val<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>def<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-3" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-2">&lt;-</a>D<a href="#NW0-3if92p-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">hdf_set_int64_value</span><span class="opt">(</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">,&nbsp;</span><span class="kwb">gint64&nbsp;</span>val<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span>nbuf<span class="opt">[</span><span class="num">22</span><span class="opt">];&nbsp;</span><span class="com">/*&nbsp;20&nbsp;+&nbsp;sign&nbsp;*/</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">snprintf</span><span class="opt">(</span>nbuf<span class="opt">,&nbsp;</span><span class="kwa">sizeof</span><span class="opt">(</span>nbuf<span class="opt">),&nbsp;</span><span class="str">&quot;%lld&quot;</span><span class="opt">,&nbsp;(</span><span class="kwb">long&nbsp;long</span><span class="opt">)</span>val<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>name<span class="opt">,&nbsp;</span>nbuf<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

The configuration file's name and location are application-dependent.  These
support routines just provide a simple way to read the known name.  Common
environment variables are provided to override the name: <code>CONFIG_ROOT</code>
just overrides the directory, and <code>CONFIG_FILE</code> overrides either the file
name or the entire path.  The default configuration path is determined by
the project name, although the default need not be used.
<p>

<p><pre class="dfn"><a name="NW0-3DeDMu-2" href="#NW0-3DeDMu-1"><dfn>&lt;(build.nw) makefile.config&gt;+=</dfn></a> <b>[<a href="#NW0-3DeDMu-1">&lt;-</a>D<a href="#NW0-3DeDMu-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#&nbsp;Installation&nbsp;directory&nbsp;for&nbsp;configuration&nbsp;files</span></pre></li>
<li><pre>ETC_DIR<span class="opt">=/</span>etc<span class="opt">/$(</span>PROJECT_NAME<span class="opt">)</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-13PeAG-4" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-3">&lt;-</a>D<a href="#NW0-13PeAG-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>EXTRA_CFLAGS&nbsp;<span class="opt">+=&nbsp;-</span>DETC_DIR<span class="opt">=</span><span class="str">'&quot;$(ETC_DIR)&quot;'</span>&nbsp;<span class="opt">-</span>DPROJECT_NAME<span class="opt">=</span><span class="str">'&quot;$(PROJECT_NAME)&quot;'</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-40yU4w-1" href="#NW0-40yU4w-1"><dfn>&lt;Default <code>config_root</code>&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>config_root&nbsp;<span class="opt">=&nbsp;</span>ETC_DIR<span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-10dbLy-1" href="#NW0-10dbLy-1"><dfn>&lt;Default <code>config_path</code>&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>config_path&nbsp;<span class="opt">=&nbsp;</span>PROJECT_NAME&nbsp;<span class="str">&quot;.conf&quot;</span><span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4R7VR1-5" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-4">&lt;-</a>D<a href="#NW0-4R7VR1-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="com">/*&nbsp;define&nbsp;in&nbsp;mainline&nbsp;*/</span></pre></li>
<li><pre><span class="kwc">extern&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>config_root<span class="opt">,&nbsp;*</span>config_path<span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2MiCsZ-1" href="#NW0-2MiCsZ-1"><dfn>&lt;Read configuration&gt;=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[D<a href="#NW0-2MiCsZ-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt"><a name="NW0-2MiCsZ-1-u1" href="#NW0-32SPhC-1"><i>&lt;Initialize logging&gt;</i></a></span></pre></li>
<li><pre><span class="kwd">env_override</span><span class="opt">(</span><span class="str">&quot;CONFIG_ROOT&quot;</span><span class="opt">,&nbsp;</span>config_root<span class="opt">);</span></pre></li>
<li><pre><span class="kwd">env_override</span><span class="opt">(</span><span class="str">&quot;CONFIG_FILE&quot;</span><span class="opt">,&nbsp;</span>config_path<span class="opt">);</span></pre></li>
<li><pre><span class="kwd">prepend_dir_if_relative</span><span class="opt">(</span>config_root<span class="opt">,&nbsp;</span>config_path<span class="opt">);</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*</span>config_file<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">hdf_init</span><span class="opt">(&amp;</span>config_file<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span>nerr<span class="opt">);&nbsp;</span><span class="com">/*&nbsp;out&nbsp;of&nbsp;memory&nbsp;-&nbsp;pretty&nbsp;fatal&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>p&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strdup</span><span class="opt">(</span>config_path<span class="opt">),&nbsp;*</span>s<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>p<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">die_errno</span><span class="opt">(</span><span class="str">&quot;initial&nbsp;setup&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strrchr</span><span class="opt">(</span>p<span class="opt">,&nbsp;</span><span class="str">'/'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>s<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span>p<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;.&quot;</span><span class="opt">;&nbsp;</span><span class="com">/*&nbsp;not&nbsp;modified&nbsp;any&nbsp;more&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>config_file<span class="opt">,&nbsp;</span><span class="str">&quot;hdf.loadpaths.conf&quot;</span><span class="opt">,&nbsp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>p<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span>nerr<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">hdf_read_file</span><span class="opt">(</span>config_file<span class="opt">,&nbsp;</span>config_path<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;ignore&nbsp;file&nbsp;not&nbsp;found&nbsp;--&nbsp;no&nbsp;config&nbsp;file&nbsp;means&nbsp;use&nbsp;default&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">nerr_match</span><span class="opt">(</span>nerr<span class="opt">,&nbsp;</span>NERR_NOT_FOUND<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span>nerr<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_ignore</span><span class="opt">(&amp;</span>nerr<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_get_node</span><span class="opt">(</span>config_file<span class="opt">,&nbsp;</span><span class="kwd">g_get_prgname</span><span class="opt">(),&nbsp;&amp;</span>local_config<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*</span>lp&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_obj</span><span class="opt">(</span>config_file<span class="opt">,&nbsp;</span><span class="str">&quot;hdf.loadpaths&quot;</span><span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>lp<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_copy</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span><span class="str">&quot;hdf.loadpaths&quot;</span><span class="opt">,&nbsp;</span>lp<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span>nerr<span class="opt">);&nbsp;</span><span class="com">/*&nbsp;out&nbsp;of&nbsp;memory&nbsp;*/</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4R7VR1-6" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-5">&lt;-</a>D<a href="#NW0-4R7VR1-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#define&nbsp;env_override(env,&nbsp;var)&nbsp;do&nbsp;{&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">getenv</span><span class="opt">((</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span>env<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>s<span class="opt">)&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;<span class="opt">=&nbsp;</span>s<span class="opt">;&nbsp;</span>\</pre></li>
<li><pre><span class="opt">}&nbsp;</span><span class="kwa">while</span><span class="opt">(</span><span class="num">0</span><span class="opt">)</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="ppc">#define&nbsp;prepend_dir_if_relative(def_dir,&nbsp;fn)&nbsp;do&nbsp;{&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">((</span>fn<span class="opt">)[</span><span class="num">0</span><span class="opt">]&nbsp;!=&nbsp;</span><span class="str">'/'</span><span class="opt">)&nbsp;{&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!(</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span><span class="kwd">strlen</span><span class="opt">(</span>def_dir<span class="opt">)&nbsp;+&nbsp;</span><span class="kwd">strlen</span><span class="opt">(</span>fn<span class="opt">)&nbsp;+&nbsp;</span><span class="num">2</span><span class="opt">)))&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">die_errno</span><span class="opt">(</span>fn<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">sprintf</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">&quot;%s/%s&quot;</span><span class="opt">,&nbsp;</span>def_dir<span class="opt">,&nbsp;</span>fn<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;<span class="opt">=&nbsp;</span>s<span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span>\</pre></li>
<li><pre><span class="opt">}&nbsp;</span><span class="kwa">while</span><span class="opt">(</span><span class="num">0</span><span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3a9iNE-4" href="#NW0-3a9iNE-1"><dfn>&lt;(build.nw) C Prototypes&gt;+=</dfn></a> <b>[<a href="#NW0-3a9iNE-3">&lt;-</a>D<a href="#NW0-3a9iNE-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">env_override</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>env<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*&amp;</span>var<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">prepend_dir_if_relative</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>def_dir<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*&amp;</span>fn<span class="opt">);</span></pre></li>
</ol></ol>
<p>

A sample commented configuration file should be provided.  The ClearSilver
documentation does not have a complete specification of the configuration
file syntax, so instead of pointing a user at a URL, the relevant parts of
the syntax are given as documentation at the top of the sample configuration
file.
<p>

<p><pre class="dfn"><a name="NW0-1KDse8-1" href="#NW0-1KDse8-1"><dfn>&lt;ClearSilver Configuration Documentation&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#&nbsp;The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;file&nbsp;is&nbsp;to&nbsp;assign&nbsp;values&nbsp;to&nbsp;keys.&nbsp;&nbsp;The&nbsp;last&nbsp;assignment</span></pre></li>
<li><pre><span class="slc">#&nbsp;to&nbsp;any&nbsp;key&nbsp;overrides&nbsp;all&nbsp;previous&nbsp;assignments.&nbsp;&nbsp;This&nbsp;file&nbsp;may&nbsp;provide</span></pre></li>
<li><pre><span class="slc">#&nbsp;configuration&nbsp;for&nbsp;multiple&nbsp;programs;&nbsp;each&nbsp;program's&nbsp;configuration&nbsp;is</span></pre></li>
<li><pre><span class="slc">#&nbsp;prefixed&nbsp;by&nbsp;its&nbsp;executable&nbsp;name.&nbsp;&nbsp;Use&nbsp;links&nbsp;to&nbsp;allow&nbsp;multiple&nbsp;executable</span></pre></li>
<li><pre><span class="slc">#&nbsp;names&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;configuration.</span></pre></li>
<li><pre><span class="slc">#&nbsp;File&nbsp;format:</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;Lines&nbsp;starting&nbsp;with&nbsp;#&nbsp;are&nbsp;comments,&nbsp;unless&nbsp;they&nbsp;are&nbsp;#include</span></pre></li>
<li><pre><span class="slc">#</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;#include&nbsp;&lt;name&gt;&nbsp;includes&nbsp;another&nbsp;file&nbsp;(&lt;name&gt;&nbsp;can&nbsp;have&nbsp;quotes&nbsp;around&nbsp;it)</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;include&nbsp;path,&nbsp;and&nbsp;want&nbsp;to&nbsp;use&nbsp;#include&nbsp;anywhere&nbsp;but</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;at&nbsp;the&nbsp;top&nbsp;level,&nbsp;add&nbsp;the&nbsp;following&nbsp;line&nbsp;in&nbsp;the&nbsp;same&nbsp;section&nbsp;as&nbsp;the</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;#include:</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;hdf&nbsp;:&nbsp;hdf</span></pre></li>
<li><pre><span class="slc">#</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;Keys&nbsp;are&nbsp;multiple&nbsp;level&nbsp;names,&nbsp;separated&nbsp;by&nbsp;dots:</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;Key&nbsp;level&nbsp;names&nbsp;are&nbsp;case-sensitive&nbsp;alphanumeric&nbsp;and&nbsp;underscores</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;A&nbsp;key&nbsp;level,&nbsp;followed&nbsp;by&nbsp;an&nbsp;open&nbsp;curly&nbsp;brace,&nbsp;starts&nbsp;a&nbsp;group</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;group,&nbsp;all&nbsp;entries&nbsp;are&nbsp;prefixed&nbsp;by&nbsp;the&nbsp;level&nbsp;before&nbsp;the&nbsp;brace</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;example:</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;{</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;...</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;...</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;the&nbsp;same&nbsp;as</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x.y&nbsp;...</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x.z&nbsp;...</span></pre></li>
<li><pre><span class="slc">#</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;Values&nbsp;can&nbsp;either&nbsp;be&nbsp;literal&nbsp;values,&nbsp;inline&nbsp;data,&nbsp;or&nbsp;other&nbsp;keys</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;Literal&nbsp;values&nbsp;are&nbsp;assigned&nbsp;with&nbsp;&lt;key&gt;&nbsp;=&nbsp;&lt;value&gt;&nbsp;(no&nbsp;escapes)</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;Inline&nbsp;data&nbsp;is&nbsp;assigned&nbsp;by&nbsp;&lt;key&gt;&nbsp;&lt;&lt;&nbsp;&lt;token&gt;</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;(literal&nbsp;data,&nbsp;no&nbsp;escapes,&nbsp;always&nbsp;includes&nbsp;a&nbsp;final&nbsp;newline)</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;token&gt;</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;A&nbsp;copy&nbsp;of&nbsp;another&nbsp;key's&nbsp;current&nbsp;value&nbsp;is&nbsp;created&nbsp;by&nbsp;&lt;key&gt;&nbsp;:=&nbsp;&lt;other&nbsp;key&gt;</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;A&nbsp;link&nbsp;to&nbsp;another&nbsp;key&nbsp;that&nbsp;tracks&nbsp;changes&nbsp;is&nbsp;created&nbsp;by&nbsp;&lt;key&gt;&nbsp;:&nbsp;&lt;other&nbsp;key&gt;</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;Numeric&nbsp;values&nbsp;are&nbsp;C-style&nbsp;decimal&nbsp;([1-9][0-9]*),&nbsp;octal&nbsp;(0[0-9]*)&nbsp;and</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;&nbsp;hexadecimal&nbsp;(0x[0-9a-fA-F]+).</span></pre></li>
<li><pre><span class="slc">#</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;Initial&nbsp;and&nbsp;trailing&nbsp;whitespace&nbsp;is&nbsp;ignored&nbsp;on&nbsp;all&nbsp;lines&nbsp;except&nbsp;inline&nbsp;data</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;Whitespace&nbsp;surrounding&nbsp;=,&nbsp;:=,&nbsp;:,&nbsp;&lt;&lt;,&nbsp;and&nbsp;{&nbsp;is&nbsp;ignored</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;Whenever&nbsp;key&nbsp;levels&nbsp;are&nbsp;sorted,&nbsp;they&nbsp;are&nbsp;interpreted&nbsp;as&nbsp;numbers&nbsp;first,&nbsp;if</span></pre></li>
<li><pre><span class="slc">#&nbsp;&nbsp;possible.&nbsp;&nbsp;Numbers&nbsp;always&nbsp;come&nbsp;before&nbsp;alphanumerics.</span></pre></li>
</ol></ol>
<p>

In order to support the multi-line literal syntax when using <code>notangle</code>,
the end of each multi-line literal must be shifted all the way to the left
margin.  For this build procedure, only <tt>EOV</tt> is supported as an end
token.
<p>

<p><pre class="dfn"><a name="NW0-13PeAG-5" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-4">&lt;-</a>D<a href="#NW0-13PeAG-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>HDF_FILES<span class="opt">=</span><a name="NW0-13PeAG-5-u1" href="#NW0-4HtCSg-1"><i>&lt;HDF Files&gt;</i></a></pre></li>
<li><pre></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2cwDGf-1" href="#NW0-2cwDGf-1"><dfn>&lt;(build.nw) Build Source&gt;=</dfn></a> <b>[D<a href="#NW0-2cwDGf-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">$(</span>HDF_FILES<span class="opt">)&nbsp;</span>\</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1zNc0p-1" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;=</dfn></a> <b>[D<a href="#NW0-1zNc0p-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>misc<span class="opt">:&nbsp;$(</span>HDF_FILES<span class="opt">)</span></pre></li>
<li><pre><span class="opt">$(</span>HDF_FILES<span class="opt">):&nbsp;$(</span>NOWEB_ORDER<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notangle&nbsp;<span class="opt">-</span>R<span class="opt">$</span>&#64;&nbsp;<span class="opt">$</span>^&nbsp;|&nbsp;sed&nbsp;<span class="str">'s/^&nbsp;*EOV/EOV/'</span>&nbsp;<span class="opt">&gt;&nbsp;$</span>&#64;</pre></li>
<li><pre><span class="kwa">distclean</span><span class="opt">:&nbsp;</span>cleanhdf</pre></li>
<li><pre>cleanhdf<span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">rm&nbsp;</span><span class="opt">-</span>f&nbsp;<span class="opt">$(</span>HDF_FILES<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1zNc0p-2" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-1">&lt;-</a>D<a href="#NW0-1zNc0p-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>misc<span class="opt">:&nbsp;$(</span>HDF_FILES<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4HtCSg-1" href="#NW0-4HtCSg-1"><dfn>&lt;HDF Files&gt;=</dfn></a> <b>(<a href="#NW0-13PeAG-5">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre>\</pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-33kkYH-1" href="#NW0-33kkYH-1"><dfn>&lt;(build.nw) Install other files&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>$<span class="opt">(</span><span class="kwa">if&nbsp;</span>$<span class="opt">(</span>HDF_FILES<span class="opt">),&nbsp;</span>\</pre></li>
<li><pre>mkdir&nbsp;<span class="opt">-</span>p&nbsp;$<span class="opt">(</span>DESTDIR<span class="opt">)</span>$<span class="opt">(</span>ETC_DIR<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre><span class="kwa">for&nbsp;</span>x&nbsp;<span class="kwa">in&nbsp;</span>$<span class="opt">(</span>HDF_FILES<span class="opt">);&nbsp;</span><span class="kwa">do&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwc">cp&nbsp;</span><span class="opt">-</span>p&nbsp;$<span class="kwd">$x&nbsp;</span>$<span class="opt">(</span>DESTDIR<span class="opt">)</span>$<span class="opt">(</span>ETC_DIR<span class="opt">)/</span>$<span class="kwd">${x}</span>.sample<span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">test&nbsp;</span><span class="opt">-</span>f&nbsp;$<span class="opt">(</span>DESTDIR<span class="opt">)</span>$<span class="opt">(</span>ETC_DIR<span class="opt">)/</span>$<span class="kwd">${x}&nbsp;</span>||&nbsp;<span class="kwc">cp&nbsp;</span><span class="opt">-</span>p&nbsp;$<span class="kwd">$x&nbsp;</span>$<span class="opt">(</span>DESTDIR<span class="opt">)</span>$<span class="opt">(</span>ETC_DIR<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre><span class="kwa">done</span><span class="opt">)</span></pre></li>
</ol></ol>
<p>

The sorting mentioned in the commentary above is implemented by a comparison
function for <code>hdf_sort_obj</code>.
<p>

<p><pre class="dfn"><a name="NW0-4R7VR1-7" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-6">&lt;-</a>D<a href="#NW0-4R7VR1-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="com">/*&nbsp;These&nbsp;type&nbsp;names&nbsp;are&nbsp;too&nbsp;long,&nbsp;so&nbsp;here's&nbsp;shorter&nbsp;versions&nbsp;*/</span></pre></li>
<li><pre><span class="kwc">typedef&nbsp;</span><span class="kwb">long&nbsp;long&nbsp;llong</span><span class="opt">;</span></pre></li>
<li><pre><span class="kwc">typedef&nbsp;</span><span class="kwb">unsigned&nbsp;long&nbsp;long&nbsp;ullong</span><span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4IhMOG-3" href="#NW0-4IhMOG-1"><dfn>&lt;(build.nw) Known Data Types&gt;+=</dfn></a> <b>[<a href="#NW0-4IhMOG-2">&lt;-</a>D<a href="#NW0-4IhMOG-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">ullong</span><span class="opt">,</span><span class="kwb">llong</span><span class="opt">,%</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-4" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-3">&lt;-</a>D<a href="#NW0-3if92p-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">int&nbsp;</span><span class="kwd">comp_hdf_name</span><span class="opt">(</span><span class="kwb">const&nbsp;void&nbsp;</span><span class="opt">*</span>_a<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;void&nbsp;</span><span class="opt">*</span>_b<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*&nbsp;</span><span class="kwb">const&nbsp;</span><span class="opt">*</span>a&nbsp;<span class="opt">=&nbsp;</span>_a<span class="opt">,&nbsp;*&nbsp;</span><span class="kwb">const&nbsp;</span><span class="opt">*</span>b&nbsp;<span class="opt">=&nbsp;</span>_b<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>na&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_name</span><span class="opt">(*</span>a<span class="opt">),&nbsp;*</span>nb&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_name</span><span class="opt">(*</span>b<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>ea<span class="opt">,&nbsp;*</span>eb<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">ullong&nbsp;</span>la<span class="opt">,&nbsp;</span>lb<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>c<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;empty&nbsp;should&nbsp;never&nbsp;happen,&nbsp;but&nbsp;comes&nbsp;first&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>na&nbsp;<span class="opt">&amp;&amp;&nbsp;!*</span>nb<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>na<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="opt">-</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>nb<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;next&nbsp;come&nbsp;pure&nbsp;numbers&nbsp;(C-style&nbsp;dec,&nbsp;hex,&nbsp;oct)&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;la&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strtoll</span><span class="opt">(</span>na<span class="opt">,&nbsp;&amp;</span>ea<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;lb&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strtoll</span><span class="opt">(</span>nb<span class="opt">,&nbsp;&amp;</span>eb<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>ea&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>eb<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="opt">-</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>eb&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>ea<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;can't&nbsp;just&nbsp;return&nbsp;la&nbsp;-&nbsp;lb,&nbsp;since&nbsp;they're&nbsp;not&nbsp;int&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;also,&nbsp;don't&nbsp;want&nbsp;different&nbsp;number&nbsp;formats&nbsp;to&nbsp;sort&nbsp;randomly&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>ea<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>la&nbsp;<span class="opt">&lt;&nbsp;</span>lb<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="opt">-</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(</span>la&nbsp;<span class="opt">&gt;&nbsp;</span>lb<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;then&nbsp;comes&nbsp;strcasecmp()&nbsp;(somewhat&nbsp;locale-sensitive)&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;c&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strcasecmp</span><span class="opt">(</span>na<span class="opt">,&nbsp;</span>nb<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>c<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>c<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;finally,&nbsp;strcmp&nbsp;ensures&nbsp;that&nbsp;the&nbsp;case-sensitive&nbsp;names&nbsp;are&nbsp;not&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;shuffled&nbsp;by&nbsp;strcasecmp&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">strcmp</span><span class="opt">(</span>na<span class="opt">,&nbsp;</span>nb<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

A few additional convenience functions for hierarchical parameters are
provided, as well.
<p>
<pre class="dfn"><a name="NW0-4R7VR1-8" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-7">&lt;-</a>D<a href="#NW0-4R7VR1-9">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#define&nbsp;getconf_first(name)&nbsp;hdf_first_child(local_config,&nbsp;name)</span></pre></li>
<li><pre><span class="ppc">#define&nbsp;getconf_first_sorted(name)&nbsp;hdf_first_child_sort(local_config,&nbsp;name)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3a9iNE-5" href="#NW0-3a9iNE-1"><dfn>&lt;(build.nw) C Prototypes&gt;+=</dfn></a> <b>[<a href="#NW0-3a9iNE-4">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">HDF&nbsp;</span><span class="opt">*</span><span class="kwd">getconf_first</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">);</span></pre></li>
<li><pre><span class="kwb">HDF&nbsp;</span><span class="opt">*</span><span class="kwd">getconf_first_sorted</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-5" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-4">&lt;-</a>D<a href="#NW0-3if92p-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">HDF&nbsp;</span><span class="opt">*</span><span class="kwd">hdf_first_child</span><span class="opt">(</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!(</span>hdf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_obj</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>name<span class="opt">)))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>hdf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">hdf_obj_child</span><span class="opt">(</span>hdf<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">HDF&nbsp;</span><span class="opt">*</span><span class="kwd">hdf_first_child_sort</span><span class="opt">(</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!(</span>hdf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_obj</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>name<span class="opt">)))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>hdf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">hdf_sort_obj</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>comp_hdf_name<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">hdf_obj_child</span><span class="opt">(</span>hdf<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">gint64&nbsp;</span><span class="kwd">getconf_hier_int</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>parent<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>obj<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">gint64&nbsp;</span>def<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>val&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_value</span><span class="opt">(</span>obj<span class="opt">,&nbsp;</span>name<span class="opt">,&nbsp;</span>NULL<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gint64&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>val&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>val<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strtoll</span><span class="opt">(</span>val<span class="opt">,&nbsp;&amp;</span>s<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwd">nerr_raise</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;Expected&nbsp;integer&nbsp;for&nbsp;%s.%s.%s;&nbsp;got&nbsp;%s&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent<span class="opt">,&nbsp;</span><span class="kwd">hdf_obj_name</span><span class="opt">(</span>obj<span class="opt">),&nbsp;</span>name<span class="opt">,&nbsp;</span>val<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>def<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Command-line options of the form <em>var</em><tt>=</tt><em>val</em> can be used
to override configuration options from the file and defaults, where
<em>var</em> is the configuration parameter name under the local section, and
<em>val</em> is the value.  Additional configuration files, which, like the
command-line overrides, are overrides for the command-specific options, can
be given on the command-line by prefixing the file name with a colon
(<tt>:</tt>).  Standard input can be specified using a dash (<tt>:-</tt>).
Invalid options cause the command-line help to appear.
<p>
<pre class="dfn"><a name="NW0-2MiCsZ-2" href="#NW0-2MiCsZ-1"><dfn>&lt;Read configuration&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-2MiCsZ-1">&lt;-</a>D<a href="#NW0-2MiCsZ-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">while</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>argc&nbsp;<span class="opt">&gt;&nbsp;</span><span class="num">1</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>vn<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;argc<span class="opt">--;</span></pre></li>
<li><pre>&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;*++</span>argv<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">':'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>s<span class="opt">[</span><span class="num">1</span><span class="opt">])&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'-'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;!</span>s<span class="opt">[</span><span class="num">1</span><span class="opt">])&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>cfile&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">g_string_fgets</span><span class="opt">(&amp;</span>cfile<span class="opt">,&nbsp;</span>cfile&nbsp;?&nbsp;cfile<span class="opt">-&gt;</span>len&nbsp;<span class="opt">:&nbsp;</span><span class="num">0</span><span class="opt">,&nbsp;</span>stdin<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_read_string</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span>cfile<span class="opt">-&gt;</span>str<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_free</span><span class="opt">(</span>cfile<span class="opt">,&nbsp;</span>TRUE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_read_file</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_log_error</span><span class="opt">(</span>nerr<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">help</span><span class="opt">();</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">continue</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">isalpha</span><span class="opt">(*</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">help</span><span class="opt">();</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isalnum</span><span class="opt">(*</span>s<span class="opt">)&nbsp;||&nbsp;*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'_'</span>&nbsp;<span class="opt">||&nbsp;*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'.'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'='</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">help</span><span class="opt">();</span></pre></li>
<li><pre>&nbsp;&nbsp;vn&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strdup</span><span class="opt">(*</span>argv<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;vn<span class="opt">[(</span><span class="kwb">int</span><span class="opt">)(</span>s&nbsp;<span class="opt">-&nbsp;*</span>argv<span class="opt">)]&nbsp;=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span>vn<span class="opt">,&nbsp;</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>vn<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{&nbsp;</span><span class="com">/*&nbsp;out&nbsp;of&nbsp;memory&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_log_error</span><span class="opt">(</span>nerr<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">exit</span><span class="opt">(</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

The default help consists mostly of the appropriate section from the default
configuration file with the keyword/value pairs uncommented.  This is
inserted into the C file as string literals after being extracted from the
NoWeb file.  The actual text to extract consists of two chunks:
<code><a href="#nw@notdef"><i>&lt;<code><program></code> Description&gt;</i></a></code>, which is a one-line
description, and <code><a href="#nw@notdef"><i>&lt;<code><program></code> Configuration&gt;</i></a></code>, which is the
contents of the program-specific configuration file section.
<p>
<pre class="dfn"><a name="NW0-2wWAcQ-1" href="#NW0-2wWAcQ-1"><dfn>&lt;Help Function&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">help</span><span class="opt">(</span><span class="kwb">void</span><span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">fprintf</span><span class="opt">(</span>stderr<span class="opt">,&nbsp;</span><span class="str">&quot;%s:&nbsp;__PROGDESC__</span><span class="esc">\n\n</span><span class="str">&quot;</span><span class="opt">,&nbsp;</span><span class="kwd">g_get_prgname</span><span class="opt">());</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">fprintf</span><span class="opt">(</span>stderr<span class="opt">,&nbsp;</span><span class="str">&quot;Usage:&nbsp;%s&nbsp;[&lt;keyword&gt;=&lt;value&gt;|:&lt;file&gt;&nbsp;...]</span><span class="esc">\n\n</span><span class="str">&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">&quot;:&lt;file&gt;&nbsp;specifies&nbsp;parameters&nbsp;to&nbsp;be&nbsp;read&nbsp;from&nbsp;a&nbsp;file&nbsp;&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">&quot;(-&nbsp;=&nbsp;standard&nbsp;input),</span><span class="esc">\n</span><span class="str">&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;per&nbsp;line;&nbsp;see&nbsp;default&nbsp;configuration&nbsp;file&nbsp;&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">&quot;for&nbsp;additional&nbsp;syntax</span><span class="esc">\n\n</span><span class="str">&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">&quot;Supported&nbsp;keywords&nbsp;and&nbsp;their&nbsp;built-in&nbsp;defaults:</span><span class="esc">\n\n</span><span class="str">&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__OPTIONS__<span class="opt">,&nbsp;</span><span class="kwd">g_get_prgname</span><span class="opt">());</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">fprintf</span><span class="opt">(</span>stderr<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\n</span><span class="str">Version&nbsp;ID:</span><span class="esc">\n</span><span class="str">%s&quot;</span><span class="opt">,&nbsp;</span>version_id<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">exit</span><span class="opt">(</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-13PeAG-6" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-5">&lt;-</a>D<a href="#NW0-13PeAG-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>C_POSTPROCESS<span class="opt">+=&nbsp;</span>|&nbsp;\</pre></li>
<li><pre>sed&nbsp;<span class="str">&quot;s~__PROGDESC__~`&nbsp;\</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;notangle&nbsp;-R'[[$*]]&nbsp;Description'&nbsp;$(NOWEB_ORDER)&nbsp;2&gt;/dev/null&nbsp;||&nbsp;echo`~&quot;</span>&nbsp;|&nbsp;\</pre></li>
<li><pre>sed&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">&quot;/__OPTIONS__/{s/__OPTIONS__//;i</span><span class="esc">\\</span><span class="str">`&nbsp;\</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;(notangle&nbsp;-R'[[$*]]&nbsp;Configuration'&nbsp;$(NOWEB_ORDER)&nbsp;2&gt;/dev/null&nbsp;||&nbsp;echo)&nbsp;|&nbsp;\</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;sed&nbsp;-e&nbsp;'/^&nbsp;*\#[^&nbsp;].*&nbsp;=/{s/\#//;s/&nbsp;=&nbsp;*/=/;};'&nbsp;\</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e&nbsp;'/^&nbsp;*\#[^&nbsp;].*&nbsp;{$$/s/\#//;s/\#}$$/}/;'&nbsp;\</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e&nbsp;'s/&quot;</span><span class="opt">/</span><span class="esc">\\\\\\\\\&quot;</span><span class="opt">/</span>g<span class="opt">;</span>s<span class="opt">/%/%%/</span>g<span class="opt">;</span>s<span class="opt">/</span>^<span class="opt">/</span><span class="esc">\&quot;</span><span class="opt">/;</span>s<span class="opt">/</span>\<span class="opt">$$/</span><span class="esc">\\\\\\\\</span>n<span class="str">&quot;</span><span class="esc">\\\\</span><span class="str">/'&nbsp;\</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e&nbsp;'\$${s/</span><span class="esc">\\\\</span><span class="str">\$$//;s/\$$/</span><span class="esc">\\</span><span class="str">n}/;}'`&quot;</span></pre></li>
</ol></ol>
<p>

The first parameter is actually not intended to be documented in the default
configuration file.  Setting <code>debug</code> is for debugging during development
only.
<p>

<p><pre class="dfn"><a name="NW0-3if92p-6" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-5">&lt;-</a>D<a href="#NW0-3if92p-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">int&nbsp;</span>debug<span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4R7VR1-9" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-8">&lt;-</a>D<a href="#NW0-4R7VR1-A">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwc">extern&nbsp;</span><span class="kwb">int&nbsp;</span>debug<span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2MiCsZ-3" href="#NW0-2MiCsZ-1"><dfn>&lt;Read configuration&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-2MiCsZ-2">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre>debug&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">getconf_int</span><span class="opt">(</span><span class="str">&quot;debug&quot;</span><span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
</ol></ol>
<p>

One issue with the in-memory configuration file format is that string
comparisons must be done repeatedly on parameter names.  There is not really
anything that can be done about it, though, other than to save the results
of one lookup in a local variable.  Along the same lines, no place is
provided to store an integral interpretation of the string value, either,
except for the internally reserved field for actual integers.  However,
these could still be stored elsewhere.  In order to help convert strings to
integers, either something like a constant <code>GStringChunk</code> could be used,
which would unfortunately double the string storage requirements, or, if the
list of possible strings is known at compile time, a perfect hash function
could be used to just convert it to an enumeration.
<p>
The following uses
<code>gperf</code><sup><a href="#fn5">5</a></sup> to convert
strings to numbers.  This requires a few makefile modifications to generate
the code appropriately.
<!-- Begin-doc gperf-supt-->
The strings to hash are specified in chunk names like
<em>prefix</em>-gperf-<em>suffix</em>.  Strings are separated by newlines or
single spaces; commas and spaces are not allowed in the strings.  The
<em>prefix</em> is the base name of the output files; the C code is generated
in <em>prefix</em>.c.gperf, and the enumerations are built in
<em>prefix</em>.h.gperf.  These should be included directly in the C and
header files that use them.  Each unique <em>suffix</em> generates a different
hash function and enumeration type.  The enumeration type is named
<em>suffix</em><code>_t</code>, and the hash lookup function is named
<em>suffix</em><code>_id</code>.  The <em>suffix</em> must be a valid C identifier.  The
enumeration identifiers are called <em>SUFFIX</em><code>_</code><em>STRING</em>, where
<em>SUFFIX</em> is <em>suffix</em> converted to upper-case, and <em>STRING</em> is
the string with all alphabetic characters in upper-case and all
non-alphanumeric characters converted to underscores.  This means that
strings differing only in case or special characters cannot coexist in the
same hash table.  One additional enumeration literal,
<code>UNKNOWN_</code><em>SUFFIX</em>, is given the value zero, which is returned if the
string is not found.  The only option which may be set is case-sensitivity.
A case-insensitive hash can be generated by using -gperf-nc- instead of
-gperf-; the nc- part is not considered to be part of the <em>suffix</em>.
<!-- End-doc gperf-supt-->
Note that the use of <code>\U</code> to do the upper-case conversions is a GNU sed
extension.
<p>
<pre class="dfn"><a name="NW0-4R7VR1-A" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-9">&lt;-</a>D<a href="#NW0-4R7VR1-B">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">struct&nbsp;gperf_name_id&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>name<span class="opt">,&nbsp;</span>id<span class="opt">;</span></pre></li>
<li><pre><span class="opt">};</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4IhMOG-4" href="#NW0-4IhMOG-1"><dfn>&lt;(build.nw) Known Data Types&gt;+=</dfn></a> <b>[<a href="#NW0-4IhMOG-3">&lt;-</a>D<a href="#NW0-4IhMOG-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">gperf_name_id</span><span class="opt">,%</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-13PeAG-7" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-6">&lt;-</a>D<a href="#NW0-13PeAG-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>GPERF_PREFIX<span class="opt">:=$(</span><span class="kwa">shell&nbsp;</span><span class="opt">$(</span>NOROOTS<span class="opt">)&nbsp;$(</span>NOWEB_ORDER<span class="opt">)&nbsp;</span>|&nbsp;tr&nbsp;<span class="opt">-</span>d&nbsp;<span class="str">'&lt;&gt;'</span>&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fgrep&nbsp;<span class="opt">--&nbsp;-</span>gperf-&nbsp;|&nbsp;sed&nbsp;<span class="str">'s/-gperf-.*//'</span>&nbsp;|&nbsp;<span class="kwa">sort&nbsp;</span><span class="opt">-</span>u<span class="opt">)</span></pre></li>
<li><pre>GPERF_C&nbsp;<span class="opt">:=&nbsp;$(</span>GPERF_PREFIX<span class="opt">:%=%</span>.c.gperf<span class="opt">)</span></pre></li>
<li><pre>GPERF_H&nbsp;<span class="opt">:=&nbsp;$(</span>GPERF_PREFIX<span class="opt">:%=%</span>.h.gperf<span class="opt">)</span></pre></li>
<li><pre>GPERF_FILES&nbsp;<span class="opt">:=&nbsp;$(</span>GPERF_H<span class="opt">)&nbsp;$(</span>GPERF_C<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2NkXQr-1" href="#NW0-2NkXQr-1"><dfn>&lt;(build.nw) Clean temporary files&gt;=</dfn></a> <b>[D<a href="#NW0-2NkXQr-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">rm&nbsp;</span><span class="opt">-</span>f&nbsp;<span class="opt">$(</span>GPERF_FILES<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1zNc0p-3" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-2">&lt;-</a>D<a href="#NW0-1zNc0p-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">$(</span>GPERF_C<span class="opt">):&nbsp;$(</span>NOWEB_ORDER<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#64;<span class="slc">#&nbsp;This&nbsp;for&nbsp;loop&nbsp;is&nbsp;a&nbsp;replacemnt&nbsp;for&nbsp;just&nbsp;setting&nbsp;root=&nbsp;to&nbsp;avoid</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#64;<span class="slc">#&nbsp;makepp&nbsp;stupidity&nbsp;(otherwise&nbsp;it&nbsp;adds&nbsp;root's&nbsp;value&nbsp;as&nbsp;dep)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#64;<span class="slc">#root=$(&#64;:%.c.gperf=%)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;root&nbsp;in&nbsp;<span class="opt">$(</span>&#64;<span class="opt">:%</span>.c.gperf<span class="opt">=%);&nbsp;</span>do&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;noroots&nbsp;<span class="opt">$(</span>NOWEB_ORDER<span class="opt">)&nbsp;</span>|&nbsp;tr&nbsp;<span class="opt">-</span>d&nbsp;<span class="str">'&lt;&gt;'</span>&nbsp;|&nbsp;grep&nbsp;\^<span class="opt">$${</span><span class="kwc">root</span><span class="opt">}-</span>gperf-&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;read&nbsp;r<span class="opt">;&nbsp;</span>do&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n<span class="opt">=$${</span>r<span class="slc">#$${root}-gperf-};&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nc<span class="opt">=;&nbsp;</span>case&nbsp;<span class="opt">$</span><span class="kwd">$n&nbsp;</span>in&nbsp;nc-<span class="opt">*)&nbsp;</span>nc<span class="opt">=--</span>ignore-case<span class="opt">;&nbsp;</span>n<span class="opt">=$${</span>n<span class="slc">#nc-}&nbsp;;;&nbsp;esac&nbsp;;&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">(</span>notangle&nbsp;<span class="opt">-</span>Rgperf-prefix&nbsp;<span class="opt">$(</span>NOWEB_ORDER<span class="opt">)&nbsp;;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notangle&nbsp;<span class="opt">-</span>R<span class="opt">$</span><span class="kwd">$r&nbsp;</span><span class="opt">$(</span>NOWEB_ORDER<span class="opt">)&nbsp;</span>|&nbsp;tr&nbsp;\&nbsp;&nbsp;<span class="esc">\\</span>n&nbsp;|&nbsp;<span class="kwa">sort&nbsp;</span><span class="opt">-</span>u&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sed&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">&quot;h;s/^/$${n}_/;s/.*/</span><span class="esc">\\</span><span class="str">U</span><span class="esc">\\</span><span class="str">0/;s/[^A-Z0-9</span><span class="esc">\\</span><span class="str">n]/_/g;s/^/,/;H;g&quot;</span>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">&quot;s/</span><span class="esc">\\</span><span class="str">n//&quot;</span><span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<span class="opt">%%;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notangle&nbsp;<span class="opt">-</span>R<span class="str">'Actual&nbsp;gperf&nbsp;lookup&nbsp;function'</span>&nbsp;<span class="opt">$(</span>NOWEB_ORDER<span class="opt">))&nbsp;</span>|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gperf&nbsp;<span class="opt">$</span><span class="kwd">$nc</span>|&nbsp;sed&nbsp;<span class="str">&quot;s/__GPERF_NAME__/$${n}/g&quot;</span><span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done&nbsp;<span class="opt">&gt;$</span>&#64;<span class="opt">;&nbsp;</span>done</pre></li>
<li><pre></pre></li>
<li><pre><span class="opt">$(</span>GPERF_H<span class="opt">):&nbsp;$(</span>NOWEB_ORDER<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#64;<span class="slc">#&nbsp;This&nbsp;for&nbsp;loop&nbsp;is&nbsp;a&nbsp;replacemnt&nbsp;for&nbsp;just&nbsp;setting&nbsp;root=&nbsp;to&nbsp;avoid</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#64;<span class="slc">#&nbsp;makepp&nbsp;stupidity&nbsp;(otherwise&nbsp;it&nbsp;adds&nbsp;root's&nbsp;value&nbsp;as&nbsp;dep)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#64;<span class="slc">#root=$(&#64;:%.h.gperf=%)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;root&nbsp;in&nbsp;<span class="opt">$(</span>&#64;<span class="opt">:%</span>.h.gperf<span class="opt">=%);&nbsp;</span>do&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;noroots&nbsp;<span class="opt">$(</span>NOWEB_ORDER<span class="opt">)&nbsp;</span>|&nbsp;tr&nbsp;<span class="opt">-</span>d&nbsp;<span class="str">'&lt;&gt;'</span>&nbsp;|&nbsp;grep&nbsp;\^<span class="opt">$${</span><span class="kwc">root</span><span class="opt">}-</span>gperf-&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;read&nbsp;r<span class="opt">;&nbsp;</span>do&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n<span class="opt">=$${</span>r<span class="slc">#$${root}-gperf-};&nbsp;n=$${n#nc-};&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;typedef&nbsp;enum&nbsp;\<span class="opt">{;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;UNKNOWN_<span class="str">`echo&nbsp;$$n&nbsp;|&nbsp;tr&nbsp;'[a-z]-'&nbsp;'[A-Z]_'`</span><span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notangle&nbsp;<span class="opt">-</span>R<span class="opt">$</span><span class="kwd">$r&nbsp;</span><span class="opt">$(</span>NOWEB_ORDER<span class="opt">)&nbsp;</span>|&nbsp;tr&nbsp;\&nbsp;&nbsp;<span class="esc">\\</span>n&nbsp;|&nbsp;<span class="kwa">sort&nbsp;</span><span class="opt">-</span>u&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sed&nbsp;<span class="str">&quot;s/^/$${n}_/;s/.*/</span><span class="esc">\\</span><span class="str">U</span><span class="esc">\\</span><span class="str">0/;s/[^A-Z0-9</span><span class="esc">\\</span><span class="str">n]/_/g;s/^/,/&quot;</span><span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;\<span class="opt">}&nbsp;$${</span><span class="kwc">n</span><span class="opt">}</span>_t\<span class="opt">;;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done&nbsp;<span class="opt">&gt;$</span>&#64;<span class="opt">;&nbsp;</span>done</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2cwDGf-2" href="#NW0-2cwDGf-1"><dfn>&lt;(build.nw) Build Source&gt;+=</dfn></a> <b>[<a href="#NW0-2cwDGf-1">&lt;-</a>D<a href="#NW0-2cwDGf-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">$(</span>GPERF_FILES<span class="opt">)&nbsp;</span>\</pre></li>
</ol></ol>
<p>

The prototypes for the lookup functions are generated separately, because
the gperf files need to be handled differently from normal C files.  The
fact that they are included in files that have already had their prototypes
generated does not matter, because cproto will not generate prototypes for
included files. Reinserting prototypes from the separate prototype file is
not possible, so <code><a href="#NW0-3a9iNE-1"><i>&lt;(build.nw) C Prototypes&gt;</i></a></code> must be used, instead.
<p>
<pre class="dfn"><a name="NW0-1zNc0p-4" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-3">&lt;-</a>D<a href="#NW0-1zNc0p-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>gperf-proto.h<span class="opt">:&nbsp;$(</span>GPERF_FILES<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<span class="str">'#include&nbsp;&lt;string.h&gt;'</span>&nbsp;|&nbsp;cat&nbsp;<span class="opt">-&nbsp;$(</span>GPERF_FILES<span class="opt">)&nbsp;</span>|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cproto&nbsp;<span class="opt">-</span>E&nbsp;<span class="str">&quot;$(CC)&nbsp;$(CFLAGS)&nbsp;$(EXTRA_CFLAGS)&nbsp;-x&nbsp;c&nbsp;-E&quot;</span>&nbsp;<span class="opt">-&nbsp;&gt;$</span>&#64;</pre></li>
<li><pre></pre></li>
<li><pre><span class="opt">$(</span>COFILES<span class="opt">):&nbsp;</span>gperf-proto.h</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3tienZ-1" href="#NW0-3tienZ-1"><dfn>&lt;(build.nw) C Headers&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>gperf-proto.h&nbsp;\</pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-3oc1l6-1" href="#NW0-3oc1l6-1"><dfn>&lt;(build.nw) Common C Header&gt;=</dfn></a> <b>(<a href="#NW0-3qoljW-1">&lt;-U</a> <a href="#NW0-3if92p-1">&lt;-U</a> <a href="#NW0-3xheh9-1">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;</span><span class="pps">&quot;gperf-proto.h&quot;</span><span class="ppc"></span></pre></li>
</ol></ol>
<p>

The options are sent to gperf via the header, except for the
case-insensitive option sent on the command line above.
<p>

<p><pre class="dfn"><a name="NW0-c7JvP-1" href="#NW0-c7JvP-1"><dfn>&lt;gperf-prefix&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>%pic</pre></li>
<li><pre>%struct-type</pre></li>
<li><pre>%omit-struct-type</pre></li>
<li><pre>%define&nbsp;hash-function-name&nbsp;__GPERF_NAME___hash</pre></li>
<li><pre>%define&nbsp;lookup-function-name&nbsp;__GPERF_NAME___name_id</pre></li>
<li><pre>%define&nbsp;string-pool-name&nbsp;__GPERF_NAME___strs</pre></li>
<li><pre>%compare-lengths</pre></li>
<li><pre>%readonly-tables</pre></li>
<li><pre>%enum</pre></li>
<li><pre>%define&nbsp;word-array-name&nbsp;__GPERF_NAME___words</pre></li>
<li><pre>struct&nbsp;gperf_name_id;</pre></li>
<li><pre>%%</pre></li>
</ol></ol>
<p>

The actual lookup function returns just the ID rather than the internal,
otherwise useless structure.  No equivalent function is provided for
converting IDs back to strings, though.  The internal lookup function is
suppressed for GNU environments, because the functions are declared inline,
and cproto ignores such functions.
<p>

<p><pre class="dfn"><a name="NW0-1LqvBu-1" href="#NW0-1LqvBu-1"><dfn>&lt;Actual gperf lookup function&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>__GPERF_NAME___t&nbsp;<span class="kwd">__GPERF_NAME___id</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>name<span class="opt">,&nbsp;</span><span class="kwb">int&nbsp;</span>len<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;struct&nbsp;gperf_name_id&nbsp;</span><span class="opt">*</span>hv&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">__GPERF_NAME___name_id</span><span class="opt">(</span>name<span class="opt">,&nbsp;</span>len<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>hv&nbsp;?&nbsp;hv<span class="opt">-&gt;</span>id&nbsp;<span class="opt">:&nbsp;</span><span class="num">0</span><span class="opt">;&nbsp;</span><span class="com">/*&nbsp;UNKNOWN___GPERF_NAME__&nbsp;*/</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<h2><a name=toc6>Templates</a></h2>
<p>
Templates can either be strings or files, and be dumped to either an open
file descriptor or a string.  Templates used for displaying to the user
generally have a default encoding method of HTML, but templates used for
configuration need to be evaluated raw.  A flag allows selection of raw
mode.  The HDF must be provided, even though it will usually just be
<code>local_config</code>.  Since the output parameters are only used by one function
call, the input is processed by a generic function that takes the same
callback parameters as the output function.
<p>
<pre class="dfn"><a name="NW0-1PCVPm-2" href="#NW0-1PCVPm-1"><dfn>&lt;Library <code>cs-supt</code> Members&gt;+=</dfn></a> <b>[<a href="#NW0-1PCVPm-1">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre>tmpl<span class="opt">.</span>o</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-1" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;=</dfn></a> <b>[D<a href="#NW0-3xheh9-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt"><a name="NW0-3xheh9-1-u1" href="#NW0-3oc1l6-1"><i>&lt;(build.nw) Common C Header&gt;</i></a></span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-2" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-1">&lt;-</a>D<a href="#NW0-3xheh9-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">tmpl_string_to</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>parms<span class="opt">,&nbsp;</span><span class="kwb">CSOUTFUNC&nbsp;</span>outf<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">void&nbsp;</span><span class="opt">*</span>outp<span class="opt">,&nbsp;</span><span class="kwb">gboolean&nbsp;</span>raw<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>tdup<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;</pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-2-u1" href="#NW0-iW0EM-1"><i>&lt;Set raw template parms&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">prepare_template</span><span class="opt">(&amp;</span>cs<span class="opt">,&nbsp;</span>parms<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-2-u2" href="#NW0-1IjGFt-1"><i>&lt;Free raw template parms&gt;</i></a>&nbsp;</span><span class="com">/*&nbsp;memory&nbsp;probs,&nbsp;so&nbsp;don't&nbsp;try&nbsp;to&nbsp;restore&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass_ctx</span><span class="opt">(</span>nerr<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>tmpl<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;modified&nbsp;by&nbsp;cs_parse_string;&nbsp;freed&nbsp;by&nbsp;cs_destroy&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;tdup&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strdup</span><span class="opt">(</span>tmpl<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>tdup<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;template&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">cs_parse_string</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>tdup<span class="opt">,&nbsp;</span><span class="kwd">strlen</span><span class="opt">(</span>tmpl<span class="opt">)));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_render</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>outp<span class="opt">,&nbsp;</span>outf<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cs_destroy</span><span class="opt">(&amp;</span>cs<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-2-u3" href="#NW0-3QGMgV-1"><i>&lt;Restore non-raw template parms&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass_ctx</span><span class="opt">(</span>nerr<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>tmpl<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-iW0EM-1" href="#NW0-iW0EM-1"><dfn>&lt;Set raw template parms&gt;=</dfn></a> <b>(<a href="#NW0-3xheh9-2">&lt;-U</a> <a href="#NW0-3xheh9-7">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">char&nbsp;</span><span class="opt">*</span>oescape&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(</span>raw<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_get_copy</span><span class="opt">(</span>parms<span class="opt">,&nbsp;</span><span class="str">&quot;Config.VarEscapeMode&quot;</span><span class="opt">,&nbsp;&amp;</span>oescape<span class="opt">,&nbsp;</span>NULL<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>parms<span class="opt">,&nbsp;</span><span class="str">&quot;Config.VarEscapeMode&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;none&quot;</span><span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1IjGFt-1" href="#NW0-1IjGFt-1"><dfn>&lt;Free raw template parms&gt;=</dfn></a> <b>(<a href="#NW0-3xheh9-2">&lt;-U</a> <a href="#NW0-3xheh9-7">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span>oescape<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>oescape<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3QGMgV-1" href="#NW0-3QGMgV-1"><dfn>&lt;Restore non-raw template parms&gt;=</dfn></a> <b>(<a href="#NW0-3xheh9-2">&lt;-U</a> <a href="#NW0-3xheh9-7">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span>raw<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>ignerr<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>oescape<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;ignerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_set_buf</span><span class="opt">(</span>parms<span class="opt">,&nbsp;</span><span class="str">&quot;Config.VarEscapeMode&quot;</span><span class="opt">,&nbsp;</span>oescape<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;ignerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_remove_tree</span><span class="opt">(</span>parms<span class="opt">,&nbsp;</span><span class="str">&quot;Config.VarEscapeMode&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ignerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_log_error</span><span class="opt">(</span>ignerr<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-3" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-2">&lt;-</a>D<a href="#NW0-3xheh9-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">prepare_template</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">**</span>_cs<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">cs_init</span><span class="opt">(</span>_cs<span class="opt">,&nbsp;</span>hdf<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs&nbsp;<span class="opt">=&nbsp;*</span>_cs<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-3-u1" href="#NW0-25xJsf-1"><i>&lt;Initialize templates&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-4" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-3">&lt;-</a>D<a href="#NW0-3xheh9-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_to_gstring</span><span class="opt">(</span><span class="kwb">void&nbsp;</span><span class="opt">*</span>user<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">*</span>str<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span>user<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>out<span class="opt">,&nbsp;</span>str<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">tmpl_string</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>parms<span class="opt">,&nbsp;</span><span class="kwb">GString&nbsp;</span><span class="opt">*</span>out<span class="opt">,&nbsp;</span><span class="kwb">gboolean&nbsp;</span>raw<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">tmpl_string_to</span><span class="opt">(</span>tmpl<span class="opt">,&nbsp;</span>parms<span class="opt">,&nbsp;</span>cs_to_gstring<span class="opt">,&nbsp;</span>out<span class="opt">,&nbsp;</span>raw<span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-5" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-4">&lt;-</a>D<a href="#NW0-3xheh9-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_to_file</span><span class="opt">(</span><span class="kwb">void&nbsp;</span><span class="opt">*</span>user<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">*</span>str<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">FILE&nbsp;</span><span class="opt">*</span>f&nbsp;<span class="opt">=&nbsp;</span>user<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">fputs</span><span class="opt">(</span>str<span class="opt">,&nbsp;</span>f<span class="opt">)&nbsp;&lt;&nbsp;</span><span class="num">0&nbsp;</span>?&nbsp;<span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;Writing&quot;</span><span class="opt">)&nbsp;:&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">tmpl_string_to_file</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>parms<span class="opt">,&nbsp;</span><span class="kwb">FILE&nbsp;</span><span class="opt">*</span>out<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>raw<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">tmpl_string_to</span><span class="opt">(</span>tmpl<span class="opt">,&nbsp;</span>parms<span class="opt">,&nbsp;</span>cs_to_file<span class="opt">,&nbsp;</span>out<span class="opt">,&nbsp;</span>raw<span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Template files are loaded from the default directory if relative.
<p>

<p><pre class="dfn"><a name="NW0-4fPqRl-1" href="#NW0-4fPqRl-1"><dfn>&lt;Template Parameter Configuration&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#&nbsp;Default&nbsp;directory&nbsp;for&nbsp;templates&nbsp;(relative&nbsp;to&nbsp;$CONFIG_ROOT)</span></pre></li>
<li><pre><span class="slc">#tmpl_dir&nbsp;=&nbsp;tmpl</span></pre></li>
<li><pre></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-3xheh9-6" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-5">&lt;-</a>D<a href="#NW0-3xheh9-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl_dir&nbsp;<span class="opt">=&nbsp;</span><span class="str">&quot;tmpl&quot;</span><span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1iK0wx-1" href="#NW0-1iK0wx-1"><dfn>&lt;Set up templates&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwc">extern&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl_dir<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;tmpl_dir&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">getconf</span><span class="opt">(</span><span class="str">&quot;tmpl_dir&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;tmpl&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">prepend_dir_if_relative</span><span class="opt">(</span>config_root<span class="opt">,&nbsp;</span>tmpl_dir<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">die_if_err</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span><span class="str">&quot;hdf.loadpaths.tmpl_dir&quot;</span><span class="opt">,&nbsp;</span>tmpl_dir<span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-7" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-6">&lt;-</a>D<a href="#NW0-3xheh9-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">tmpl_file_to</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>parms<span class="opt">,&nbsp;</span><span class="kwb">CSOUTFUNC&nbsp;</span>outf<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">void&nbsp;</span><span class="opt">*</span>outp<span class="opt">,&nbsp;</span><span class="kwb">gboolean&nbsp;</span>raw<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-7-u1" href="#NW0-iW0EM-1"><i>&lt;Set raw template parms&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">prepare_template</span><span class="opt">(&amp;</span>cs<span class="opt">,&nbsp;</span>parms<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-7-u2" href="#NW0-1IjGFt-1"><i>&lt;Free raw template parms&gt;</i></a>&nbsp;</span><span class="com">/*&nbsp;memory&nbsp;probs,&nbsp;so&nbsp;don't&nbsp;try&nbsp;to&nbsp;restore&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass_ctx</span><span class="opt">(</span>nerr<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>tmpl<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_parse_file</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span>tmpl<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_render</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>outp<span class="opt">,&nbsp;</span>outf<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cs_destroy</span><span class="opt">(&amp;</span>cs<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-7-u3" href="#NW0-3QGMgV-1"><i>&lt;Restore non-raw template parms&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass_ctx</span><span class="opt">(</span>nerr<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>tmpl<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-8" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-7">&lt;-</a>D<a href="#NW0-3xheh9-9">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">tmpl_file</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>parms<span class="opt">,&nbsp;</span><span class="kwb">FILE&nbsp;</span><span class="opt">*</span>out<span class="opt">,&nbsp;</span><span class="kwb">gboolean&nbsp;</span>raw<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">tmpl_file_to</span><span class="opt">(</span>tmpl<span class="opt">,&nbsp;</span>parms<span class="opt">,&nbsp;</span>cs_to_file<span class="opt">,&nbsp;</span>out<span class="opt">,&nbsp;</span>raw<span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">tmpl_file_to_string</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>parms<span class="opt">,&nbsp;</span><span class="kwb">GString&nbsp;</span><span class="opt">*</span>out<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>raw<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">tmpl_file_to</span><span class="opt">(</span>tmpl<span class="opt">,&nbsp;</span>parms<span class="opt">,&nbsp;</span>cs_to_gstring<span class="opt">,&nbsp;</span>out<span class="opt">,&nbsp;</span>raw<span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

One problem with providing a macro library in ClearSilver is that the final
newline of a file will appear in the final output.  There is no extremely
efficient way to deal with this, so a simple awk program is used.
<p>

<p><pre class="dfn"><a name="NW0-13PeAG-8" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-7">&lt;-</a>D<a href="#NW0-13PeAG-9">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>CS_FILES<span class="opt">=</span><a name="NW0-13PeAG-8-u1" href="#NW0-3RXEYe-1"><i>&lt;CS files&gt;</i></a></pre></li>
<li><pre></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2cwDGf-3" href="#NW0-2cwDGf-1"><dfn>&lt;(build.nw) Build Source&gt;+=</dfn></a> <b>[<a href="#NW0-2cwDGf-2">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">$(</span>CS_FILES<span class="opt">)&nbsp;</span>\</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-18naG6-1" href="#NW0-18naG6-1"><dfn>&lt;(build.nw) Clean built files&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">rm&nbsp;</span><span class="opt">-</span>f&nbsp;<span class="opt">$(</span>CS_FILES<span class="opt">)</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1zNc0p-5" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-4">&lt;-</a>D<a href="#NW0-1zNc0p-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#&nbsp;strip&nbsp;trailing&nbsp;\n&nbsp;-&nbsp;there&nbsp;has&nbsp;to&nbsp;be&nbsp;an&nbsp;easier&nbsp;way</span></pre></li>
<li><pre><span class="opt">$(</span>CS_FILES<span class="opt">):&nbsp;$(</span>NOWEB_ORDER<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notangle&nbsp;<span class="opt">-</span>R<span class="opt">$</span>&#64;&nbsp;<span class="opt">$</span>^&nbsp;|&nbsp;awk&nbsp;<span class="str">'<a name="NW0-1zNc0p-5-u1" href="#NW0-2PEhG7-1"><i>&lt;Strip final newline&gt;</i></a>'</span><span class="opt">&gt;$</span>&#64;</pre></li>
<li><pre>misc<span class="opt">:&nbsp;$(</span>CS_FILES<span class="opt">)</span></pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-2PEhG7-1" href="#NW0-2PEhG7-1"><dfn>&lt;Strip final newline&gt;=</dfn></a> <b>(<a href="#NW0-1zNc0p-5">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">{&nbsp;&nbsp;</span><span class="kwa">if</span><span class="opt">(</span>prline<span class="opt">)&nbsp;</span><span class="kwa">print&nbsp;</span>line<span class="opt">;&nbsp;</span>line&nbsp;=&nbsp;$$<span class="num">0</span><span class="opt">;&nbsp;</span>prline&nbsp;=&nbsp;<span class="num">1&nbsp;</span><span class="opt">}&nbsp;</span><span class="kwa">END&nbsp;</span><span class="opt">{&nbsp;</span><span class="kwb">ORS&nbsp;</span>=&nbsp;<span class="str">&quot;&quot;</span><span class="opt">;&nbsp;</span><span class="kwa">print&nbsp;</span>line<span class="opt">;&nbsp;}</span></pre></li>
</ol></ol>
<p>

Templates are provided in this document, but if a program does not use them,
there is no point in installing them.  For this reason, a chunk is created
for the installation instructions which can be added to
<code><a href="#NW0-33kkYH-1"><i>&lt;(build.nw) Install other files&gt;</i></a></code> if desired.  Since HTML files are generally
templates as well, they are also added in this rule.
<p>

<p><pre class="dfn"><a name="NW0-1qpZ6m-1" href="#NW0-1qpZ6m-1"><dfn>&lt;Install ClearSilver templates&gt;=</dfn></a> <b>[D<a href="#NW0-1qpZ6m-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>mkdir&nbsp;<span class="opt">-</span>p&nbsp;$<span class="opt">(</span>DESTDIR<span class="opt">)</span>$<span class="opt">(</span>ETC_DIR<span class="opt">)/</span>tmpl</pre></li>
<li><pre><span class="kwc">cp&nbsp;</span><span class="opt">-</span>p&nbsp;$<span class="opt">(</span>CS_FILES<span class="opt">)&nbsp;</span>$<span class="opt">(</span>HTML_FILES<span class="opt">)&nbsp;</span>$<span class="opt">(</span>DESTDIR<span class="opt">)</span>$<span class="opt">(</span>ETC_DIR<span class="opt">)/</span>tmpl</pre></li>
</ol></ol>
<p>

However, some HTML files may be just plain HTML that needs to be installed
in the web server's document directory.  For consistency, these are also
copied into the template directory, but they are soft linked to the copy in
the template directory.  While the configuration option will always be
visible, users can just ignore the option if there is no plain HTML.
<p>

<p><pre class="dfn"><a name="NW0-3DeDMu-3" href="#NW0-3DeDMu-1"><dfn>&lt;(build.nw) makefile.config&gt;+=</dfn></a> <b>[<a href="#NW0-3DeDMu-2">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="slc">#&nbsp;Install&nbsp;directory&nbsp;for&nbsp;plain&nbsp;HTML&nbsp;files</span></pre></li>
<li><pre>HTML_DIR<span class="opt">=/</span>var<span class="opt">/</span>www<span class="opt">/</span>html</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-13PeAG-9" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-8">&lt;-</a>D<a href="#NW0-13PeAG-A">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre>PLAIN_HTML<span class="opt">=</span><a name="NW0-13PeAG-9-u1" href="#NW0-ZTcTW-1"><i>&lt;Plain HTML&gt;</i></a></pre></li>
<li><pre></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2kYumM-1" href="#NW0-2kYumM-1"><dfn>&lt;(build.nw) Plain Files&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><a name="NW0-2kYumM-1-u1" href="#NW0-ZTcTW-1"><i>&lt;Plain HTML&gt;</i></a></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-ZTcTW-1" href="#NW0-ZTcTW-1"><dfn>&lt;Plain HTML&gt;=</dfn></a> <b>(<a href="#NW0-13PeAG-9">&lt;-U</a> <a href="#NW0-2kYumM-1">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre>\</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1qpZ6m-2" href="#NW0-1qpZ6m-1"><dfn>&lt;Install ClearSilver templates&gt;+=</dfn></a> <b>[<a href="#NW0-1qpZ6m-1">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">$(</span>if&nbsp;<span class="opt">$(</span>PLAIN_HTML<span class="opt">),&nbsp;</span>\</pre></li>
<li><pre>mkdir&nbsp;<span class="opt">-</span>p&nbsp;<span class="opt">$(</span>DESTDIR<span class="opt">)$(</span>HTML_DIR<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>relup<span class="opt">=;&nbsp;</span>edir<span class="opt">=$(</span>ETC_DIR<span class="opt">);&nbsp;</span>hdir<span class="opt">=$(</span>HTML_DIR<span class="opt">);&nbsp;</span>\</pre></li>
<li><pre>edir<span class="opt">=$${</span>edir<span class="opt">%/}/</span>tmpl<span class="opt">/;&nbsp;</span>hdir<span class="opt">=$${</span>hdir<span class="opt">%/}/;&nbsp;</span>\</pre></li>
<li><pre>while&nbsp;<span class="opt">[&nbsp;$${</span>edir<span class="slc">#$${hdir}}&nbsp;=&nbsp;$$edir&nbsp;];&nbsp;do&nbsp;\</span></pre></li>
<li><pre>&nbsp;&nbsp;relup<span class="opt">=</span>..<span class="opt">/$${</span><span class="kwc">relup</span><span class="opt">};&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;hdir<span class="opt">=$${</span>hdir<span class="opt">%/*/}/;&nbsp;</span>\</pre></li>
<li><pre>done<span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>ltarget<span class="opt">=$${</span><span class="kwc">relup</span><span class="opt">}$${</span>edir<span class="slc">#/};&nbsp;\</span></pre></li>
<li><pre>for&nbsp;x&nbsp;in&nbsp;<span class="opt">$(</span>PLAIN_HTML<span class="opt">);&nbsp;</span>do&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;ln&nbsp;<span class="opt">-</span>sf&nbsp;<span class="opt">$${</span><span class="kwc">ltarget</span><span class="opt">}/$</span><span class="kwd">$x&nbsp;</span><span class="opt">$(</span>DESTDIR<span class="opt">)$(</span>HTML_DIR<span class="opt">)/$</span><span class="kwd">$x</span><span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>done<span class="opt">)</span></pre></li>
</ol></ol>
<p>

A check rule is added for running <code>htmltidy</code> on plain HTML files, since
they should be complete and error-free.
<p>
<pre class="dfn"><a name="NW0-1zNc0p-6" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-5">&lt;-</a>D<a href="#NW0-1zNc0p-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">ifneq&nbsp;</span><span class="opt">($(</span><span class="kwa">strip&nbsp;</span><span class="opt">$(</span>PLAIN_HTML<span class="opt">)),)</span></pre></li>
<li><pre><span class="kwa">check</span><span class="opt">:&nbsp;</span>checkhtml</pre></li>
<li><pre>checkhtml<span class="opt">:&nbsp;$(</span>PLAIN_HTML<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;<span class="opt">$(</span>PLAIN_HTML<span class="opt">);&nbsp;</span>do&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tidy&nbsp;<span class="opt">-</span>q&nbsp;<span class="opt">-</span>asxhtml&nbsp;<span class="opt">-</span>asxhtml&nbsp;<span class="opt">-</span>e&nbsp;<span class="opt">$</span><span class="kwd">$x</span><span class="opt">;&nbsp;</span>\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done</pre></li>
<li><pre><span class="kwb">endif</span></pre></li>
</ol></ol>
<p>

There are a number of common things a user might want to do in a template,
that are either not supported by ClearSilver or are unnecessarily
inefficient and ugly in ClearSilver.  ClearSilver has a rudimentary
mechanism for adding string functions to the template expression language.
It also has a method for adding more general functions, but that method is
currently marked as experimental and likely to change.  This can probably be
worked around using version detection, although the lack of convenient
version macros in ClearSilver will probably require the use of external
definitions.  The version has remained at <i>0.10.5</i> for more than a year now,
so this might not be an issue.  String functions may only take one string as
input <sup><a href="#fn6">6</a></sup>
, and produce one string
as output.  Any functions which do not fit into that pattern use the generic
extension facility.  Generic functions are also the only method that gives
access to the HDF being used for variable substitutions.  Even generic
functions are limited, though, in that they can only take a fixed number of
arguments.
<p>
The following functions are added to support the common transformations
needed by templates:
<p>
<!-- Begin-doc tmpl-funcs-->
<!-- closing square brackets in optional args confuse l2h, no matter what-->


<!-- End-doc tmpl-funcs-->
<p>
<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>parse_date(<em>formats</em>, <em>date</em>)<dd>

Parse an absolute date in server's current locale using <code>strptime</code>(3) or a
relative date using a custom format and return as seconds since UNIX epoch.
The <em>formats</em> string consists of zero or more formats separated by
vertical bars (<tt>|</tt>).  The formats in the `Default formats for
<code>parse_date</code>' table are appended to the given formats, in order (examples
are for Friday, June 13, 2008, 18:07:10, with adjustments described below).
The first format which matches the <em>date</em> will be used.
<p>
<hr>
<center>
<table border><!-- alignment is |l|l|l|--><!-- 3 columns--><tr><td align="left" valign="top"><b>Format</b> </td><td align="left" valign="top"><b>Example</b></td></tr>
<tr><td align="left" valign="top">%Y-%m-%d %T </td><td align="left" valign="top">2008-06-13 18:07:10</td></tr>
<tr><td align="left" valign="top">%Y-%m-%d %R </td><td align="left" valign="top">2008-06-13 18:07</td></tr>
<tr><td align="left" valign="top">%Y-%m-%d     </td><td align="left" valign="top">2008-06-13</td></tr>
<tr><td align="left" valign="top">%m/%d/%Y %T </td><td align="left" valign="top">6/13/2008 18:07:10</td></tr>
<tr><td align="left" valign="top">%m/%d/%Y %R </td><td align="left" valign="top">6/13/2008 18:07</td></tr>
<tr><td align="left" valign="top">%m/%d/%Y     </td><td align="left" valign="top">6/13/2008</td></tr>
<tr><td align="left" valign="top">%d-%m-%Y %T </td><td align="left" valign="top">13-06-2008 18:07:10</td></tr>
<tr><td align="left" valign="top">%d-%m-%Y %R </td><td align="left" valign="top">13-06-2008 18:07</td></tr>
<tr><td align="left" valign="top">%d-%m-%Y     </td><td align="left" valign="top">13-06-2008</td></tr>
<tr><td align="left" valign="top">%T             </td><td align="left" valign="top">18:07:10</td></tr>
<tr><td align="left" valign="top">%R             </td><td align="left" valign="top">18:07</td></tr>
<tr><td align="left" valign="top">%a %T         </td><td align="left" valign="top">Friday 18:07:10</td></tr>
<tr><td align="left" valign="top">%a %R         </td><td align="left" valign="top">Friday 18:07</td></tr>
<tr><td align="left" valign="top">%a             </td><td align="left" valign="top">Friday</td></tr>
<tr><td align="left" valign="top">%b %Y         </td><td align="left" valign="top">June 2008</td></tr>
<tr><td align="left" valign="top">%b             </td><td align="left" valign="top">June</td></tr>
<tr><td align="left" valign="top">%c             </td><td align="left" valign="top">Fri Jun 13 18:07:10 2008</td></tr>
<tr><td align="left" valign="top">%x             </td><td align="left" valign="top">06/13/08</td></tr>
</table>
<b>Default formats for <code>parse_date</code></b>
</center>
<hr>
<p>
Since <code>strptime</code>(3) does not support time zones, the time zone is always
the server's local time zone.  This can be changed for subsequent formats by
using the format <tt>TZ=</tt><em>zone</em>.  Note that the format of the
<em>zone</em> string is operating system-dependent.  See <code>tzset</code>(3) for
details.  If any of hours, minutes, or seconds are not present, they are set
to zero. If the month is specified, but not the day, the first of the month
is used.  If only the year is specified, January 1 is used.  These formats
also support some relative times.  If the year is unspecified, it is the
current year, unless the day of year is specified, either by month or day of
year, and that day is on or after today, in which case it is last year.  If
only the weekday is specified, then it is the last such weekday, excluding
today.  In the previous examples, the %a format only works between
Saturday, June 14, and Friday, June 20, and the %b format only works
between July 1, 2008, and June 30, 2009.
<p>
For specifically relative dates, the date must consist of a star (*),
implying the current date, optionally followed by an offset.  The offset is
an optional sign (+ or -; - is default), followed by an optional count (1 is
the default), followed by an optional case-insensitve interval length
indicator for seconds (S), minutes ('), hours (H), days (D) (the default),
months (M), or years (Y).  For a valid offset, one or the other of the count
or the interval length indicator must be present.  All parts of the date
finer than the specified interval are set to their lowest value.  For
example, if the interval is in months, then the day is set to the first of
the month, and the time is set to midnight.
<p>
Finally, a blank input returns 0, always.
<!-- End-doc tmpl-funcs-->
</dl>
<p>

<p><pre class="dfn"><a name="NW0-25xJsf-1" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[D<a href="#NW0-25xJsf-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;parse_date&quot;</span><span class="opt">,&nbsp;</span><span class="num">2</span><span class="opt">,&nbsp;</span>cs_parse_date<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-9" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-8">&lt;-</a>D<a href="#NW0-3xheh9-A">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">static&nbsp;const&nbsp;char&nbsp;const&nbsp;</span><span class="opt">*&nbsp;</span>date_fmts<span class="opt">[]&nbsp;=&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%Y-%m-%d&nbsp;%T&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%Y-%m-%d&nbsp;%R&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%Y-%m-%d&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%m/%d/%Y&nbsp;%T&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%m/%d/%Y&nbsp;%R&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%m/%d/%Y&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%d-%m-%Y&nbsp;%T&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%d-%m-%Y&nbsp;%R&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%d-%m-%Y&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%T&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%R&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%a&nbsp;%T&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%a&nbsp;%R&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%a&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%b&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%b&nbsp;%Y&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%c&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%x&nbsp;%X&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%x&quot;</span><span class="opt">,</span></pre></li>
<li><pre><span class="ppc">#if&nbsp;0&nbsp;</span><span class="com">/*&nbsp;these&nbsp;formats&nbsp;should&nbsp;just&nbsp;be&nbsp;specified&nbsp;in&nbsp;the&nbsp;argument&nbsp;instead&nbsp;*/</span><span class="ppc"></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%x&nbsp;%X&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%Ec&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%Ex&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="str">&quot;%Ex&nbsp;%EX&quot;</span><span class="opt">,</span></pre></li>
<li><pre><span class="ppc">#endif</span></pre></li>
<li><pre>&nbsp;&nbsp;NULL</pre></li>
<li><pre><span class="opt">};</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1mOMve-4" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-1mOMve-3">&lt;-</a>D<a href="#NW0-1mOMve-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;&lt;pthread.h&gt;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4R7VR1-B" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-A">&lt;-</a>D<a href="#NW0-4R7VR1-C">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="com">/*&nbsp;Lock&nbsp;this&nbsp;if&nbsp;modifying&nbsp;timezone&nbsp;information&nbsp;*/</span></pre></li>
<li><pre><span class="kwc">extern&nbsp;</span><span class="kwb">pthread_mutex_t&nbsp;</span>tz_lock<span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-7" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-6">&lt;-</a>D<a href="#NW0-3if92p-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="com">/*&nbsp;cheat:&nbsp;if&nbsp;it's&nbsp;already&nbsp;defined&nbsp;elsewhere,&nbsp;disable&nbsp;*/</span></pre></li>
<li><pre><span class="ppc">#ifndef&nbsp;TZ_LOCK_DEFINED</span></pre></li>
<li><pre><span class="kwb">pthread_mutex_t&nbsp;</span>tz_lock&nbsp;<span class="opt">=&nbsp;</span>PTHREAD_MUTEX_INITIALIZER<span class="opt">;</span></pre></li>
<li><pre><span class="ppc">#endif</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-A" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-9">&lt;-</a>D<a href="#NW0-3xheh9-B">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">time_t&nbsp;</span><span class="kwd">parse_date</span><span class="opt">(</span><span class="kwb">char&nbsp;</span><span class="opt">*</span>formats<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>date_str<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">,&nbsp;*</span>e&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>fmt<span class="opt">,&nbsp;**</span>fmtp<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">struct&nbsp;</span>tm&nbsp;tm_parsed<span class="opt">,&nbsp;</span>tm_ref<span class="opt">,&nbsp;</span>tm_now<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">time_t&nbsp;</span>t<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>old_tz&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;&nbsp;</span><span class="com">/*&nbsp;init&nbsp;to&nbsp;shut&nbsp;gcc&nbsp;up&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>set_tz&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>got_err&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>date_str&nbsp;<span class="opt">||&nbsp;!*</span>date_str<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">memset</span><span class="opt">(&amp;</span>tm_ref<span class="opt">,&nbsp;</span><span class="num">0xff</span><span class="opt">,&nbsp;</span><span class="kwa">sizeof</span><span class="opt">(</span>tm_ref<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;t&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">time</span><span class="opt">(</span>NULL<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">localtime_r</span><span class="opt">(&amp;</span>t<span class="opt">,&nbsp;&amp;</span>tm_now<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>formats&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>formats<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;fmt&nbsp;<span class="opt">=&nbsp;</span>formats<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="num">1</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strchr</span><span class="opt">(</span>fmt<span class="opt">,&nbsp;</span><span class="str">'|'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>s<span class="opt">++&nbsp;=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">strncmp</span><span class="opt">(</span>fmt<span class="opt">,&nbsp;</span><span class="str">&quot;TZ=&quot;</span><span class="opt">,&nbsp;</span><span class="num">3</span><span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>set_tz<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">pthread_mutex_lock</span><span class="opt">(&amp;</span>tz_lock<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;old_tz&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">getenv</span><span class="opt">(</span><span class="str">&quot;TZ&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_tz&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">setenv</span><span class="opt">(</span><span class="str">&quot;TZ&quot;</span><span class="opt">,&nbsp;</span>fmt&nbsp;<span class="opt">+&nbsp;</span><span class="num">3</span><span class="opt">,&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">tzset</span><span class="opt">();</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed&nbsp;<span class="opt">=&nbsp;</span>tm_ref<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">((</span>e&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strptime</span><span class="opt">(</span>date_str<span class="opt">,&nbsp;</span>fmt<span class="opt">,&nbsp;&amp;</span>tm_parsed<span class="opt">))&nbsp;&amp;&amp;&nbsp;!*</span>e<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt&nbsp;<span class="opt">=&nbsp;</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>fmtp&nbsp;<span class="opt">=&nbsp;</span>date_fmts<span class="opt">;&nbsp;(!</span>e&nbsp;<span class="opt">||&nbsp;*</span>e<span class="opt">)&nbsp;&amp;&amp;&nbsp;*</span>fmtp<span class="opt">;&nbsp;</span>fmtp<span class="opt">++)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed&nbsp;<span class="opt">=&nbsp;</span>tm_ref<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strptime</span><span class="opt">(</span>date_str<span class="opt">,&nbsp;*</span>fmtp<span class="opt">,&nbsp;&amp;</span>tm_parsed<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>e&nbsp;<span class="opt">||&nbsp;*</span>e<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>date_str&nbsp;<span class="opt">==&nbsp;</span><span class="str">'*'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>add&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed&nbsp;<span class="opt">=&nbsp;</span>tm_now<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">gint&nbsp;</span>num_add&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*++</span>date_str&nbsp;<span class="opt">==&nbsp;</span><span class="str">'+'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date_str<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(*</span>date_str&nbsp;<span class="opt">==&nbsp;</span><span class="str">'-'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date_str<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*</span>date_str<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_add&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">atoi</span><span class="opt">(</span>date_str<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>date_str<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>add<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_add&nbsp;<span class="opt">=&nbsp;-</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>date_str&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>date_str<span class="opt">[</span><span class="num">1</span><span class="opt">])</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;got_err&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;&nbsp;</span><span class="com">/*&nbsp;parse&nbsp;error&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">switch</span><span class="opt">(</span><span class="kwd">toupper</span><span class="opt">(*</span>date_str<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'S'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_sec&nbsp;<span class="opt">+=&nbsp;</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\'</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_min&nbsp;<span class="opt">+=&nbsp;</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'H'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_hour&nbsp;<span class="opt">+=&nbsp;</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'D'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="num">0</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">+=&nbsp;</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'M'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">+=&nbsp;</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'Y'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_year&nbsp;<span class="opt">+=&nbsp;</span>num_add<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">default</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;got_err&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;&nbsp;</span><span class="com">/*&nbsp;parse&nbsp;error&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>got_err<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;all&nbsp;cases&nbsp;in&nbsp;following&nbsp;switch&nbsp;fall&nbsp;through&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">switch</span><span class="opt">(</span><span class="kwd">toupper</span><span class="opt">(*</span>date_str<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'Y'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'M'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'D'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="num">0</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_hour&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'H'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_min&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\'</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_sec&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'S'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;got_err&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;&nbsp;</span><span class="com">/*&nbsp;unknown&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;adjust&nbsp;for&nbsp;partial&nbsp;specification;&nbsp;bias&nbsp;for&nbsp;the&nbsp;past&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_sec&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_sec<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_sec&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_min&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_min<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_min&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_hour&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_hour<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_hour&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_isdst&nbsp;<span class="opt">=&nbsp;-</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_year&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_year<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_year&nbsp;<span class="opt">=&nbsp;</span>tm_now<span class="opt">.</span>tm_year<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">!=&nbsp;</span>tm_ref<span class="opt">.</span>tm_mon<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">&gt;&nbsp;</span>tm_now<span class="opt">.</span>tm_mon<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_year<span class="opt">--;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">==&nbsp;</span>tm_now<span class="opt">.</span>tm_mon&nbsp;<span class="opt">&amp;&amp;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_mday&nbsp;<span class="opt">||</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">&gt;&nbsp;</span>tm_now<span class="opt">.</span>tm_mday<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_year<span class="opt">--;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_yday&nbsp;<span class="opt">!=&nbsp;</span>tm_ref<span class="opt">.</span>tm_yday<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_yday&nbsp;<span class="opt">&gt;&nbsp;</span>tm_now<span class="opt">.</span>tm_yday<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_year<span class="opt">--;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">=&nbsp;</span>tm_parsed<span class="opt">.</span>tm_yday<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_mday<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_yday&nbsp;<span class="opt">!=&nbsp;</span>tm_ref<span class="opt">.</span>tm_yday<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">=&nbsp;</span>tm_parsed<span class="opt">.</span>tm_yday<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_wday&nbsp;<span class="opt">!=&nbsp;</span>tm_ref<span class="opt">.</span>tm_wday<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_wday&nbsp;<span class="opt">&gt;=&nbsp;</span>tm_now<span class="opt">.</span>tm_wday<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_wday&nbsp;<span class="opt">-=&nbsp;</span><span class="num">7</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">=&nbsp;</span>tm_now<span class="opt">.</span>tm_mday<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">-=&nbsp;</span>tm_now<span class="opt">.</span>tm_wday&nbsp;<span class="opt">-&nbsp;</span>tm_parsed<span class="opt">.</span>tm_wday<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">!=&nbsp;</span>tm_ref<span class="opt">.</span>tm_mon<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mday&nbsp;<span class="opt">=&nbsp;</span>tm_now<span class="opt">.</span>tm_mday<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">==&nbsp;</span>tm_ref<span class="opt">.</span>tm_mon<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_parsed<span class="opt">.</span>tm_mon&nbsp;<span class="opt">=&nbsp;</span>tm_now<span class="opt">.</span>tm_mon<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;t&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">mktime</span><span class="opt">(&amp;</span>tm_parsed<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>set_tz<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>old_tz<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">setenv</span><span class="opt">(</span><span class="str">&quot;TZ&quot;</span><span class="opt">,&nbsp;</span>old_tz<span class="opt">,&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">unsetenv</span><span class="opt">(</span><span class="str">&quot;TZ&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">tzset</span><span class="opt">();</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">pthread_mutex_unlock</span><span class="opt">(&amp;</span>tz_lock<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>got_err<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>t<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-B" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-A">&lt;-</a>D<a href="#NW0-3xheh9-C">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_parse_date</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>formats&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>date_str&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_NUM<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;ss&quot;</span><span class="opt">,&nbsp;&amp;</span>formats<span class="opt">,&nbsp;&amp;</span>date_str<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;n&nbsp;is&nbsp;long,&nbsp;so&nbsp;this&nbsp;will&nbsp;fail&nbsp;in&nbsp;2038&nbsp;on&nbsp;32-bit&nbsp;systems&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">parse_date</span><span class="opt">(</span>formats<span class="opt">,&nbsp;</span>date_str<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>formats<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>formats<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>date_str<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>date_str<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>format_date(<em>format</em>, <em>timestamp</em>)<dd>

Format date using <code>strftime</code>(3), with optional <em>format</em>.  A blank
<em>format</em> is replaced by %c.  The <em>timestamp</em> is seconds since
UNIX epoch.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-2" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-1">&lt;-</a>D<a href="#NW0-25xJsf-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;format_date&quot;</span><span class="opt">,&nbsp;</span><span class="num">2</span><span class="opt">,&nbsp;</span>cs_format_date<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-C" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-B">&lt;-</a>D<a href="#NW0-3xheh9-D">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_format_date</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>buf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">guint&nbsp;</span>buflen<span class="opt">,&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">long&nbsp;</span>t_arg<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">time_t&nbsp;</span>t<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>fmt_arg&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>fmt<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">struct&nbsp;</span>tm&nbsp;tm_in<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;si&quot;</span><span class="opt">,&nbsp;&amp;</span>fmt_arg<span class="opt">,&nbsp;&amp;</span>t_arg<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>fmt_arg<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>fmt_arg<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;fmt&nbsp;<span class="opt">=&nbsp;</span>fmt_arg<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;32-bit&nbsp;systems&nbsp;will&nbsp;fail&nbsp;in&nbsp;2038&nbsp;due&nbsp;to&nbsp;use&nbsp;of&nbsp;long&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;t&nbsp;<span class="opt">=&nbsp;</span>t_arg<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>fmt&nbsp;<span class="opt">||&nbsp;!*</span>fmt<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;fmt&nbsp;<span class="opt">=&nbsp;</span><span class="str">&quot;%c&quot;</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">localtime_r</span><span class="opt">(&amp;</span>t<span class="opt">,&nbsp;&amp;</span>tm_in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;buflen&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strlen</span><span class="opt">(</span>fmt<span class="opt">)&nbsp;*&nbsp;</span><span class="num">4</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;buf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span>buflen<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span>buf<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strftime</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>buflen<span class="opt">,&nbsp;</span>fmt<span class="opt">,&nbsp;&amp;</span>tm_in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ret&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>ret&nbsp;<span class="opt">&lt;&nbsp;</span>buflen<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;buflen&nbsp;<span class="opt">*=&nbsp;</span><span class="num">2</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>buflen&nbsp;<span class="opt">&gt;=&nbsp;</span><span class="num">1024</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>buf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>tmp&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">realloc</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>buflen<span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>tmp<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>buf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf&nbsp;<span class="opt">=&nbsp;</span>tmp<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_STRING<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>alloc&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>fmt_arg<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>buf<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;conversion&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>url_unescape(<em>string</em>)<dd>

URL-decode <em>string</em> (URL-encoding is provided by the CGI library as
<tt>url_escape(<em>string</em>)</tt>)
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-1mOMve-5" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-1mOMve-4">&lt;-</a>D<a href="#NW0-1mOMve-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;&lt;cgi/cgi.h&gt;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-25xJsf-3" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-2">&lt;-</a>D<a href="#NW0-25xJsf-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cgi_register_strfuncs</span><span class="opt">(</span>cs<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_ignore</span><span class="opt">(&amp;</span>nerr<span class="opt">);</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_strfunc</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;url_unescape&quot;</span><span class="opt">,&nbsp;</span>cs_url_unescape<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-D" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-C">&lt;-</a>D<a href="#NW0-3xheh9-E">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_url_unescape</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>in<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">**</span>out<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strdup</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>out<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;conversion&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cgi_url_unescape</span><span class="opt">(*</span>out<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>json_escape(<em>variable-name</em>)<dd>

Escape <em>variable</em> and its children using JavaScript Object Notation
(JSON).  See <a href="http://www.json.org">http://www.json.org</a> for the complete format
specification.  Nonexistent variables and variables without values or
children are output as <tt>null</tt>.  Variables with values are output as
strings by default, but may be output as numbers by adding the <tt>num</tt>
attribute, and may be output as booleans by adding the <tt>bool</tt>
attribute; booleans with no value, blank values, or the value <tt>0</tt> are
output as <tt>false</tt>.  Variables with children are output as objects by
default, but may be output as arrays (i.e., children names are sorted, but
not output) by adding the <tt>array</tt> attribute; arrays with no value are
output as an empty array, but there is no way to output an empty object
(<tt>{}</tt>).  String values must be UTF-8 encoded.  If any variables
have raw values which may conflict with UTF-8, they should be double-encoded
using e.g. URL-encoding to ensure that their value is converted to ASCII
first.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
It would be nice to be able to pass in the variable rather than passing in
the variable's name, but the ClearSilver function support only supports
integer and string variables, and not object references.  JSON encoding is
not supported by any functions in the libraries being used, so a generic
<code>GString</code> version is provided as well.
<p>
First, in order to support the different data types with indistinguishable
internal representations, flags can be set on variables using HDF
attributes.  These attributes can be set using the API or within an HDF
using the bracketed attribute name immeidately after the variable name.
There is no way to set attributes within templates, so some sort of skeleton
HDF file would need to be read in and used for that.
<p>
<pre class="dfn"><a name="NW0-4R7VR1-C" href="#NW0-4R7VR1-1"><dfn>&lt;ClearSilver Support Globals&gt;+=</dfn></a> <b>(<a href="#NW0-1eDegd-1">&lt;-U</a>)</b> <b>[<a href="#NW0-4R7VR1-B">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwc">typedef&nbsp;</span><span class="kwb">enum&nbsp;json_var_type&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;JSON_UNK<span class="opt">,&nbsp;</span>JSON_ARRAY<span class="opt">,&nbsp;</span>JSON_BOOL<span class="opt">,&nbsp;</span>JSON_NUM</pre></li>
<li><pre><span class="opt">}&nbsp;</span><span class="kwb">json_var_type</span><span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4IhMOG-5" href="#NW0-4IhMOG-1"><dfn>&lt;(build.nw) Known Data Types&gt;+=</dfn></a> <b>[<a href="#NW0-4IhMOG-4">&lt;-</a>D<a href="#NW0-4IhMOG-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">json_var_type</span><span class="opt">,%</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-8" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-7">&lt;-</a>D<a href="#NW0-3if92p-9">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">json_var_type&nbsp;</span><span class="kwd">hdf_json_var_type</span><span class="opt">(</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>obj<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;HDF_ATTR&nbsp;<span class="opt">*</span>attrs&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_attr</span><span class="opt">(</span>obj<span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span>attrs<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">strcmp</span><span class="opt">(</span>attrs<span class="opt">-&gt;</span>key<span class="opt">,&nbsp;</span><span class="str">&quot;num&quot;</span><span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>JSON_NUM<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(!</span><span class="kwd">strcmp</span><span class="opt">(</span>attrs<span class="opt">-&gt;</span>key<span class="opt">,&nbsp;</span><span class="str">&quot;bool&quot;</span><span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>JSON_BOOL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(!</span><span class="kwd">strcmp</span><span class="opt">(</span>attrs<span class="opt">-&gt;</span>key<span class="opt">,&nbsp;</span><span class="str">&quot;array&quot;</span><span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>JSON_ARRAY<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;attrs&nbsp;<span class="opt">=&nbsp;</span>attrs<span class="opt">-&gt;</span>next<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>JSON_UNK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

The conversion function recursively appends values to a string.  If the top
level has children, either an object (attribute-value pairs, which include
the name of each child) or an array (values only; the names are just sorted
before display) is appended.
<p>
<pre class="dfn"><a name="NW0-3if92p-9" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-8">&lt;-</a>D<a href="#NW0-3if92p-A">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">GString&nbsp;</span><span class="opt">*</span><span class="kwd">g_string_append_json</span><span class="opt">(</span><span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">json_var_type&nbsp;</span>vt&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_json_var_type</span><span class="opt">(</span>hdf<span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">hdf_obj_child</span><span class="opt">(</span>hdf<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>vt&nbsp;<span class="opt">==&nbsp;</span>JSON_ARRAY<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span>c&nbsp;<span class="opt">=&nbsp;</span><span class="str">'['</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">hdf_sort_obj</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>comp_hdf_name<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>hdf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_child</span><span class="opt">(</span>hdf<span class="opt">);&nbsp;</span>hdf<span class="opt">;&nbsp;</span>hdf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_next</span><span class="opt">(</span>hdf<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>c<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">=&nbsp;</span><span class="str">','</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_json</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>hdf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">']'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span>c&nbsp;<span class="opt">=&nbsp;</span><span class="str">'{'</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>hdf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_child</span><span class="opt">(</span>hdf<span class="opt">);&nbsp;</span>hdf<span class="opt">;&nbsp;</span>hdf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_next</span><span class="opt">(</span>hdf<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>c<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">=&nbsp;</span><span class="str">','</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">append_unicode_quoted</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="kwd">hdf_obj_name</span><span class="opt">(</span>hdf<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">':'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_json</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>hdf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'}'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3if92p-9-u1" href="#NW0-37WevK-1"><i>&lt;Append JSON-encoded <code>hdf</code> value to <code>buf</code>&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

If there are no children, the value is appended.  Technically, a <code>NULL</code>
value could indicate either an empty object, an empty array, a boolean
<code>false</code>, or <code>null</code>.  If the array flag is set, an empty array is
appended.  If the boolean flag is set, a boolean <code>false</code> is appended.
There is no way to distinguish empty objects and <code>null</code>, so <code>null</code> is
appended.
<p>
<pre class="dfn"><a name="NW0-37WevK-1" href="#NW0-37WevK-1"><dfn>&lt;Append JSON-encoded <code>hdf</code> value to <code>buf</code>&gt;=</dfn></a> <b>(<a href="#NW0-3if92p-9">&lt;-U</a>)</b> <b>[D<a href="#NW0-37WevK-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_value</span><span class="opt">(</span>hdf<span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(!</span>s<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>vt&nbsp;<span class="opt">==&nbsp;</span>JSON_BOOL<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;false&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else&nbsp;if</span><span class="opt">(</span>vt&nbsp;<span class="opt">==&nbsp;</span>JSON_ARRAY<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;[]&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;null&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

For ClearSilver boooleans, empty strings and zero are false.  Technically,
if the zero is considered a string, it is not false, but there is no way to
easily distinguish.  There is also no real need to check for other forms of
zero, such as hexadecimal zero or multiple zero digits.
<p>
<pre class="dfn"><a name="NW0-37WevK-2" href="#NW0-37WevK-1"><dfn>&lt;Append JSON-encoded <code>hdf</code> value to <code>buf</code>&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-9">&lt;-U</a>)</b> <b>[<a href="#NW0-37WevK-1">&lt;-</a>D<a href="#NW0-37WevK-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span>vt&nbsp;<span class="opt">==&nbsp;</span>JSON_BOOL<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>s&nbsp;<span class="opt">||&nbsp;!</span><span class="kwd">strcmp</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">&quot;0&quot;</span><span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;false&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;true&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Numbers are only appended as numbers if they are really valid numbers.  JSON
does not support octal or hexadecimal numbers, but this code does, and
converts it to decimal before printing.  If it is not a valid number, it
falls through to string formatting.
<p>
<pre class="dfn"><a name="NW0-37WevK-3" href="#NW0-37WevK-1"><dfn>&lt;Append JSON-encoded <code>hdf</code> value to <code>buf</code>&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-9">&lt;-U</a>)</b> <b>[<a href="#NW0-37WevK-2">&lt;-</a>D<a href="#NW0-37WevK-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span>vt&nbsp;<span class="opt">==&nbsp;</span>JSON_NUM&nbsp;<span class="opt">&amp;&amp;&nbsp;(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'-'</span>&nbsp;<span class="opt">||&nbsp;</span><span class="kwd">isdigit</span><span class="opt">(*</span>s<span class="opt">)))&nbsp;{&nbsp;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>d&nbsp;<span class="opt">=&nbsp;*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'-'</span>&nbsp;?&nbsp;s&nbsp;<span class="opt">+&nbsp;</span><span class="num">1&nbsp;</span><span class="opt">:&nbsp;</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">((*</span>d&nbsp;<span class="opt">&gt;=&nbsp;</span><span class="str">'1'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>d&nbsp;<span class="opt">&lt;=&nbsp;</span><span class="str">'9'</span><span class="opt">)&nbsp;||&nbsp;(*</span>d&nbsp;<span class="opt">==&nbsp;</span><span class="str">'0'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;(!</span>d<span class="opt">[</span><span class="num">1</span><span class="opt">]&nbsp;||&nbsp;</span>d<span class="opt">[</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'.'</span><span class="opt">)))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>d<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>d&nbsp;<span class="opt">==&nbsp;</span><span class="str">'.'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;</span><span class="kwd">isdigit</span><span class="opt">(</span>d<span class="opt">[</span><span class="num">1</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>d<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>d&nbsp;<span class="opt">==&nbsp;</span><span class="str">'e'</span>&nbsp;<span class="opt">||&nbsp;*</span>d&nbsp;<span class="opt">==&nbsp;</span><span class="str">'E'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>d<span class="opt">[</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'+'</span>&nbsp;<span class="opt">||&nbsp;</span>d<span class="opt">[</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'-'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(</span>d<span class="opt">[</span><span class="num">1</span><span class="opt">]))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>d<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>d<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(*</span>d&nbsp;<span class="opt">==&nbsp;</span><span class="str">'0'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>e<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">unsigned&nbsp;long&nbsp;long&nbsp;</span>v&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strtoull</span><span class="opt">(</span>s<span class="opt">,&nbsp;&amp;</span>e<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>e<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_printf</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;%lld&quot;</span><span class="opt">,&nbsp;</span>v<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Strings are only complicated in that they must be UTF-8 encoded.  It is
assumed that they already are; in most cases, this means that the string
must be ASCII to begin with.  As a fallback, if the string fails UTF-8
validation, it is printed as ASCII with special characters escaped as though
they were unicode.
<p>
<pre class="dfn"><a name="NW0-37WevK-4" href="#NW0-37WevK-1"><dfn>&lt;Append JSON-encoded <code>hdf</code> value to <code>buf</code>&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-9">&lt;-U</a>)</b> <b>[<a href="#NW0-37WevK-3">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">append_unicode_quoted</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>s<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-A" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-9">&lt;-</a>D<a href="#NW0-3if92p-B">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">GString&nbsp;</span><span class="opt">*</span><span class="kwd">append_unicode_quoted</span><span class="opt">(</span><span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'&quot;'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">g_utf8_validate</span><span class="opt">(</span>s<span class="opt">,&nbsp;-</span><span class="num">1</span><span class="opt">,&nbsp;</span>NULL<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(*</span>s<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gunichar&nbsp;uc&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_utf8_get_char</span><span class="opt">(</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_utf8_next_char</span><span class="opt">(</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt"><a name="NW0-3if92p-A-u1" href="#NW0-4PoCGH-1"><i>&lt;Tack escaped <code>uc</code> to <code>buf</code>&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(*</span>s<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">unsigned&nbsp;char&nbsp;</span>uc&nbsp;<span class="opt">=&nbsp;*</span>s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt"><a name="NW0-3if92p-A-u2" href="#NW0-4PoCGH-1"><i>&lt;Tack escaped <code>uc</code> to <code>buf</code>&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'&quot;'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>buf<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-4PoCGH-1" href="#NW0-4PoCGH-1"><dfn>&lt;Tack escaped <code>uc</code> to <code>buf</code>&gt;=</dfn></a> <b>(<a href="#NW0-3if92p-A">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span>uc&nbsp;<span class="opt">&lt;&nbsp;</span><span class="num">128&nbsp;</span><span class="opt">&amp;&amp;&nbsp;</span><span class="kwd">isprint</span><span class="opt">(</span>uc<span class="opt">)&nbsp;&amp;&amp;&nbsp;</span>uc&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'&quot;'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>uc&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>uc<span class="opt">);</span></pre></li>
<li><pre><span class="kwa">else&nbsp;switch</span><span class="opt">(</span>uc<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\b</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\\</span><span class="str">b&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\t</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\\</span><span class="str">t&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\f</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\\</span><span class="str">f&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\n</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\\</span><span class="str">n&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\r</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\\</span><span class="str">r&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'&quot;'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'/'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>uc<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">default</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_printf</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">&quot;</span><span class="esc">\\</span><span class="str">u%04x&quot;</span><span class="opt">,&nbsp;</span>uc<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Finally, the template function is pretty simple, except that it needs to be
a full callback in order to access the HDF.
<p>
<pre class="dfn"><a name="NW0-25xJsf-4" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-3">&lt;-</a>D<a href="#NW0-25xJsf-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;json_escape&quot;</span><span class="opt">,&nbsp;</span><span class="num">1</span><span class="opt">,&nbsp;</span>cs_json_escape<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-E" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-D">&lt;-</a>D<a href="#NW0-3xheh9-F">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_json_escape</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*</span>src<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>varname<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>json<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;s&quot;</span><span class="opt">,&nbsp;&amp;</span>varname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_STRING<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;json&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;src&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_obj</span><span class="opt">(</span>cs<span class="opt">-&gt;</span>hdf<span class="opt">,&nbsp;</span>varname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>src<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_json</span><span class="opt">(</span>json<span class="opt">,&nbsp;</span>src<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_assign</span><span class="opt">(</span>json<span class="opt">,&nbsp;</span><span class="str">&quot;null&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>json<span class="opt">,&nbsp;</span>FALSE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>varname<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>varname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>json_unescape(<em>variable-name</em>, <em>value</em>)<dd>

Set <em>variable</em> to the result of parsing <em>value</em> using JavaScript
Object Notation (JSON).  See <a href="http://www.json.org">http://www.json.org</a> for the complete
format specification.  Arrays will have their <tt>array</tt> attribute set
and their children will receive numeric sequence names.  Booleans will be set
to <tt>1</tt> for <tt>true</tt> and blank for <tt>false</tt> and have their
<tt>bool</tt> attribute set.  Numbers will have their <tt>num</tt> attribute
set.  Unicode escapes in the string will be encoded as per UTF-8.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
Reading JSON is probably not something C (or template) code will ever do,
but nonetheless, here is the reverse operation.  Just in case the string has
more than one value encoded, an end pointer is provided.  This is actually
used in recursive calls, since the value is embedded in a structure.  Reading
from a JSON file might be useful as well, but it requires a character of
lookahead, and is probably not useful enough to require a separate function
in order to allow reading in large volumes of data.
<p>
<pre class="dfn"><a name="NW0-3if92p-B" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-A">&lt;-</a>D<a href="#NW0-3if92p-C">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">json_from_string</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">embedded_json_from_string</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span>hdf<span class="opt">,&nbsp;&amp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;Garbage&nbsp;after&nbsp;value&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">embedded_json_from_string</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s<span class="opt">,&nbsp;</span><span class="kwb">HDF&nbsp;</span><span class="opt">*</span>hdf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">**</span>ep<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3if92p-B-u1" href="#NW0-pzYY-1"><i>&lt;Convert JSON to HDF&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Any JSON value may have leading or trailing space.
<p>
<pre class="dfn"><a name="NW0-pzYY-1" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[D<a href="#NW0-pzYY-2">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(!*</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;Expected&nbsp;value&quot;</span><span class="opt">);</span></pre></li>
</ol></ol>
<p>

Objects start with curly braces.  A recursive call is used to parse values.
Names could be processed by doing a recursive call with a dummy HDF object
as its target, but instead the string processing is done in a separate
function.
<p>
<pre class="dfn"><a name="NW0-pzYY-2" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-1">&lt;-</a>D<a href="#NW0-pzYY-3">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'{'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>gotone&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*</span>cn<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'}'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>gotone<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">','</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;expected&nbsp;,&nbsp;or&nbsp;}&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*++</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'&quot;'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;expected&nbsp;quoted&nbsp;name&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;gotone&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>buf<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_truncate</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">parse_json_string</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span>buf<span class="opt">,&nbsp;&amp;</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">':'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;expected&nbsp;:&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_get_node</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>buf<span class="opt">-&gt;</span>str<span class="opt">,&nbsp;&amp;</span>cn<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">embedded_json_from_string</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span>cn<span class="opt">,&nbsp;&amp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>buf<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_free</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>TRUE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Arrays start with square brackets.  A recursive call is used to parse
values, and names are just sequential numbers.  Even though the function is
inteded to be called with an empty object, an attempt is made to avoid any
existing children.  This means that if values are not intended to be merged,
they should first be destroyed.
<p>
<pre class="dfn"><a name="NW0-pzYY-3" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-2">&lt;-</a>D<a href="#NW0-pzYY-4">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'['</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>gotone&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>idx&nbsp;<span class="opt">=&nbsp;-</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span>idx_buf<span class="opt">[</span><span class="num">22</span><span class="opt">];</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*</span>cn<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>cn&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_child</span><span class="opt">(</span>hdf<span class="opt">);&nbsp;</span>cn<span class="opt">;&nbsp;</span>cn&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_obj_next</span><span class="opt">(</span>cn<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>cn_idx&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">atol</span><span class="opt">(</span><span class="kwd">hdf_obj_name</span><span class="opt">(</span>cn<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>cn_idx&nbsp;<span class="opt">&gt;=&nbsp;</span>idx<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idx&nbsp;<span class="opt">=&nbsp;</span>cn_idx<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">hdf_set_attr</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="str">&quot;array&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;1&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">']'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>gotone<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">','</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;expected&nbsp;,&nbsp;or&nbsp;]&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isspace</span><span class="opt">(*++</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;gotone&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">sprintf</span><span class="opt">(</span>idx_buf<span class="opt">,&nbsp;</span><span class="str">&quot;%d&quot;</span><span class="opt">,&nbsp;++</span>idx<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_get_node</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>idx_buf<span class="opt">,&nbsp;&amp;</span>cn<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">embedded_json_from_string</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span>cn<span class="opt">,&nbsp;&amp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep&nbsp;<span class="opt">&amp;&amp;&nbsp;</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Boolean values are unquoted literals.
<p>
<pre class="dfn"><a name="NW0-pzYY-4" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-3">&lt;-</a>D<a href="#NW0-pzYY-5">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#define&nbsp;is_end(c)&nbsp;(!(c)&nbsp;||&nbsp;isspace(c)&nbsp;||&nbsp;(c)&nbsp;==&nbsp;</span><span class="pps">','</span><span class="ppc">&nbsp;||&nbsp;(c)&nbsp;==&nbsp;</span><span class="pps">']'</span><span class="ppc">&nbsp;||&nbsp;(c)&nbsp;==&nbsp;</span><span class="pps">'}'</span><span class="ppc">)</span></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(!</span><span class="kwd">strncmp</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">&quot;true&quot;</span><span class="opt">,&nbsp;</span><span class="num">4</span><span class="opt">)&nbsp;&amp;&amp;&nbsp;</span><span class="kwd">is_end</span><span class="opt">(</span>s<span class="opt">[</span><span class="num">4</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_set_attr</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="str">&quot;bool&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;1&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="str">&quot;1&quot;</span><span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">4</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(!</span><span class="kwd">strncmp</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">&quot;false&quot;</span><span class="opt">,&nbsp;</span><span class="num">5</span><span class="opt">)&nbsp;&amp;&amp;&nbsp;</span><span class="kwd">is_end</span><span class="opt">(</span>s<span class="opt">[</span><span class="num">5</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_set_attr</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="str">&quot;bool&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;1&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="str">&quot;0&quot;</span><span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">5</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

An NULL value should probably clear out the entire value, if it already
exists.  Instead, it is simply ignored, on the assumption that the value is
already NULL.
<p>
<pre class="dfn"><a name="NW0-pzYY-5" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-4">&lt;-</a>D<a href="#NW0-pzYY-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(!</span><span class="kwd">strncmp</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">&quot;null&quot;</span><span class="opt">,&nbsp;</span><span class="num">4</span><span class="opt">)&nbsp;&amp;&amp;&nbsp;</span><span class="kwd">is_end</span><span class="opt">(</span>s<span class="opt">[</span><span class="num">4</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">4</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Numbers can be parsed using <code>strtol</code> or <code>strtod</code>, but their format needs
to be validated first.  Since all HDF values are basically strings, there is
no need to really parse the number.  For floating point values, precision
would be lost by such an action, anyway.  JSON also provides no range for
valid values, so it is possible to have numbers outside of the range for
even <code>strtoull</code>.
<p>
<pre class="dfn"><a name="NW0-pzYY-6" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-5">&lt;-</a>D<a href="#NW0-pzYY-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*</span>s<span class="opt">)&nbsp;||&nbsp;(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'-'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;</span><span class="kwd">isdigit</span><span class="opt">(</span>s<span class="opt">[</span><span class="num">1</span><span class="opt">])))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>e&nbsp;<span class="opt">=&nbsp;*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'-'</span>&nbsp;?&nbsp;s&nbsp;<span class="opt">+&nbsp;</span><span class="num">1&nbsp;</span><span class="opt">:&nbsp;</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>is_float<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>e&nbsp;<span class="opt">==&nbsp;</span><span class="str">'0'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;</span><span class="kwd">isdigit</span><span class="opt">(</span>e<span class="opt">[</span><span class="num">1</span><span class="opt">]))&nbsp;</span><span class="com">/*&nbsp;octal;&nbsp;explicitly&nbsp;forbidden&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;octal&nbsp;numbers&nbsp;not&nbsp;allowed&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>e<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;is_float&nbsp;<span class="opt">=&nbsp;*</span>e&nbsp;<span class="opt">==&nbsp;</span><span class="str">'.'</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>is_float&nbsp;<span class="opt">&amp;&amp;&nbsp;</span><span class="kwd">isdigit</span><span class="opt">(</span>e<span class="opt">[</span><span class="num">1</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>e<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>e&nbsp;<span class="opt">==&nbsp;</span><span class="str">'e'</span>&nbsp;<span class="opt">||&nbsp;*</span>e&nbsp;<span class="opt">==&nbsp;</span><span class="str">'E'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">((</span>e<span class="opt">[</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'+'</span>&nbsp;<span class="opt">||&nbsp;</span>e<span class="opt">[</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'-'</span><span class="opt">)&nbsp;&amp;&amp;&nbsp;</span><span class="kwd">isdigit</span><span class="opt">(</span>e<span class="opt">[</span><span class="num">2</span><span class="opt">]))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">++</span>e<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">isdigit</span><span class="opt">(</span>e<span class="opt">[</span><span class="num">1</span><span class="opt">]))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;invalid&nbsp;exponent&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>e<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">is_end</span><span class="opt">(*</span>e<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;invalid&nbsp;numeric&nbsp;format&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new_len</span><span class="opt">(</span>s<span class="opt">,&nbsp;(</span><span class="kwb">int</span><span class="opt">)(</span>e&nbsp;<span class="opt">-&nbsp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>e<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">hdf_set_attr</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="str">&quot;num&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;1&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">hdf_set_buf</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>FALSE<span class="opt">));</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

Finally, as mentioned above, strings get their own processing routine.  This
makes the parser portion pretty simple.
<p>
<pre class="dfn"><a name="NW0-pzYY-7" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-6">&lt;-</a>D<a href="#NW0-pzYY-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'&quot;'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">parse_json_string</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span>buf<span class="opt">,&nbsp;</span>ep<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_buf</span><span class="opt">(</span>hdf<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>FALSE<span class="opt">)));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

That covers all possible value formats.
<p>
<pre class="dfn"><a name="NW0-pzYY-8" href="#NW0-pzYY-1"><dfn>&lt;Convert JSON to HDF&gt;+=</dfn></a> <b>(<a href="#NW0-3if92p-B">&lt;-U</a>)</b> <b>[<a href="#NW0-pzYY-7">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;unrecognized&nbsp;value&nbsp;format&quot;</span><span class="opt">);</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-C" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-B">&lt;-</a>D<a href="#NW0-3if92p-D">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">parse_json_string</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>s<span class="opt">,&nbsp;</span><span class="kwb">GString&nbsp;</span><span class="opt">*</span>buf<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">**</span>ep<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'&quot;'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;expected&nbsp;</span><span class="esc">\&quot;</span><span class="str">&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>s<span class="opt">++;&nbsp;*</span>s&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'&quot;'</span><span class="opt">;&nbsp;</span>s<span class="opt">++)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;*</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">continue</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">switch</span><span class="opt">(*++</span>s<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'&quot;'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'/'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;*</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'b'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\b</span><span class="str">'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'f'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\f</span><span class="str">'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'n'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\n</span><span class="str">'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'r'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\r</span><span class="str">'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'t'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\t</span><span class="str">'</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">case&nbsp;</span><span class="str">'u'</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">isxdigit</span><span class="opt">(*++</span>s<span class="opt">)&nbsp;||&nbsp;!</span><span class="kwd">isxdigit</span><span class="opt">(*++</span>s<span class="opt">)&nbsp;||&nbsp;!</span><span class="kwd">isxdigit</span><span class="opt">(*++</span>s<span class="opt">)&nbsp;||</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">!</span><span class="kwd">isxdigit</span><span class="opt">(*++</span>s<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span>unibuf<span class="opt">[</span><span class="num">6</span><span class="opt">];</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>len<span class="opt">,&nbsp;</span>c<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">sscanf</span><span class="opt">(</span>s&nbsp;<span class="opt">-&nbsp;</span><span class="num">4</span><span class="opt">,&nbsp;</span><span class="str">&quot;%04x&quot;</span><span class="opt">,&nbsp;&amp;</span>c<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_unichar_to_utf8</span><span class="opt">(</span>c<span class="opt">,&nbsp;</span>unibuf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_len</span><span class="opt">(</span>buf<span class="opt">,&nbsp;</span>unibuf<span class="opt">,&nbsp;</span>len<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">default</span><span class="opt">:</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;invalid&nbsp;string&nbsp;format&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'&quot;'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;JSON:&nbsp;no&nbsp;terminating&nbsp;</span><span class="esc">\&quot;&nbsp;</span><span class="str">on&nbsp;string&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ep<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>ep&nbsp;<span class="opt">=&nbsp;</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-25xJsf-5" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-4">&lt;-</a>D<a href="#NW0-25xJsf-6">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;json_unescape&quot;</span><span class="opt">,&nbsp;</span><span class="num">2</span><span class="opt">,&nbsp;</span>cs_json_unescape<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-F" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-E">&lt;-</a>D<a href="#NW0-3xheh9-G">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_json_unescape</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">HDF&nbsp;</span><span class="opt">*</span>target<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>varname<span class="opt">,&nbsp;*</span>val<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;ss&quot;</span><span class="opt">,&nbsp;&amp;</span>varname<span class="opt">,&nbsp;&amp;</span>val<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_get_node</span><span class="opt">(</span>cs<span class="opt">-&gt;</span>hdf<span class="opt">,&nbsp;</span>varname<span class="opt">,&nbsp;&amp;</span>target<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">json_from_string</span><span class="opt">(</span>val<span class="opt">,&nbsp;</span>target<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="com">/*&nbsp;no&nbsp;void&nbsp;functions,&nbsp;so&nbsp;return&nbsp;1&nbsp;on&nbsp;success&nbsp;(i.e.,&nbsp;always)&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_NUM<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>varname<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>varname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>val<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>val<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>to_hex(<em>bin</em>)<dd>

Convert a URL-encoded binary blob to a string of lower-case hexadecimal
digits.  This is mostly for displaying checksums.  The blob must be
URL-encoded so that zeroes are handled properly in the string.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-6" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-5">&lt;-</a>D<a href="#NW0-25xJsf-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_strfunc</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;to_hex&quot;</span><span class="opt">,&nbsp;</span>cs_to_hex<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-G" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-F">&lt;-</a>D<a href="#NW0-3xheh9-H">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_to_hex</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>in<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">**</span>out<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">guint8&nbsp;</span>c<span class="opt">,&nbsp;*</span>op<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span><span class="kwd">strlen</span><span class="opt">(</span>in<span class="opt">)&nbsp;*&nbsp;</span><span class="num">2&nbsp;</span><span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>out<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;conversion&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;op&nbsp;<span class="opt">=&nbsp;(</span><span class="kwb">guint8&nbsp;</span><span class="opt">*)*</span>out<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(*</span>in<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>in&nbsp;<span class="opt">==&nbsp;</span><span class="str">'%'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;</span><span class="kwd">isxdigit</span><span class="opt">(</span>in<span class="opt">[</span><span class="num">1</span><span class="opt">])&nbsp;&amp;&amp;&nbsp;</span><span class="kwd">isxdigit</span><span class="opt">(</span>in<span class="opt">[</span><span class="num">2</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">=&nbsp;*++</span>in&nbsp;<span class="opt">&amp;&nbsp;</span><span class="num">0xf</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>in&nbsp;<span class="opt">&gt;&nbsp;</span><span class="str">'9'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">+=&nbsp;</span><span class="num">10&nbsp;</span><span class="opt">-&nbsp;(</span><span class="str">'a'</span>&nbsp;<span class="opt">&amp;&nbsp;</span><span class="num">0xf</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">&lt;&lt;=&nbsp;</span><span class="num">4</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">+=&nbsp;*++</span>in&nbsp;<span class="opt">&amp;&nbsp;</span><span class="num">0xf</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>in&nbsp;<span class="opt">&gt;&nbsp;</span><span class="str">'9'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">+=&nbsp;</span><span class="num">10&nbsp;</span><span class="opt">-&nbsp;(</span><span class="str">'a'</span>&nbsp;<span class="opt">&amp;&nbsp;</span><span class="num">0xf</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(*</span>in&nbsp;<span class="opt">==&nbsp;</span><span class="str">'+'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">=&nbsp;</span><span class="str">'&nbsp;'</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;<span class="opt">=&nbsp;*</span>in<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">=&nbsp;(</span>c&nbsp;<span class="opt">&gt;&gt;&nbsp;</span><span class="num">4</span><span class="opt">)&nbsp;+&nbsp;</span><span class="str">'0'</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>c&nbsp;<span class="opt">&gt;&nbsp;</span><span class="num">0x9f</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">+=&nbsp;</span><span class="str">'a'</span>&nbsp;<span class="opt">-&nbsp;</span><span class="str">'0'</span>&nbsp;<span class="opt">-&nbsp;</span><span class="num">10</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*++</span>op&nbsp;<span class="opt">=&nbsp;(</span>c&nbsp;<span class="opt">&amp;=&nbsp;</span><span class="num">0xf</span><span class="opt">)&nbsp;+&nbsp;</span><span class="str">'0'</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>c&nbsp;<span class="opt">&gt;&nbsp;</span><span class="num">9</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">+=&nbsp;</span><span class="str">'a'</span>&nbsp;<span class="opt">-&nbsp;</span><span class="str">'0'</span>&nbsp;<span class="opt">-&nbsp;</span><span class="num">10</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;op<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;in<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>from_hex(<em>hex</em>)<dd>

Convert a string of hexadecimal digits to a URL-encoded binary blob.  This
is mostly for converting checksums from their usual format to that expected
by these utilities.  The return must be URL-encoded to prevent issues with
zeroes in string returns.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-7" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-6">&lt;-</a>D<a href="#NW0-25xJsf-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_strfunc</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;from_hex&quot;</span><span class="opt">,&nbsp;</span>cs_from_hex<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-H" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-G">&lt;-</a>D<a href="#NW0-3xheh9-I">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_from_hex</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>in<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">**</span>out<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>op<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span><span class="kwd">strlen</span><span class="opt">(</span>in<span class="opt">)&nbsp;*&nbsp;</span><span class="num">3&nbsp;</span><span class="opt">/&nbsp;</span><span class="num">2&nbsp;</span><span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>out<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;conversion&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isxdigit</span><span class="opt">(*</span>in<span class="opt">)&nbsp;&amp;&amp;&nbsp;</span><span class="kwd">isxdigit</span><span class="opt">(</span>in<span class="opt">[</span><span class="num">1</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op<span class="opt">++&nbsp;=&nbsp;</span><span class="str">'%'</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op<span class="opt">++&nbsp;=&nbsp;</span><span class="kwd">toupper</span><span class="opt">(*</span>in<span class="opt">++);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op<span class="opt">++&nbsp;=&nbsp;</span><span class="kwd">toupper</span><span class="opt">(*</span>in<span class="opt">++);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>in<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;Invalid&nbsp;hex&nbsp;string&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>to_lower(<em>string</em>)<dd>

Convert <em>string</em> to lower-case in the server's current locale.  This is
done a byte at a time using the <code>ctype.h</code> function.  This means that the
string will probably be mangled in UTF-8 locales or if the input locale does
not match the server's locale.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-8" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-7">&lt;-</a>D<a href="#NW0-25xJsf-9">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_strfunc</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;to_lower&quot;</span><span class="opt">,&nbsp;</span>cs_to_lower<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-I" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-H">&lt;-</a>D<a href="#NW0-3xheh9-J">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_to_lower</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>in<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">**</span>out<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>op<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span><span class="kwd">strlen</span><span class="opt">(</span>in<span class="opt">)&nbsp;+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>out<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;conversion&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(*</span>in<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op<span class="opt">++&nbsp;=&nbsp;</span><span class="kwd">tolower</span><span class="opt">(*</span>in<span class="opt">++);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>to_upper(<em>string</em>)<dd>

Convert <em>string</em> to upper-case.  The comments for <code>to_lower()</code> apply
here as well.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-9" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-8">&lt;-</a>D<a href="#NW0-25xJsf-A">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_strfunc</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;to_upper&quot;</span><span class="opt">,&nbsp;</span>cs_to_upper<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-J" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-I">&lt;-</a>D<a href="#NW0-3xheh9-K">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_to_upper</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>in<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">**</span>out<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>op<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span><span class="kwd">strlen</span><span class="opt">(</span>in<span class="opt">)&nbsp;+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!*</span>out<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;conversion&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(*</span>in<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>op<span class="opt">++&nbsp;=&nbsp;</span><span class="kwd">toupper</span><span class="opt">(*</span>in<span class="opt">++);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>op&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>pw_uid(<em>id</em>)<dd>

Return the password file entry for the given user ID on the local system.
Since this uses the system function, it may not be a real file entry, but it
is returned in the format of one.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-A" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-9">&lt;-</a>D<a href="#NW0-25xJsf-B">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;pw_uid&quot;</span><span class="opt">,&nbsp;</span><span class="num">1</span><span class="opt">,&nbsp;</span>cs_pw_uid<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1mOMve-6" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-1mOMve-5">&lt;-</a>D<a href="#NW0-1mOMve-7">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;&lt;pwd.h&gt;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-K" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-J">&lt;-</a>D<a href="#NW0-3xheh9-L">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="com">/*&nbsp;not&nbsp;reentrant,&nbsp;but&nbsp;not&nbsp;for&nbsp;threaded&nbsp;programs&nbsp;*/</span></pre></li>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_pw_uid</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">long&nbsp;</span>uid<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;i&quot;</span><span class="opt">,&nbsp;&amp;</span>uid<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_STRING<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">struct&nbsp;</span>passwd&nbsp;<span class="opt">*</span>pw&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">getpwuid</span><span class="opt">((</span><span class="kwb">uid_t</span><span class="opt">)</span>uid<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-K-u1" href="#NW0-1LV4IE-1"><i>&lt;Set <code>s</code> to passwd file entry&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>alloc&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1LV4IE-1" href="#NW0-1LV4IE-1"><dfn>&lt;Set <code>s</code> to passwd file entry&gt;=</dfn></a> <b>(<a href="#NW0-3xheh9-K">&lt;-U</a> <a href="#NW0-3xheh9-L">U-&gt;</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">GString&nbsp;</span><span class="opt">*</span>res<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwa">if</span><span class="opt">(!</span>pw<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;unknown&nbsp;user&quot;</span><span class="opt">);</span></pre></li>
<li><pre>res&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre><span class="kwd">g_string_printf</span><span class="opt">(</span>res<span class="opt">,&nbsp;</span><span class="str">&quot;%s:*:%ld:%ld:%s:%s:%s&quot;</span><span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pw<span class="opt">-&gt;</span>pw_name<span class="opt">,&nbsp;</span><span class="com">/*&nbsp;pw-&gt;pw_passwd,&nbsp;*/</span>&nbsp;<span class="opt">(</span><span class="kwb">long</span><span class="opt">)</span>pw<span class="opt">-&gt;</span>pw_uid<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">(</span><span class="kwb">long</span><span class="opt">)</span>pw<span class="opt">-&gt;</span>pw_gid<span class="opt">,&nbsp;</span>pw<span class="opt">-&gt;</span>pw_gecos<span class="opt">,&nbsp;</span>pw<span class="opt">-&gt;</span>pw_dir<span class="opt">,&nbsp;</span>pw<span class="opt">-&gt;</span>pw_shell<span class="opt">);</span></pre></li>
<li><pre>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>res<span class="opt">,&nbsp;</span>FALSE<span class="opt">);</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>pw_nam(<em>name</em>)<dd>

Return the password file entry for the given user name on the local system.
Since this uses the system function, it may not be a real file entry, but it
is returned in the format of one.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-B" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-A">&lt;-</a>D<a href="#NW0-25xJsf-C">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_strfunc</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;pw_nam&quot;</span><span class="opt">,&nbsp;</span>cs_pw_nam<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-L" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-K">&lt;-</a>D<a href="#NW0-3xheh9-M">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_pw_nam</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>in<span class="opt">,&nbsp;</span><span class="kwb">char&nbsp;</span><span class="opt">**</span>out<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">struct&nbsp;</span>passwd&nbsp;<span class="opt">*</span>pw&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">getpwnam</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3xheh9-L-u1" href="#NW0-1LV4IE-1"><i>&lt;Set <code>s</code> to passwd file entry&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">*</span>out&nbsp;<span class="opt">=&nbsp;</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>re_match(<em>re</em>, <em>string</em>)<dd>

Return integer flag 1 if URL-encoded POSIX extended regular expression
<em>re</em> matches (non-URL-encoded) <em>string</em>.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-C" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-B">&lt;-</a>D<a href="#NW0-25xJsf-D">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;re_match&quot;</span><span class="opt">,&nbsp;</span><span class="num">2</span><span class="opt">,&nbsp;</span>cs_re_match<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1mOMve-7" href="#NW0-1mOMve-1"><dfn>&lt;(build.nw) Common C Includes&gt;+=</dfn></a> <b>(<a href="#NW0-3fTQXD-1">U-&gt;</a>)</b> <b>[<a href="#NW0-1mOMve-6">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="ppc">#include&nbsp;&lt;regex.h&gt;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-M" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-L">&lt;-</a>D<a href="#NW0-3xheh9-N">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_re_match</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">regex_t&nbsp;</span>re<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>in&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>re_s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;ss&quot;</span><span class="opt">,&nbsp;&amp;</span>re_s<span class="opt">,&nbsp;&amp;</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>in<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>re_s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cgi_url_unescape</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">regcomp</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>re_s<span class="opt">,&nbsp;</span>REG_EXTENDED&nbsp;<span class="opt">|&nbsp;</span>REG_NOSUB<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ret<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">regerr_nerr</span><span class="opt">(</span>re_s<span class="opt">,&nbsp;&amp;</span>re<span class="opt">,&nbsp;</span>ret<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_NUM<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;!</span><span class="kwd">regexec</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>in<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">regfree</span><span class="opt">(&amp;</span>re<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-D" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-C">&lt;-</a>D<a href="#NW0-3if92p-E">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">regerr_nerr</span><span class="opt">(</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>prefix<span class="opt">,&nbsp;</span><span class="kwb">regex_t&nbsp;</span><span class="opt">*</span>re<span class="opt">,&nbsp;</span><span class="kwb">int&nbsp;</span>ret<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">size_t&nbsp;</span>errlen&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">regerror</span><span class="opt">(</span>ret<span class="opt">,&nbsp;</span>re<span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>ebuf&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">malloc</span><span class="opt">(</span>errlen&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>ebuf<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;Regex&nbsp;Error&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">else&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">regerror</span><span class="opt">(</span>ret<span class="opt">,&nbsp;</span>re<span class="opt">,&nbsp;</span>ebuf<span class="opt">,&nbsp;</span>errlen&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise</span><span class="opt">(</span>GENERIC_ERR<span class="opt">,&nbsp;</span><span class="str">&quot;%s:&nbsp;%s&quot;</span><span class="opt">,&nbsp;</span>prefix<span class="opt">,&nbsp;</span>ebuf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>ebuf<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>re_subst(<em>re</em>, <em>subst</em>, <em>string</em>)<dd>

Substitute occurrences of URL-encoded POSIX extended regular expression
<em>re</em> with URL-encoded <em>subst</em> string in (non-URL-encoded)
<em>string</em>.  In <em>subst</em>, backslash escapes are supported:
<ul>
<li><tt><i>\\</i></tt> means backslash
<li><tt><i>\0</i></tt> means the entire matching string
<li><tt><i>\n</i></tt>, where <em>n</em> is a decimal number, means the
<i>n^th</i> parenthesized subexpression
<li><tt><i>\,</i></tt> means nothing (so you can separate
<tt><i>\n</i></tt> from literal decimal digits)
<li><tt><i>\g</i></tt> also means nothing, but has the side
effect that all occurrences of the regular expression are substituted.  If
this is not present, only the first occurrence is substituted.
</ul>
The behavior of any other character following a backslash, or a backslash at
the end of a string, is undefined.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-D" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-C">&lt;-</a>D<a href="#NW0-25xJsf-E">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;re_subst&quot;</span><span class="opt">,&nbsp;</span><span class="num">3</span><span class="opt">,&nbsp;</span>cs_re_subst<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-N" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-M">&lt;-</a>D<a href="#NW0-3xheh9-O">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_re_subst</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">regex_t&nbsp;</span>re<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>in_p&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>in<span class="opt">,&nbsp;*</span>subst&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>re_s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>matchno<span class="opt">,&nbsp;</span>max_match<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">regmatch_t&nbsp;</span><span class="opt">*</span>matches<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>subst_out<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>global&nbsp;<span class="opt">=&nbsp;</span>FALSE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>exec_opts<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;sss&quot;</span><span class="opt">,&nbsp;&amp;</span>re_s<span class="opt">,&nbsp;&amp;</span>subst<span class="opt">,&nbsp;&amp;</span>in_p<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>in_p<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_p<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>re_s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>subst<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>subst<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cgi_url_unescape</span><span class="opt">(</span>subst<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>s&nbsp;<span class="opt">=&nbsp;</span>subst<span class="opt">,&nbsp;</span>max_match&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;&nbsp;*</span>s<span class="opt">;&nbsp;</span>s<span class="opt">++)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(</span>s<span class="opt">[</span><span class="num">1</span><span class="opt">]))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchno&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">atoi</span><span class="opt">(</span>s&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matchno&nbsp;<span class="opt">&gt;&nbsp;</span>max_match<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_match&nbsp;<span class="opt">=&nbsp;</span>matchno<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(</span>s<span class="opt">[</span><span class="num">1</span><span class="opt">])&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s&nbsp;<span class="opt">==&nbsp;</span><span class="str">'g'</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="opt">=&nbsp;</span>TRUE<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;matches&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">calloc</span><span class="opt">(</span><span class="kwa">sizeof</span><span class="opt">(*</span>matches<span class="opt">),&nbsp;</span>max_match&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>matches<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>subst<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_p<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;subst&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cgi_url_unescape</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">regcomp</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>re_s<span class="opt">,&nbsp;</span>REG_EXTENDED<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ret<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>matches<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">regerr_nerr</span><span class="opt">(</span>re_s<span class="opt">,&nbsp;&amp;</span>re<span class="opt">,&nbsp;</span>ret<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;subst_out&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;exec_opts&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;in&nbsp;<span class="opt">=&nbsp;</span>in_p<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(!</span><span class="kwd">regexec</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>in<span class="opt">,&nbsp;</span>max_match&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">,&nbsp;</span>matches<span class="opt">,&nbsp;</span>exec_opts<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>b<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matches<span class="opt">[</span><span class="num">0</span><span class="opt">].</span>rm_so<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_len</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;</span>in<span class="opt">,&nbsp;</span>matches<span class="opt">[</span><span class="num">0</span><span class="opt">].</span>rm_so<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span>subst<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">((</span>b&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strchr</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">'</span><span class="esc">\\</span><span class="str">'</span><span class="opt">)))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>b&nbsp;<span class="opt">!=&nbsp;</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_len</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;</span>s<span class="opt">,&nbsp;(</span><span class="kwb">int</span><span class="opt">)(</span>b&nbsp;<span class="opt">-&nbsp;</span>s<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>b<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchno&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">atoi</span><span class="opt">(</span>b<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">isdigit</span><span class="opt">(*++</span>b<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_so&nbsp;<span class="opt">!=&nbsp;-</span><span class="num">1&nbsp;</span><span class="opt">&amp;&amp;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_eo&nbsp;<span class="opt">&gt;&nbsp;</span>matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_so<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_len</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;</span>in&nbsp;<span class="opt">+&nbsp;</span>matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_so<span class="opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_eo&nbsp;<span class="opt">-&nbsp;</span>matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_so<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else&nbsp;if</span><span class="opt">(*</span>b<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>b&nbsp;<span class="opt">!=&nbsp;</span><span class="str">'g'</span>&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>b&nbsp;<span class="opt">!=&nbsp;</span><span class="str">','</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append_c</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;*</span>b<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b<span class="opt">++;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span>b<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;</span>s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;non-overlapping&nbsp;global,&nbsp;like&nbsp;sed&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;<span class="opt">+=&nbsp;</span>matches<span class="opt">[</span><span class="num">0</span><span class="opt">].</span>rm_eo<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>global<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;exec_opts&nbsp;<span class="opt">|=&nbsp;</span>REG_NOTBOL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">/*&nbsp;only&nbsp;allow&nbsp;empty&nbsp;patterns&nbsp;to&nbsp;match&nbsp;once&nbsp;*/</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>matches<span class="opt">[</span><span class="num">0</span><span class="opt">].</span>rm_so&nbsp;<span class="opt">&amp;&amp;&nbsp;!</span>matches<span class="opt">[</span><span class="num">0</span><span class="opt">].</span>rm_eo<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">break</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>in<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_append</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>matches<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>subst<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_p<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">regfree</span><span class="opt">(&amp;</span>re<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_STRING<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>alloc&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>subst_out<span class="opt">,&nbsp;</span>FALSE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>re_extract(<em>variable</em> [ + ',' + <em>variable</em> ...
], <em>re</em>, <em>string</em>)<dd>

Extract substrings of (non-URL-encoded) <em>string</em> matching parenthesized
subexpressions in URL-encoded POSIX extended regular expression <em>re</em>.
The first such match is assigned to the first named <em>variable</em>, the
second is assigned to the second named <em>variable</em>, and so forth.  Blank
variable names can be used to skip particular subexpressions.  The return
value is 1 if the regular expression matched.  Otherwise, no variable
assignments were made, and 0 is returned.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-E" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-D">&lt;-</a>D<a href="#NW0-25xJsf-F">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;re_extract&quot;</span><span class="opt">,&nbsp;</span><span class="num">3</span><span class="opt">,&nbsp;</span>cs_re_extract<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-O" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-N">&lt;-</a>D<a href="#NW0-3xheh9-P">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_re_extract</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">regex_t&nbsp;</span>re<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>vars&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>re_s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>in_s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>s<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr&nbsp;<span class="opt">=&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>nmatch<span class="opt">,&nbsp;</span>matchno<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">regmatch_t&nbsp;</span><span class="opt">*</span>matches<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">gboolean&nbsp;</span>matched<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;sss&quot;</span><span class="opt">,&nbsp;&amp;</span>vars<span class="opt">,&nbsp;&amp;</span>re_s<span class="opt">,&nbsp;&amp;</span>in_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>vars<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>vars<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>re_s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>in_s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>nmatch&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">,&nbsp;</span>s&nbsp;<span class="opt">=&nbsp;</span>vars<span class="opt">;&nbsp;</span>s&nbsp;<span class="opt">&amp;&amp;&nbsp;*</span>s<span class="opt">;&nbsp;</span>nmatch<span class="opt">++)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strchr</span><span class="opt">(</span>s<span class="opt">,&nbsp;</span><span class="str">','</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>s<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">*</span>s<span class="opt">++&nbsp;=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nmatch<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">calloc</span><span class="opt">(</span><span class="kwa">sizeof</span><span class="opt">(*</span>matches<span class="opt">),&nbsp;</span>nmatch&nbsp;<span class="opt">+&nbsp;</span><span class="num">1</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>matches<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>vars<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;No&nbsp;memory&nbsp;for&nbsp;subst&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}&nbsp;</span><span class="kwa">else</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">cgi_url_unescape</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">regcomp</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>re_s<span class="opt">,&nbsp;</span>REG_EXTENDED<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ret<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matches<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>matches<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">regerr_nerr</span><span class="opt">(</span>re_s<span class="opt">,&nbsp;&amp;</span>re<span class="opt">,&nbsp;</span>ret<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>vars<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>re_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;matched&nbsp;<span class="opt">=&nbsp;!</span><span class="kwd">regexec</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>in_s<span class="opt">,&nbsp;</span>nmatch&nbsp;?&nbsp;nmatch&nbsp;<span class="opt">+&nbsp;</span><span class="num">1&nbsp;</span><span class="opt">:&nbsp;</span><span class="num">0</span><span class="opt">,&nbsp;</span>matches<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matched<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">for</span><span class="opt">(</span>s&nbsp;<span class="opt">=&nbsp;</span>vars<span class="opt">,&nbsp;</span>matchno&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;&nbsp;</span>matchno&nbsp;<span class="opt">&lt;=&nbsp;</span>nmatch<span class="opt">;&nbsp;</span>matchno<span class="opt">++,&nbsp;</span>s&nbsp;<span class="opt">+=&nbsp;</span><span class="kwd">strlen</span><span class="opt">(</span>s<span class="opt">)&nbsp;+&nbsp;</span><span class="num">1</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(*</span>s<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>so&nbsp;<span class="opt">=&nbsp;</span>matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_so<span class="opt">,&nbsp;</span>eo&nbsp;<span class="opt">=&nbsp;</span>matches<span class="opt">[</span>matchno<span class="opt">].</span>rm_eo<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>so&nbsp;<span class="opt">==&nbsp;-</span><span class="num">1&nbsp;</span><span class="opt">||&nbsp;</span>eo&nbsp;<span class="opt">&lt;=&nbsp;</span>so<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>cs<span class="opt">-&gt;</span>hdf<span class="opt">,&nbsp;</span>s<span class="opt">,&nbsp;</span><span class="str">&quot;&quot;</span><span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">else&nbsp;</span><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">char&nbsp;</span>c&nbsp;<span class="opt">=&nbsp;</span>in_s<span class="opt">[</span>eo<span class="opt">];</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in_s<span class="opt">[</span>eo<span class="opt">]&nbsp;=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>cs<span class="opt">-&gt;</span>hdf<span class="opt">,&nbsp;</span>s<span class="opt">,&nbsp;</span>in_s&nbsp;<span class="opt">+&nbsp;</span>so<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in_s<span class="opt">[</span>eo<span class="opt">]&nbsp;=&nbsp;</span>c<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>vars<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matches<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>matches<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">regfree</span><span class="opt">(&amp;</span>re<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>vars<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in_s<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>matches<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>matches<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">regfree</span><span class="opt">(&amp;</span>re<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_NUM<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;!!</span>matched<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>grep(<em>file</em>, <em>string</em>)<dd>

Return the first line in <em>file</em> on the server matching POSIX extended
regular expression <em>string</em>.  If no lines match, a blank string is
returned. The file name may not contain the vertical bar character.  The
primary intended purpose for this function is to look up password file
entries in alternate password files.
<!-- End-doc tmpl-funcs-->
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-F" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-E">&lt;-</a>D<a href="#NW0-25xJsf-G">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;grep&quot;</span><span class="opt">,&nbsp;</span><span class="num">2</span><span class="opt">,&nbsp;</span>cs_grep<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-P" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-O">&lt;-</a>D<a href="#NW0-3xheh9-Q">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_grep</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>pat&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">,&nbsp;*</span>fname&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">FILE&nbsp;</span><span class="opt">*</span>f&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>res&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">regex_t&nbsp;</span>re<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">int&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;ss&quot;</span><span class="opt">,&nbsp;&amp;</span>fname<span class="opt">,&nbsp;&amp;</span>pat<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>fname<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>fname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>pat<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>pat<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;f&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">fopen</span><span class="opt">(</span>fname<span class="opt">,&nbsp;</span><span class="str">&quot;r&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>f<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_raise_errno</span><span class="opt">(</span>NERR_IO<span class="opt">,&nbsp;</span><span class="str">&quot;%s&quot;</span><span class="opt">,&nbsp;</span>fname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>fname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>pat<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>fname<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">regcomp</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>pat<span class="opt">,&nbsp;</span>REG_EXTENDED&nbsp;<span class="opt">|&nbsp;</span>REG_NOSUB<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>ret<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fclose</span><span class="opt">(</span>f<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">regerr_nerr</span><span class="opt">(</span>pat<span class="opt">,&nbsp;&amp;</span>re<span class="opt">,&nbsp;</span>ret<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>pat<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>pat<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_STRING<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>alloc&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="kwd">g_string_fgets</span><span class="opt">(&amp;</span>res<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">,&nbsp;</span>f<span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span>res<span class="opt">-&gt;</span>len&nbsp;<span class="opt">&gt;&nbsp;</span><span class="num">0&nbsp;</span><span class="opt">&amp;&amp;&nbsp;(</span>res<span class="opt">-&gt;</span>str<span class="opt">[</span>res<span class="opt">-&gt;</span>len&nbsp;<span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'</span><span class="esc">\n</span><span class="str">'</span>&nbsp;<span class="opt">||</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res<span class="opt">-&gt;</span>str<span class="opt">[</span>res<span class="opt">-&gt;</span>len&nbsp;<span class="opt">-&nbsp;</span><span class="num">1</span><span class="opt">]&nbsp;==&nbsp;</span><span class="str">'</span><span class="esc">\r</span><span class="str">'</span><span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res<span class="opt">-&gt;</span>len<span class="opt">--;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span><span class="kwd">regexec</span><span class="opt">(&amp;</span>re<span class="opt">,&nbsp;</span>res<span class="opt">-&gt;</span>str<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">,&nbsp;</span>NULL<span class="opt">,&nbsp;</span><span class="num">0</span><span class="opt">))&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>res<span class="opt">,&nbsp;</span>FALSE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fclose</span><span class="opt">(</span>f<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">regfree</span><span class="opt">(&amp;</span>re<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">g_string_free</span><span class="opt">(</span>res<span class="opt">,&nbsp;</span>TRUE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">strdup</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<dl>
<!-- Begin-doc tmpl-funcs-->
<dt>eval_tmpl(<em>template</em>)<dd>

Evaluate <em>template</em> as a template.  Unlike <code>lvar</code> and <code>evar</code>, the
results can be assigned to a variable for further processing.
<!-- End-doc tmpl-funcs-->
Note that the simple implementation of this function always crashes.  The
HDF is probably being shared, so it is duplicated and then destroyed.  This
means that any side effects are lost.  This function also requires the use
of the generic function interface; without it only the global HDF may be
used by the template.
</dl>
<p>
<pre class="dfn"><a name="NW0-25xJsf-G" href="#NW0-25xJsf-1"><dfn>&lt;Initialize templates&gt;+=</dfn></a> <b>(<a href="#NW0-3xheh9-3">&lt;-U</a>)</b> <b>[<a href="#NW0-25xJsf-F">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">cs_register_function</span><span class="opt">(</span>cs<span class="opt">,&nbsp;(</span><span class="kwb">char&nbsp;</span><span class="opt">*)</span><span class="str">&quot;eval_tmpl&quot;</span><span class="opt">,&nbsp;</span><span class="num">1</span><span class="opt">,&nbsp;</span>cs_eval_tmpl<span class="opt">));</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3xheh9-Q" href="#NW0-3xheh9-1"><dfn>&lt;tmpl.c&gt;+=</dfn></a> <b>[<a href="#NW0-3xheh9-P">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">cs_eval_tmpl</span><span class="opt">(</span><span class="kwb">CSPARSE&nbsp;</span><span class="opt">*</span>cs<span class="opt">,&nbsp;</span>CS_FUNCTION&nbsp;<span class="opt">*</span>csf<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>args<span class="opt">,&nbsp;</span>CSARG&nbsp;<span class="opt">*</span>result<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>out_str<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">char&nbsp;</span><span class="opt">*</span>in&nbsp;<span class="opt">=&nbsp;</span>NULL<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">cs_arg_parse</span><span class="opt">(</span>cs<span class="opt">,&nbsp;</span>args<span class="opt">,&nbsp;</span><span class="str">&quot;s&quot;</span><span class="opt">,&nbsp;&amp;</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>in<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;out_str&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">tmpl_string</span><span class="opt">(</span>in<span class="opt">,&nbsp;</span>cs<span class="opt">-&gt;</span>hdf<span class="opt">,&nbsp;</span>out_str<span class="opt">,&nbsp;</span>TRUE<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">free</span><span class="opt">(</span>in<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_free</span><span class="opt">(</span>out_str<span class="opt">,&nbsp;</span>TRUE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>op_type&nbsp;<span class="opt">=&nbsp;</span>CS_TYPE_STRING<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>n&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>s&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_free</span><span class="opt">(</span>out_str<span class="opt">,&nbsp;</span>FALSE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;result<span class="opt">-&gt;</span>alloc&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>nerr<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

A simple program is provided to strip ClearSilver from templates, supporting
these functions.
<p>
<pre class="dfn"><a name="NW0-2uk6GO-1" href="#NW0-2uk6GO-1"><dfn>&lt;(build.nw) C Executables&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>display_template&nbsp;\</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3fTQXD-1" href="#NW0-3fTQXD-1"><dfn>&lt;display_template.c&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="opt"><a name="NW0-3fTQXD-1-u1" href="#NW0-1mOMve-1"><i>&lt;(build.nw) Common C Includes&gt;</i></a></span></pre></li>
<li><pre><span class="ppc">#include&nbsp;</span><span class="pps">&quot;cproto.h&quot;</span><span class="ppc"></span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">void&nbsp;</span><span class="kwd">help</span><span class="opt">(</span><span class="kwb">void</span><span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>config_root&nbsp;<span class="opt">=&nbsp;</span><span class="str">&quot;.&quot;</span><span class="opt">;</span></pre></li>
<li><pre><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>config_path&nbsp;<span class="opt">=&nbsp;</span><span class="str">&quot;display_template.conf&quot;</span><span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">int&nbsp;</span><span class="kwd">main</span><span class="opt">(</span><span class="kwb">int&nbsp;</span>argc<span class="opt">,&nbsp;</span><span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">**</span>argv<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3fTQXD-1-u2" href="#NW0-4eC0tT-1"><i>&lt;Common Mainline Variables&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwb">const&nbsp;char&nbsp;</span><span class="opt">*</span>tmpl<span class="opt">;</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>argc&nbsp;<span class="opt">&lt;=&nbsp;</span><span class="num">1</span><span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;argc<span class="opt">--;</span></pre></li>
<li><pre>&nbsp;&nbsp;tmpl&nbsp;<span class="opt">=&nbsp;*++</span>argv<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt"><a name="NW0-3fTQXD-1-u3" href="#NW0-2MiCsZ-1"><i>&lt;Read configuration&gt;</i></a></span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">==&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwb">GString&nbsp;</span><span class="opt">*</span>cwd&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">g_string_new</span><span class="opt">(</span><span class="str">&quot;&quot;</span><span class="opt">);</span></pre></li>
<li><pre></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;nerr&nbsp;<span class="opt">=&nbsp;</span><span class="kwd">nerr_pass</span><span class="opt">(</span><span class="kwd">getcwd_gs</span><span class="opt">(</span>cwd<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span><span class="str">&quot;hdf.loadpaths.cwd&quot;</span><span class="opt">,&nbsp;</span>cwd<span class="opt">-&gt;</span>str<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_free</span><span class="opt">(</span>cwd<span class="opt">,&nbsp;</span>TRUE<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">hdf_set_value</span><span class="opt">(</span>local_config<span class="opt">,&nbsp;</span><span class="str">&quot;Config.VarEscapeMode&quot;</span><span class="opt">,&nbsp;</span><span class="str">&quot;html&quot;</span><span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwd">nerr_op</span><span class="opt">(</span><span class="kwd">tmpl_file</span><span class="opt">(</span>tmpl<span class="opt">,&nbsp;</span>local_config<span class="opt">,&nbsp;</span>stdout<span class="opt">,&nbsp;</span>FALSE<span class="opt">));</span></pre></li>
<li><pre>&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="num">0</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>nerr&nbsp;<span class="opt">!=&nbsp;</span>STATUS_OK<span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">nerr_log_error</span><span class="opt">(</span>nerr<span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;<span class="opt">=&nbsp;</span><span class="num">1</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>ret<span class="opt">;</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-3if92p-E" href="#NW0-3if92p-1"><dfn>&lt;cs_supt.c&gt;+=</dfn></a> <b>[<a href="#NW0-3if92p-D">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwb">NEOERR&nbsp;</span><span class="opt">*</span><span class="kwd">getcwd_gs</span><span class="opt">(</span><span class="kwb">GString&nbsp;</span><span class="opt">*</span>gs<span class="opt">)</span></pre></li>
<li><pre><span class="opt">{</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(!</span>gs<span class="opt">-&gt;</span>allocated_len<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_set_size</span><span class="opt">(</span>gs<span class="opt">,&nbsp;</span><span class="num">32</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="kwa">while</span><span class="opt">(</span><span class="num">1</span><span class="opt">)&nbsp;{</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span><span class="kwd">getcwd</span><span class="opt">(</span>gs<span class="opt">-&gt;</span>str<span class="opt">,&nbsp;</span>gs<span class="opt">-&gt;</span>allocated_len<span class="opt">))</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span>STATUS_OK<span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>errno&nbsp;<span class="opt">==&nbsp;</span>EAGAIN&nbsp;<span class="opt">||&nbsp;</span>errno&nbsp;<span class="opt">==&nbsp;</span>EINTR<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">continue</span><span class="opt">;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">if</span><span class="opt">(</span>errno&nbsp;<span class="opt">!=&nbsp;</span>ERANGE<span class="opt">)</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwa">return&nbsp;</span><span class="kwd">nerr_raise_msg_errno</span><span class="opt">(</span><span class="str">&quot;getting&nbsp;current&nbsp;directory&quot;</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">g_string_set_size</span><span class="opt">(</span>gs<span class="opt">,&nbsp;</span>gs<span class="opt">-&gt;</span>allocated_len&nbsp;<span class="opt">*&nbsp;</span><span class="num">2</span><span class="opt">);</span></pre></li>
<li><pre>&nbsp;&nbsp;<span class="opt">}</span></pre></li>
<li><pre><span class="opt">}</span></pre></li>
</ol></ol>
<p>

<h2><a name=toc7>HTML Templates</a></h2>
<p>
All of the HTML templates have to start with the wordy HTML document type
header.  Since heavy use of ClearSilver macros would invalidate most HTML
files anyway, this is placed in a standard header file.  It's also provided
as a code chunk to make creation of plain HTML easier.
<p>

<p><pre class="dfn"><a name="NW0-3RXEYe-1" href="#NW0-3RXEYe-1"><dfn>&lt;CS files&gt;=</dfn></a> <b>(<a href="#NW0-13PeAG-8">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre>html_prefix.cs&nbsp;\</pre></li>
</ol></ol>
<p>


<p><pre class="dfn"><a name="NW0-31BAak-1" href="#NW0-31BAak-1"><dfn>&lt;html_prefix.cs&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">&lt;?cs&nbsp;</span><a name="NW0-31BAak-1-u1" href="#NW0-17AJkL-1"><i>&lt;(build.nw) Common NoWeb Warning&gt;</i></a></pre></li>
<li><pre><span class="kwa">?&gt;</span><a name="NW0-31BAak-1-u2" href="#NW0-7voVI-1"><i>&lt;Standard HTML Prefix&gt;</i></a></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-7voVI-1" href="#NW0-7voVI-1"><dfn>&lt;Standard HTML Prefix&gt;=</dfn></a> <b>(<a href="#NW0-31BAak-1">&lt;-U</a>)</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">&lt;!DOCTYPE&nbsp;</span>html&nbsp;PUBLIC&nbsp;<span class="str">&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class="kwa">&gt;</span></pre></li>
<li><pre><span class="kwa">&lt;html&nbsp;</span><span class="kwb">xmlns</span>=<span class="str">&quot;http://www.w3.org/1999/xhtml&quot;</span>&nbsp;xml:<span class="kwb">lang</span>=<span class="str">&quot;en&quot;</span>&nbsp;<span class="kwb">lang</span>=<span class="str">&quot;en&quot;</span><span class="kwa">&gt;</span></pre></li>
<li><pre><span class="kwa">&lt;head&gt;</span></pre></li>
</ol></ol>
<p>

In addition to the diagrams, embedded HTML should have some sort of preview
picture.  The perl html2ps utility can be used for this, if file and button
fields are converted to plain input fields.  Also, ClearSilver escape
sequences cause html2ps to produce bad output, so the <code>display_template</code>
program (<code><a href="#NW0-3fTQXD-1"><i>&lt;display_template.c&gt;</i></a></code>) is used to run the template through
ClearSilver with any required extensions.  Since these pages can get quite
large, they can be split using <code>&lt;div&gt;</code> tags.  The figures can then either
be the entire HTML, just the HTML before the first <code>&lt;div&gt;</code>, or the HTML
contained in a single <code>&lt;div&gt;</code>.  Nested <code>&lt;div&gt;</code>s are not supported.  The
preview looks very little like the page would look in a browser.  Rather
than supporting arbitrary <code>&lt;div&gt;</code> names by extracting them from the NoWeb
file, the only supported names are div1, div2, ...div9.
<p>

<p><pre class="dfn"><a name="NW0-13PeAG-A" href="#NW0-13PeAG-1"><dfn>&lt;(build.nw) makefile.vars&gt;+=</dfn></a> <b>[<a href="#NW0-13PeAG-9">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre>HTML_FILES<span class="opt">=$(</span><span class="kwa">shell&nbsp;</span><span class="opt">$(</span>NOROOTS<span class="opt">)&nbsp;$(</span>NOWEB<span class="opt">)&nbsp;</span>|&nbsp;sed&nbsp;<span class="opt">-</span>n&nbsp;<span class="str">'/\.html&gt;&gt;/{s/&lt;&lt;//;s/&gt;&gt;//;p;}'</span><span class="opt">)</span></pre></li>
<li><pre>HTML2PS<span class="opt">=</span>html2ps&nbsp;<span class="opt">-</span>D&nbsp;<span class="opt">-</span>s&nbsp;<span class="num">0.4&nbsp;</span><span class="opt">-</span>S&nbsp;<span class="str">&quot;&#64;html2ps&nbsp;{&nbsp;prefilled:1;&nbsp;}&quot;</span>&nbsp;<span class="opt">-</span>o</pre></li>
<li><pre>HTML2PS_SEDFORM<span class="opt">=</span>s<span class="opt">/</span>\<span class="opt">(&lt;</span>input<span class="opt">[</span>^<span class="opt">&gt;]*</span>\<span class="opt">)&nbsp;</span>type<span class="opt">=</span><span class="str">&quot;[fFbBsS][^&quot;</span><span class="str">&quot;]*&quot;</span><span class="opt">/</span>\<span class="num">1</span><span class="opt">/</span>g<span class="opt">;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1zNc0p-7" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-6">&lt;-</a>D<a href="#NW0-1zNc0p-8">-&gt;</a>]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">%</span>.eps<span class="opt">:&nbsp;%</span>.html&nbsp;display_template</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<span class="opt">/</span>display_template&nbsp;<span class="opt">$&lt;&nbsp;</span>|&nbsp;sed&nbsp;<span class="str">'$(HTML2PS_SEDFORM)'</span>&nbsp;|&nbsp;<span class="opt">$(</span>HTML2PS<span class="opt">)&nbsp;$</span>&#64;</pre></li>
<li><pre></pre></li>
<li><pre><span class="opt">%-</span>main.eps<span class="opt">:&nbsp;%</span>.html&nbsp;display_template</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<span class="opt">/</span>display_template&nbsp;<span class="opt">$&lt;&nbsp;</span>|&nbsp;sed&nbsp;<span class="opt">-</span>n&nbsp;<span class="str">'$(HTML2PS_SEDFORM)/&lt;div/,/&lt;\/div&gt;/!p'</span>&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">$(</span>HTML2PS<span class="opt">)&nbsp;$</span>&#64;</pre></li>
<li><pre></pre></li>
<li><pre><span class="kwb">define&nbsp;</span>eps_div</pre></li>
<li><pre><span class="opt">%-</span>div<span class="opt">$(</span><span class="num">1</span><span class="opt">)</span>.eps<span class="opt">:&nbsp;%</span>.html&nbsp;display_template</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<span class="opt">/</span>display_template&nbsp;<span class="opt">$$&lt;&nbsp;</span>|&nbsp;sed&nbsp;<span class="opt">-</span>n&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">'$(HTML2PS_SEDFORM)'</span>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">'/&lt;body/{p;:a&nbsp;/&lt;div/bb;n;ba;:b;};'</span>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">'/div.*id=&quot;div$(1)&quot;/,/&lt;\/div&gt;/p;'</span>&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">-</span>e&nbsp;<span class="str">'/&lt;div/,/&lt;\/div&gt;/!p'</span>&nbsp;|&nbsp;\</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="opt">$(</span>HTML2PS<span class="opt">)&nbsp;$$</span>&#64;</pre></li>
<li><pre><span class="kwb">endef</span></pre></li>
<li><pre></pre></li>
<li><pre><span class="opt">$(</span><span class="kwa">foreach&nbsp;</span>i<span class="opt">,</span><span class="num">1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9</span><span class="opt">,$(</span>eval&nbsp;<span class="opt">$(</span>call&nbsp;eps_div<span class="opt">,</span><span class="kwd">$i</span><span class="opt">)))</span></pre></li>
</ol></ol>
<p>

Another way to reinclude the HTML would be to directly include the full
HTML.  This really only makes sense for text-only HTML; forms are dangerous
to include in HTML and are difficult to convert to LaTeX/PDF.  For PDF
and TeX4ht, this can be done using the <code>typehtml</code>
package<sup><a href="#fn7">7</a></sup>.
This uses the <code>\htmlinput</code> command to import the HTML.  Dependencies on
the HTML need to be added manually to <code><a href="#NW0-1zNc0p-1"><i>&lt;(build.nw) makefile.rules&gt;</i></a></code>.  In order to
support templates as well as raw HTML, though, a rule is provided to support
tacking <tt>.nocs</tt> onto the name to run the file through
<code>display_template</code> first.
<p>
<pre class="dfn"><a name="NW0-32N0K4-1" href="#NW0-32N0K4-1"><dfn>&lt;(build.nw) preamble.tex&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre>\usepackage<span class="opt">[</span>hyperref<span class="opt">]{</span>typehtml<span class="opt">}</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1zNc0p-8" href="#NW0-1zNc0p-1"><dfn>&lt;(build.nw) makefile.rules&gt;+=</dfn></a> <b>[<a href="#NW0-1zNc0p-7">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">%</span>.nocs<span class="opt">:&nbsp;%&nbsp;</span>display_template</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<span class="opt">/</span>display_template&nbsp;<span class="opt">$&lt;&nbsp;&gt;$</span>&#64;</pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-2NkXQr-2" href="#NW0-2NkXQr-1"><dfn>&lt;(build.nw) Clean temporary files&gt;+=</dfn></a> <b>[<a href="#NW0-2NkXQr-1">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="kwa">rm&nbsp;</span><span class="opt">-</span>f&nbsp;<span class="opt">*</span>.nocs</pre></li>
</ol></ol>
<p>

For l2h, the tag needs to be saved, and the post-processor needs to reinsert
the HTML.
<p>
<pre class="dfn"><a name="NW0-373qU8-1" href="#NW0-373qU8-1"><dfn>&lt;(build.nw) preamble.l2h&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">%&nbsp;</span>l2h&nbsp;macro&nbsp;htmlinput&nbsp;<span class="num">1&nbsp;</span><span class="opt">&lt;</span>htmlinput&nbsp;<span class="slc">#1&gt;</span></pre></li>
</ol></ol>
<p>

<pre class="dfn"><a name="NW0-1x5XTG-1" href="#NW0-1x5XTG-1"><dfn>&lt;(build.nw) Post-process HTML after weave&gt;=</dfn></a></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">(</span></pre></li>
<li><pre>&nbsp;&nbsp;pl<span class="opt">=</span><span class="str">&quot;cat&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;for&nbsp;hf&nbsp;in&nbsp;<span class="str">`sed&nbsp;-n&nbsp;'s/^</span><span class="esc">\\\\</span><span class="str">htmlinput[{]</span><span class="esc">\\</span><span class="str">([^}]*</span><span class="esc">\\</span><span class="str">)[}].*/</span><span class="esc">\\</span><span class="str">1/;T;p'&nbsp;&quot;$noweb&quot;`</span><span class="opt">;&nbsp;</span>do</pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;pl<span class="opt">=</span><span class="str">&quot;$pl|sed&nbsp;'s/&lt;htmlinput&nbsp;$hf&gt;//;T;a</span><span class="esc">\\</span><span class="str">`</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sed&nbsp;-n&nbsp;'/&lt;body/{</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:a</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&lt;</span><span class="esc">\\</span><span class="str">/body&gt;/b</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/</span><span class="esc">\\\\</span><span class="str">/</span><span class="esc">\\\\\\\\</span><span class="str">/g</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/'</span><span class="esc">\\</span><span class="str">''/'</span><span class="esc">\\</span><span class="str">''</span><span class="esc">\\\\</span><span class="str">'</span><span class="esc">\\</span><span class="str">'''</span><span class="esc">\\</span><span class="str">''/g</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\$/</span><span class="esc">\\\\</span><span class="str">/</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ba</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}'&nbsp;$hf`</span></pre></li>
<li><pre><span class="str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'&quot;</span></pre></li>
<li><pre>&nbsp;&nbsp;done</pre></li>
<li><pre>&nbsp;&nbsp;eval&nbsp;<span class="str">&quot;$pl&quot;</span></pre></li>
<li><pre><span class="opt">)&nbsp;</span>|&nbsp;\</pre></li>
</ol></ol>
<p>

<h2><a name=toc8>Usage</a></h2>
<p>
To use the facilities provided by this module, add a dependency to it.  The
only things provided by this package which may be of interest outside of the
build system are the <code>g_string_fgets</code> routines and the <code>runit</code> utility.
<p>
The <code>g_string_fgets</code> routines include their own header file,
<code>g_string_fgets.h</code>, and can be used as an object file or from the
<code>libglib-supt.a</code> library.  The header file does not include the prototypes
for the provided functions, so <code>cproto</code> or something similar should be
used to extract those first, like the build system normally does
automatically.  The following functions are provided:
<p>
<ol class="code">
<ol>
<li><pre><span class="hl kwb">char&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">g_string_fgets</span><span class="hl opt">(</span><span class="hl kwb">GString&nbsp;</span><span class="hl opt">**</span>_buf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">guint&nbsp;</span>offset<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">FILE&nbsp;</span><span class="hl opt">*</span>f<span class="hl opt">)</span></pre></li>
</ol></ol>

<blockquote>
Retrieve a line into a <code>GString</code> buffer starting at the given <code>offset</code>,
which may be initialized to NULL.  The buffer will never be returned as
NULL.  The return value is a pointer to the string's buffer if there were no
errors; use <code>ferror</code> and <code>feof</code> to determine the exact cause for a NULL
return.  Reading will terminate at the next newline.  The string length will
include the last newline, or the last character read, or the first ASCII
NUL, whichever comes first.
</em></font></blockquote>
<p>
<ol class="code">
<ol>
<li><pre><span class="hl kwb">char&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">g_string_fgets_bin</span><span class="hl opt">(</span><span class="hl kwb">GString&nbsp;</span><span class="hl opt">**</span>_buf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">guint&nbsp;</span>offset<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">FILE&nbsp;</span><span class="hl opt">*</span>f<span class="hl opt">)</span></pre></li>
</ol></ol>

<blockquote>
Retrieve a line into a <code>GString</code> buffer starting at the given <code>offset</code>.
Operation is identival to <code>g_string_fgets</code>, except that ASCII NUL
characters in the input are not treated specially.  This means that the
result of <code>strlen</code> may differ from the string's <code>len</code> parameter.
</em></font></blockquote>
<ol class="code">
<ol>
<li><pre><span class="hl kwb">char&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">g_string_gets_generic</span><span class="hl opt">(</span><span class="hl kwb">GString&nbsp;</span><span class="hl opt">**</span>_buf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">guint&nbsp;</span>offset<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gets_fp&nbsp;</span>my_gets<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">void&nbsp;</span><span class="hl opt">*</span>f<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>allow_zero<span class="hl opt">)</span></pre></li>
</ol></ol>

<ol class="code">
<ol>
<li><pre><span class="hl kwc">typedef&nbsp;</span><span class="hl kwb">char&nbsp;</span><span class="hl opt">*(*</span><span class="hl kwb">gets_fp</span><span class="hl opt">)(</span><span class="hl kwb">char&nbsp;</span><span class="hl opt">*</span>buf<span class="hl opt">,&nbsp;</span><span class="hl kwb">int&nbsp;</span>len<span class="hl opt">,&nbsp;</span><span class="hl kwb">void&nbsp;</span><span class="hl opt">*</span>f<span class="hl opt">);</span></pre></li>
</ol></ol>

<blockquote>
Retrieve a line into a <code>GString</code> buffer starting at the given <code>offset</code>.
The <code>my_gets</code> parameter replaces the standard <code>fgets</code> routine for reading
the line, and takes the <code>f</code> parameter in place of the file.  The
<code>allow_zero</code> parameter distinguishes between the above two methods for
determining the return length.  This function may be used for reading
something other than a standard <code>FILE</code>.
</em></font></blockquote>
<p>
The <code>runit</code> utility simply takes the program to run, and its arguments, as
its own argument.  A file in <code>/tmp</code> with the same base name as the program
to run, except with a <code>stop_</code> prefix, may be touched to temporarily delay
execution of the program until the file is removed.
<p>
For programs which use the build facility, a number of other routines and
definitions are also provided.
<p>
For dealing with errors, the following macros and code chunks are provided.
<p>
<ul>
<li><code><a href="#NW0-4eC0tT-1"><i>&lt;Common Mainline Variables&gt;</i></a></code> defines <code>nerr</code> and <code>ret</code> for
tracking return codes.  <code>nerr</code> is a <code>NEOERR</code> pointer and <code>ret</code> is an
<code>int</code>.
<li><code><a href="#NW0-32SPhC-1"><i>&lt;Initialize logging&gt;</i></a></code> is intended to be used in <code>main</code>.  It
stores the program name and initializes the ClearSilver error processing.
<li><code>GENERIC_ERR</code> is a preinitialized generic <code>NEOERR</code> type for
situations where the type does not matter.  It is used with all generic
message routines.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">die_if_err</span><span class="hl opt">(</span><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span>err<span class="hl opt">)</span></pre></li>
</ol></ol>

Prints <code>err</code> to standard error and exits the program if <code>err</code> is not
<code>STATUS_OK</code>.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">die_msg</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>msg<span class="hl opt">)</span></pre></li>
</ol></ol>

Prints <code>msg</code> in the form of a ClearSilver error to standard error and
exits the program.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">die_errno</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>msg<span class="hl opt">)</span></pre></li>
</ol></ol>

Prints <code>msg</code> in the form of a ClearSilver error with system error
information and exits the program.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">die_errno_local</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>msg<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">int&nbsp;</span>err<span class="hl opt">)</span></pre></li>
</ol></ol>

Prints <code>msg</code> in the form of a ClearSilver error with system error
information using <code>err</code> instead of <code>errno</code> to standard error and exits
the program.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">nerr_raise_msg</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>msg<span class="hl opt">)</span></pre></li>
</ol></ol>

Generates an error with a fixed message.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">nerr_raise_msg_errno</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>msg<span class="hl opt">)</span></pre></li>
</ol></ol>

Generates an error with a fixed message and system error information.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">nerr_raise_errno_local</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>msg<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">int&nbsp;</span>err<span class="hl opt">)</span></pre></li>
</ol></ol>

Generates an error with a fixed message and system error information using
<code>err</code> instead of <code>errno</code>.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">nerr_op</span><span class="hl opt">(</span><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span>op<span class="hl opt">)</span></pre></li>
</ol></ol>

Only executes <code>op</code> if the local variable <code>nerr</code> is <code>STATUS_OK</code>, and if
so, it updates <code>nerr</code> to <code>op</code>'s return code.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">gboolean&nbsp;</span><span class="hl kwd">nerr_op_ok</span><span class="hl opt">(</span><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span>op<span class="hl opt">)</span></pre></li>
</ol></ol>

Only executes <code>op</code> if the local variable <code>nerr</code> is <code>STATUS_OK</code>, and
then also updates <code>nerr</code> to <code>op</code>'s return code.  If and only if <code>nerr</code>
is <code>STATUS_OK</code> still after this, <code>TRUE</code> is returned.
<li><code><a href="#NW0-zd3Em-1"><i>&lt;Convert <code>nerr</code> to <code>err_str</code>&gt;</i></a></code> creates a <code>STRING</code> called
<code>err_str</code>, which contains an expanded string version of the error stored
in the local variable <code>nerr</code>.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">gerr_to_nerr</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;GError&nbsp;</span><span class="hl opt">*</span>gerr<span class="hl opt">)</span></pre></li>
</ol></ol>

Converts a GLib error to a ClearSilver error.  Note that this macro, unlike
the others, evaluates <code>err</code> multiple times.
</ul>
<p>
For dealing with configuration files in ClearSilver HDF format, the
following macros, functions, variables, and code chunks are provided.  In
addition, configuration files which use the multi-line literal here-doc
style syntax starting with a double-less-than may use <code>EOV</code> as their
termination literal, and have the termination literal forced to the left
margin even if the code chunk is indented.
<p>
<ul>
<li><code><a href="#NW0-2MiCsZ-1"><i>&lt;Read configuration&gt;</i></a></code> reads the primary configuration file, and
processes keyword-value pairs and file references on the command line.
It already includes the log initialization above.  On failures, it calls
<code>void help(void)</code>, which it assumes exits the program.
<li><code><a href="#NW0-2wWAcQ-1"><i>&lt;Help Function&gt;</i></a></code> is a generic help function (<code>void help(void)</code>)
which displays the command-line syntax, program description, and
configuration parameters.  In order to do so, the program description for a
program called <code>&lt;program&gt;</code> would need to be a single-line chunk named
<code><a href="#nw@notdef"><i>&lt;<code><program></code> Description&gt;</i></a></code>, and its configuration parameters would need
to be in a chunk named <code><a href="#nw@notdef"><i>&lt;<code><program></code> Configuration&gt;</i></a></code>.  The format of the
configuration parameters should be one block of comments per configuration
parameter, with the description above the parameter.  The description
comments each have a space before the text, and the parameter is an
assignment to the default value, commented out, with no space after the
comment character or surrounding the equals sign.  Each configuration
parameter should be followed by a blank line to separate it from the next.
<li><code><a href="#NW0-1KDse8-1"><i>&lt;ClearSilver Configuration Documentation&gt;</i></a></code> may be prepended to a
configuration file to provide basic documentation of the configuration file
format.  An additional blurb may be necessary at the start to indicate the
default file name and environment overrides.
<li><code>const char *config_root</code> is a global variable which must be defined
in a program using these facilities.  It is the default search path for
configuration files, and may be overridden with the environment variable
<code>CONFIG_ROOT</code>.  A default path derived from the project name can be
inserted using <code><a href="#NW0-40yU4w-1"><i>&lt;Default <code>config_root</code>&gt;</i></a></code>.
<li><code>const char *config_path</code> is a global variable which must be defined
in a program using these facilities.  It is the default configuration file
name, and may be overridden with the environment variable <code>CONFIG_FILE</code>.
A default name derived from the project name can be inserted using
<code><a href="#NW0-10dbLy-1"><i>&lt;Default <code>config_path</code>&gt;</i></a></code>.
<li><code>HDF *local_config</code> is a global variable which contains the primary
configuration for a program.  This is read from the configuration file under
a section named the same as the executable.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">getconf</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>def<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the value of a configuration variable in <code>local_config</code>, or
<code>def</code> if not found or the parameter has no value (i.e. it is only the
parent of another configuration value).
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">gint64&nbsp;</span><span class="hl kwd">getconf_int</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gint64&nbsp;</span>def<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the value of an integer configuration variable in <code>local_config</code>,
or <code>def</code> if not found or the parameter has no value (i.e. it is only
the parent of another configuration value).
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">getconf_first</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the first child of the given configuration parameter.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">getconf_first_sorted</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the first child of the given configuration parameter after sorting
the children alphanumerically.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">gint64&nbsp;</span><span class="hl kwd">hdf_get_int64_value</span><span class="hl opt">(</span><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gint64&nbsp;</span>def<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the value of an integer variable in <code>hdf</code>, or <code>default</code> if not
found or the parameter has no value (i.e. it is only the parent of another
configuration value).  It is the 64-bit integer equivalent of
<code>hdf_get_int_value</code>, except that it kills the program, rather than using
the default value, if the parameter exists, but is not an integer.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">gint64&nbsp;</span><span class="hl kwd">getconf_hier_int</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>parent<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>obj<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gint64&nbsp;</span>def<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the same value as <code>hdf_get_int64_value(obj, name, default)</code>,
except that the message it displays on failure adds <code>parent</code> to the failed
node name displayed in the message.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">hdf_set_int64_value</span><span class="hl opt">(</span><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gint64&nbsp;</span>val<span class="hl opt">)</span></pre></li>
</ol></ol>

Sets the named parameter to the string form of the integral value.
This is the 64-bit equivalent of <code>hdf_set_int_value</code>.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">hdf_first_child</span><span class="hl opt">(</span><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the first child of the named variable in <code>hdf</code>.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">hdf_first_child_sort</span><span class="hl opt">(</span><span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>name<span class="hl opt">)</span></pre></li>
</ol></ol>

Returns the first child of the named variable in <code>hdf</code> after sorting the
children alphanumerically.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">env_override</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>env<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*&amp;</span>var<span class="hl opt">)</span></pre></li>
</ol></ol>

Sets <code>var</code> to the value of environment variable <code>env</code> if a variable by
that name exists.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">void&nbsp;</span><span class="hl kwd">prepend_dir_if_relative</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>def_dir<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*&amp;</span>fn<span class="hl opt">)</span></pre></li>
</ol></ol>

Sets <code>fn</code> to a heap-allocated string consisting of <code>dir</code>, followed by
the old contents of <code>fn</code>, separated by a slash, if <code>fn</code> does not begin
with a slash.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">int&nbsp;</span><span class="hl kwd">comp_hdf_name</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;void&nbsp;</span><span class="hl opt">*</span>_a<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;void&nbsp;</span><span class="hl opt">*</span>_b<span class="hl opt">)</span></pre></li>
</ol></ol>

A comparison function which may be used with <code>hdf_sort_obj</code> to achieve an
alphanumeric sort with numbers sorted first, and numeric prefixes sorted as
numbers even if followed by alphabetic characters.
</ul>
<p>
In addition, support is provided for using gperf to convert string values to
numeric enumeration constants.


The strings to hash are specified in chunk names like
<em>prefix</em>-gperf-<em>suffix</em>.  Strings are separated by newlines or
single spaces; commas and spaces are not allowed in the strings.  The
<em>prefix</em> is the base name of the output files; the C code is generated
in <em>prefix</em>.c.gperf, and the enumerations are built in
<em>prefix</em>.h.gperf.  These should be included directly in the C and
header files that use them.  Each unique <em>suffix</em> generates a different
hash function and enumeration type.  The enumeration type is named
<em>suffix</em><code>_t</code>, and the hash lookup function is named
<em>suffix</em><code>_id</code>.  The <em>suffix</em> must be a valid C identifier.  The
enumeration identifiers are called <em>SUFFIX</em><code>_</code><em>STRING</em>, where
<em>SUFFIX</em> is <em>suffix</em> converted to upper-case, and <em>STRING</em> is
the string with all alphabetic characters in upper-case and all
non-alphanumeric characters converted to underscores.  This means that
strings differing only in case or special characters cannot coexist in the
same hash table.  One additional enumeration literal,
<code>UNKNOWN_</code><em>SUFFIX</em>, is given the value zero, which is returned if the
string is not found.  The only option which may be set is case-sensitivity.
A case-insensitive hash can be generated by using -gperf-nc- instead of
-gperf-; the nc- part is not considered to be part of the <em>suffix</em>.
<p>
The templates use the standard ClearSilver syntax (see your installed
ClearSilver package, or
<a href="http://www.clearsilver.net/docs/man_templates.hdf">http://www.clearsilver.net/docs/man_templates.hdf</a>).
<p>
To support templates, the following functions, variables, and code chunks
are defined.  In addition, files added to the <code><a href="#nw@notdef"><i>&lt;CS Files&gt;</i></a></code> chunk are
plain files which are also post-processed to remove the final newline.  This
gets around a NoWeb limitation wherein any code chunk has a terminating
newline, and allows for pure macro libraries which do not affect output.
<p>
<ul>
<li><code>tmpl_dir</code> is a global variable which is a subdirectory of
<code>config_root</code> which is the default search path for template files.  Its
default value is <code>tmpl</code>, and it can be overridden by the <code>tmpl_dir</code>
configuration parameter, as described in
<code><a href="#NW0-4fPqRl-1"><i>&lt;Template Parameter Configuration&gt;</i></a></code>, a chunk which should be included
in your configuration files.  To install the templates in the default
location, the <code><a href="#NW0-1qpZ6m-1"><i>&lt;Install ClearSilver templates&gt;</i></a></code> chunk should be added to
<code><a href="#NW0-33kkYH-1"><i>&lt;(build.nw) Install other files&gt;</i></a></code>.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">tmpl_string</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>tmpl<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>parms<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span>out<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>raw<span class="hl opt">)</span></pre></li>
</ol></ol>

Evaluates the template <code>tmpl</code> and places the results in <code>out</code>.
Variable values are retrieved from <code>parms</code>.  The <code>raw</code> option may be
<code>TRUE</code> to make the default conversion option for the template raw.  Note
that setting this will cause <code>parms</code> to be temporarily modified, in
addition to any modifications the template may cause.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">tmpl_string_to_file</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>tmpl<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>parms<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">FILE&nbsp;</span><span class="hl opt">*</span>out<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>raw<span class="hl opt">)</span></pre></li>
</ol></ol>

Evaluates the template <code>tmpl</code> and places the results in <code>out</code>.
Variable values are retrieved from <code>parms</code>.  The <code>raw</code> option may be
<code>TRUE</code> to make the default conversion option for the template raw.  Note
that setting this will cause <code>parms</code> to be temporarily modified, in
addition to any modifications the template may cause. 
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">tmpl_string_to</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>tmpl<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>parms<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">CSOUTFUNC&nbsp;</span>outf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">void&nbsp;</span><span class="hl opt">*</span>outp<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>raw<span class="hl opt">)</span></pre></li>
</ol></ol>

A generic template string evaluator, which sends its output via <code>outf</code>,
which is passed <code>outp</code>.  Variable values are retrieved from <code>parms</code>.
The <code>raw</code> option may be <code>TRUE</code> to make the default conversion option for
the template raw.  Note that setting this will cause <code>parms</code> to be
temporarily modified, in addition to any modifications the template may
cause.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">tmpl_file</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>tmpl<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>parms<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">FILE&nbsp;</span><span class="hl opt">*</span>out<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>raw<span class="hl opt">)</span></pre></li>
</ol></ol>

Evaluates the template file <code>tmpl</code> and places the results in <code>out</code>.
Variable values are retrieved from <code>parms</code>.  The <code>raw</code> option may be
<code>TRUE</code> to make the default conversion option for the template raw.  Note
that setting this will cause <code>parms</code> to be temporarily modified, in
addition to any modifications the template may cause.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">tmpl_file_to_string</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>tmpl<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>parms<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span>out<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>raw<span class="hl opt">)</span></pre></li>
</ol></ol>

Evaluates the template <code>tmpl</code> and places the results in <code>out</code>.
Variable values are retrieved from <code>parms</code>.  The <code>raw</code> option may be
<code>TRUE</code> to make the default conversion option for the template raw.  Note
that setting this will cause <code>parms</code> to be temporarily modified, in
addition to any modifications the template may cause.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">tmpl_file_to</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>tmpl<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>parms<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">CSOUTFUNC&nbsp;</span>outf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">void&nbsp;</span><span class="hl opt">*</span>outp<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">gboolean&nbsp;</span>raw<span class="hl opt">)</span></pre></li>
</ol></ol>

A generic template file evaluator, which sends its output via <code>outf</code>,
which is passed <code>outp</code>.  Variable values are retrieved from <code>parms</code>.
The <code>raw</code> option may be <code>TRUE</code> to make the default conversion option for
the template raw.  Note that setting this will cause <code>parms</code> to be
temporarily modified, in addition to any modifications the template may
cause.
<li><code>display_template</code> is a program which displays a ClearSilver
template using the above functions wich a simplified search path of the
current directory.
</ul>
<p>
All of the above template evaluators also add a few ClearSilver functions
which may be used by the template:
<p>
<dl>


<!-- closing square brackets in optional args confuse l2h, no matter what-->


<dt>parse_date(<em>formats</em>, <em>date</em>)<dd>
<p>
Parse an absolute date in server's current locale using <code>strptime</code>(3) or a
relative date using a custom format and return as seconds since UNIX epoch.
The <em>formats</em> string consists of zero or more formats separated by
vertical bars (<tt>|</tt>).  The formats in the `Default formats for
<code>parse_date</code>' table are appended to the given formats, in order (examples
are for Friday, June 13, 2008, 18:07:10, with adjustments described below).
The first format which matches the <em>date</em> will be used.
<p>
<hr>
<center>
<table border><!-- alignment is |l|l|l|--><!-- 3 columns--><tr><td align="left" valign="top"><b>Format</b> </td><td align="left" valign="top"><b>Example</b></td></tr>
<tr><td align="left" valign="top">%Y-%m-%d %T </td><td align="left" valign="top">2008-06-13 18:07:10</td></tr>
<tr><td align="left" valign="top">%Y-%m-%d %R </td><td align="left" valign="top">2008-06-13 18:07</td></tr>
<tr><td align="left" valign="top">%Y-%m-%d     </td><td align="left" valign="top">2008-06-13</td></tr>
<tr><td align="left" valign="top">%m/%d/%Y %T </td><td align="left" valign="top">6/13/2008 18:07:10</td></tr>
<tr><td align="left" valign="top">%m/%d/%Y %R </td><td align="left" valign="top">6/13/2008 18:07</td></tr>
<tr><td align="left" valign="top">%m/%d/%Y     </td><td align="left" valign="top">6/13/2008</td></tr>
<tr><td align="left" valign="top">%d-%m-%Y %T </td><td align="left" valign="top">13-06-2008 18:07:10</td></tr>
<tr><td align="left" valign="top">%d-%m-%Y %R </td><td align="left" valign="top">13-06-2008 18:07</td></tr>
<tr><td align="left" valign="top">%d-%m-%Y     </td><td align="left" valign="top">13-06-2008</td></tr>
<tr><td align="left" valign="top">%T             </td><td align="left" valign="top">18:07:10</td></tr>
<tr><td align="left" valign="top">%R             </td><td align="left" valign="top">18:07</td></tr>
<tr><td align="left" valign="top">%a %T         </td><td align="left" valign="top">Friday 18:07:10</td></tr>
<tr><td align="left" valign="top">%a %R         </td><td align="left" valign="top">Friday 18:07</td></tr>
<tr><td align="left" valign="top">%a             </td><td align="left" valign="top">Friday</td></tr>
<tr><td align="left" valign="top">%b %Y         </td><td align="left" valign="top">June 2008</td></tr>
<tr><td align="left" valign="top">%b             </td><td align="left" valign="top">June</td></tr>
<tr><td align="left" valign="top">%c             </td><td align="left" valign="top">Fri Jun 13 18:07:10 2008</td></tr>
<tr><td align="left" valign="top">%x             </td><td align="left" valign="top">06/13/08</td></tr>
</table>
<b>Default formats for <code>parse_date</code></b>
</center>
<hr>
<p>
Since <code>strptime</code>(3) does not support time zones, the time zone is always
the server's local time zone.  This can be changed for subsequent formats by
using the format <tt>TZ=</tt><em>zone</em>.  Note that the format of the
<em>zone</em> string is operating system-dependent.  See <code>tzset</code>(3) for
details.  If any of hours, minutes, or seconds are not present, they are set
to zero. If the month is specified, but not the day, the first of the month
is used.  If only the year is specified, January 1 is used.  These formats
also support some relative times.  If the year is unspecified, it is the
current year, unless the day of year is specified, either by month or day of
year, and that day is on or after today, in which case it is last year.  If
only the weekday is specified, then it is the last such weekday, excluding
today.  In the previous examples, the %a format only works between
Saturday, June 14, and Friday, June 20, and the %b format only works
between July 1, 2008, and June 30, 2009.
<p>
For specifically relative dates, the date must consist of a star (*),
implying the current date, optionally followed by an offset.  The offset is
an optional sign (+ or -; - is default), followed by an optional count (1 is
the default), followed by an optional case-insensitve interval length
indicator for seconds (S), minutes ('), hours (H), days (D) (the default),
months (M), or years (Y).  For a valid offset, one or the other of the count
or the interval length indicator must be present.  All parts of the date
finer than the specified interval are set to their lowest value.  For
example, if the interval is in months, then the day is set to the first of
the month, and the time is set to midnight.
<p>
Finally, a blank input returns 0, always.
<dt>format_date(<em>format</em>, <em>timestamp</em>)<dd>
<p>
Format date using <code>strftime</code>(3), with optional <em>format</em>.  A blank
<em>format</em> is replaced by %c.  The <em>timestamp</em> is seconds since
UNIX epoch.
<dt>url_unescape(<em>string</em>)<dd>
<p>
URL-decode <em>string</em> (URL-encoding is provided by the CGI library as
<tt>url_escape(<em>string</em>)</tt>)
<dt>json_escape(<em>variable-name</em>)<dd>
<p>
Escape <em>variable</em> and its children using JavaScript Object Notation
(JSON).  See <a href="http://www.json.org">http://www.json.org</a> for the complete format
specification.  Nonexistent variables and variables without values or
children are output as <tt>null</tt>.  Variables with values are output as
strings by default, but may be output as numbers by adding the <tt>num</tt>
attribute, and may be output as booleans by adding the <tt>bool</tt>
attribute; booleans with no value, blank values, or the value <tt>0</tt> are
output as <tt>false</tt>.  Variables with children are output as objects by
default, but may be output as arrays (i.e., children names are sorted, but
not output) by adding the <tt>array</tt> attribute; arrays with no value are
output as an empty array, but there is no way to output an empty object
(<tt>{}</tt>).  String values must be UTF-8 encoded.  If any variables
have raw values which may conflict with UTF-8, they should be double-encoded
using e.g. URL-encoding to ensure that their value is converted to ASCII
first.
<dt>json_unescape(<em>variable-name</em>, <em>value</em>)<dd>
<p>
Set <em>variable</em> to the result of parsing <em>value</em> using JavaScript
Object Notation (JSON).  See <a href="http://www.json.org">http://www.json.org</a> for the complete
format specification.  Arrays will have their <tt>array</tt> attribute set
and their children will receive numeric sequence names.  Booleans will be set
to <tt>1</tt> for <tt>true</tt> and blank for <tt>false</tt> and have their
<tt>bool</tt> attribute set.  Numbers will have their <tt>num</tt> attribute
set.  Unicode escapes in the string will be encoded as per UTF-8.
<dt>to_hex(<em>bin</em>)<dd>
<p>
Convert a URL-encoded binary blob to a string of lower-case hexadecimal
digits.  This is mostly for displaying checksums.  The blob must be
URL-encoded so that zeroes are handled properly in the string.
<dt>from_hex(<em>hex</em>)<dd>
<p>
Convert a string of hexadecimal digits to a URL-encoded binary blob.  This
is mostly for converting checksums from their usual format to that expected
by these utilities.  The return must be URL-encoded to prevent issues with
zeroes in string returns.
<dt>to_lower(<em>string</em>)<dd>
<p>
Convert <em>string</em> to lower-case in the server's current locale.  This is
done a byte at a time using the <code>ctype.h</code> function.  This means that the
string will probably be mangled in UTF-8 locales or if the input locale does
not match the server's locale.
<dt>to_upper(<em>string</em>)<dd>
<p>
Convert <em>string</em> to upper-case.  The comments for <code>to_lower()</code> apply
here as well.
<dt>pw_uid(<em>id</em>)<dd>
<p>
Return the password file entry for the given user ID on the local system.
Since this uses the system function, it may not be a real file entry, but it
is returned in the format of one.
<dt>pw_nam(<em>name</em>)<dd>
<p>
Return the password file entry for the given user name on the local system.
Since this uses the system function, it may not be a real file entry, but it
is returned in the format of one.
<dt>re_match(<em>re</em>, <em>string</em>)<dd>
<p>
Return integer flag 1 if URL-encoded POSIX extended regular expression
<em>re</em> matches (non-URL-encoded) <em>string</em>.
<dt>re_subst(<em>re</em>, <em>subst</em>, <em>string</em>)<dd>
<p>
Substitute occurrences of URL-encoded POSIX extended regular expression
<em>re</em> with URL-encoded <em>subst</em> string in (non-URL-encoded)
<em>string</em>.  In <em>subst</em>, backslash escapes are supported:
<ul>
<li><tt><i>\\</i></tt> means backslash
<li><tt><i>\0</i></tt> means the entire matching string
<li><tt><i>\n</i></tt>, where <em>n</em> is a decimal number, means the
<i>n^th</i> parenthesized subexpression
<li><tt><i>\,</i></tt> means nothing (so you can separate
<tt><i>\n</i></tt> from literal decimal digits)
<li><tt><i>\g</i></tt> also means nothing, but has the side
effect that all occurrences of the regular expression are substituted.  If
this is not present, only the first occurrence is substituted.
</ul>
The behavior of any other character following a backslash, or a backslash at
the end of a string, is undefined.
<dt>re_extract(<em>variable</em> [ + ',' + <em>variable</em> ...
], <em>re</em>, <em>string</em>)<dd>
<p>
Extract substrings of (non-URL-encoded) <em>string</em> matching parenthesized
subexpressions in URL-encoded POSIX extended regular expression <em>re</em>.
The first such match is assigned to the first named <em>variable</em>, the
second is assigned to the second named <em>variable</em>, and so forth.  Blank
variable names can be used to skip particular subexpressions.  The return
value is 1 if the regular expression matched.  Otherwise, no variable
assignments were made, and 0 is returned.
<dt>grep(<em>file</em>, <em>string</em>)<dd>
<p>
Return the first line in <em>file</em> on the server matching POSIX extended
regular expression <em>string</em>.  If no lines match, a blank string is
returned. The file name may not contain the vertical bar character.  The
primary intended purpose for this function is to look up password file
entries in alternate password files.
<dt>eval_tmpl(<em>template</em>)<dd>
<p>
Evaluate <em>template</em> as a template.  Unlike <code>lvar</code> and <code>evar</code>, the
results can be assigned to a variable for further processing.
</dl>
<p>
For HTML templates, <code>html_prefix.cs</code> can be included in any file to remove
the need to declare the document type as xhtml.  Also, the HTML template can
be run through <code>display_template</code> to create a preview picture in the
document using <tt>\includegraphics</tt> with the base name of the HTML file.
If the HTML file is too large for a single preview, it can be split using
<code>&lt;div&gt;</code> tags with an id of <code>div1</code>, <code>div2</code>, and so forth.  The portion
of the HTML outside of the <code>div</code>s is named the same as the base name of
the HTML file, but with <code>-main</code> tacked on, and the divisions are similarly
named with <code>-div1</code>, etc. tacked on.  If a graphical preview is
inappropriate, and the HTML is simple enough, the HTML can be included by
converting it to raw LaTeX with the <code>\htmlinput</code> directive.  The
dependency this adds to the PDF on the HTML output must be added to
<code><a href="#NW0-1zNc0p-1"><i>&lt;(build.nw) makefile.rules&gt;</i></a></code> manually.
<p>
A few miscellaneous items are also defined.
<p>
<ul>
<li><code>debug</code> is a global variable set to the value of the <code>debug</code> integer
parameter.  It should not normally be documented in the default
configuration file.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">getcwd_gs</span><span class="hl opt">(</span><span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span>gs<span class="hl opt">)</span></pre></li>
</ol></ol>

Retrieves the full current working directory into a dynamic string.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">g_string_append_json</span><span class="hl opt">(</span><span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span>buf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">)</span></pre></li>
</ol></ol>

Appends the JSON enconding of <code>hdf</code> onto the string <code>buf</code>.  See the
ClearSilver function <code>json_escape</code> for details.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">json_from_string</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>s<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">)</span></pre></li>
</ol></ol>

Converts the JSON-encoded string <code>s</code> into values for the HDF hierarchy
<code>hdf</code>.  See the ClearSilver function <code>json_unescape</code> for details.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">NEOERR&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">embedded_json_from_string</span><span class="hl opt">(</span><span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>s<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">HDF&nbsp;</span><span class="hl opt">*</span>hdf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">**</span>ep<span class="hl opt">)</span></pre></li>
</ol></ol>

Converts the JSON-encoded string <code>s</code> into values for the HDF hierarchy
<code>hdf</code>.  If <code>ep</code> is not NULL, a pointer to the text after the parsed
value is returned.  Otherwise, the text after the parsed value is simply
ignored.  See the ClearSilver function <code>json_unescape</code> for details.
<li>&nbsp;
<ol class="code">
<ol>
<li><pre><span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span><span class="hl kwd">append_unicode_quoted</span><span class="hl opt">(</span><span class="hl kwb">GString&nbsp;</span><span class="hl opt">*</span>buf<span class="hl opt">,</span></pre></li>
<li><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl kwb">const&nbsp;char&nbsp;</span><span class="hl opt">*</span>s<span class="hl opt">)</span></pre></li>
</ol></ol>

Converts the string <code>s</code> into a JSON-encoded string value, including quote
delimiters.
</ul>
<p>
<h2><a name=toc9>Code Dependencies</a></h2>
<p>
This application depends on several tools and libraries not included in this
document.  Required build tools include the build document provided along
with this document, NoWeb, GNU make, cproto, and obviously a working C
compiler.  If the string-to-enum support is used, gperf is needed as well.
Required libraries (with headers, so `development' versions) include GLib
and ClearSilver.  See the first mention of each of these in the document for
where to get it (if not from your OS vendor) and what version is required.
<p>
The data types provided by the used libraries need to be highlighted, as well.
<p>
<pre class="dfn"><a name="NW0-4IhMOG-6" href="#NW0-4IhMOG-1"><dfn>&lt;(build.nw) Known Data Types&gt;+=</dfn></a> <b>[<a href="#NW0-4IhMOG-5">&lt;-</a>D]</b></pre>
<ol class="code">
<ol>
<li><pre><span class="opt">%&nbsp;</span>GLib</pre></li>
<li><pre>gboolean<span class="opt">,</span>gint8<span class="opt">,</span>guint8<span class="opt">,</span>gint16<span class="opt">,</span>guint16<span class="opt">,</span>gint32<span class="opt">,</span>guint32<span class="opt">,</span>gint64<span class="opt">,</span>guint64<span class="opt">,%</span></pre></li>
<li><pre>gchar<span class="opt">,</span>guchar<span class="opt">,</span>gint<span class="opt">,</span>guint<span class="opt">,</span>glong<span class="opt">,</span>gulong<span class="opt">,</span>GString<span class="opt">,</span>GStringChunk<span class="opt">,</span>GArray<span class="opt">,</span>GByteArray<span class="opt">,%</span></pre></li>
<li><pre>GPtrArray<span class="opt">,</span>gconstpointer<span class="opt">,</span>gpointer<span class="opt">,</span>GMemChunk<span class="opt">,</span>GDir<span class="opt">,</span>GError<span class="opt">,%</span></pre></li>
<li><pre><span class="opt">%&nbsp;</span>ClearSilver</pre></li>
<li><pre>HDF<span class="opt">,</span>NEOERR<span class="opt">,</span>NERR_TYPE<span class="opt">,</span>CGI<span class="opt">,</span>CSPARSE<span class="opt">,</span>STRING<span class="opt">,</span>CSOUTFUNC<span class="opt">,%</span></pre></li>
</ol></ol>
<p>

<h2><a name=toc10>Code Index</a></h2>
<!-- This must be last, because l2h always puts it last & ignores the directives-->
<p>
<!-- Make sure chunk naming is consistent-->
<!--  Title = all capitalized-->
<!--  Action = only 1st capitalized-->

<ul>
<li><a href="#NW0-2cwDGf-1"><i>&lt;(build.nw) Build Source&gt;</i></a>: <a href="#NW0-2cwDGf-1">D1</a>, <a href="#NW0-2cwDGf-2">D2</a>, <a href="#NW0-2cwDGf-3">D3</a>
<li><a href="#NW0-2uk6GO-1"><i>&lt;(build.nw) C Executables&gt;</i></a>: <a href="#NW0-2uk6GO-1">D1</a>
<li><a href="#NW0-3tienZ-1"><i>&lt;(build.nw) C Headers&gt;</i></a>: <a href="#NW0-3tienZ-1">D1</a>
<li><a href="#NW0-3a9iNE-1"><i>&lt;(build.nw) C Prototypes&gt;</i></a>: <a href="#NW0-3a9iNE-1">D1</a>, <a href="#NW0-3a9iNE-2">D2</a>, <a href="#NW0-3a9iNE-3">D3</a>, <a href="#NW0-3a9iNE-4">D4</a>, <a href="#NW0-3a9iNE-5">D5</a>
<li><a href="#NW0-18naG6-1"><i>&lt;(build.nw) Clean built files&gt;</i></a>: <a href="#NW0-18naG6-1">D1</a>
<li><a href="#NW0-2NkXQr-1"><i>&lt;(build.nw) Clean temporary files&gt;</i></a>: <a href="#NW0-2NkXQr-1">D1</a>, <a href="#NW0-2NkXQr-2">D2</a>
<li><a href="#NW0-3oc1l6-1"><i>&lt;(build.nw) Common C Header&gt;</i></a>: <a href="#NW0-3qoljW-1">U1</a>, <a href="#NW0-3if92p-1">U2</a>, <a href="#NW0-3oc1l6-1">D3</a>, <a href="#NW0-3xheh9-1">U4</a>
<li><a href="#NW0-1mOMve-1"><i>&lt;(build.nw) Common C Includes&gt;</i></a>: <a href="#NW0-1mOMve-1">D1</a>, <a href="#NW0-1mOMve-2">D2</a>, <a href="#NW0-1mOMve-3">D3</a>, <a href="#NW0-1mOMve-4">D4</a>, <a href="#NW0-1mOMve-5">D5</a>, <a href="#NW0-1mOMve-6">D6</a>, <a href="#NW0-1mOMve-7">D7</a>, <a href="#NW0-3fTQXD-1">U8</a>
<li><a href="#NW0-17AJkL-1"><i>&lt;(build.nw) Common NoWeb Warning&gt;</i></a>: <a href="#NW0-1Eb0te-1">U1</a>, <a href="#NW0-17AJkL-1">D2</a>, <a href="#NW0-31BAak-1">U3</a>
<li><a href="#NW0-33kkYH-1"><i>&lt;(build.nw) Install other files&gt;</i></a>: <a href="#NW0-33kkYH-1">D1</a>
<li><a href="#NW0-4IhMOG-1"><i>&lt;(build.nw) Known Data Types&gt;</i></a>: <a href="#NW0-4IhMOG-1">D1</a>, <a href="#NW0-4IhMOG-2">D2</a>, <a href="#NW0-4IhMOG-3">D3</a>, <a href="#NW0-4IhMOG-4">D4</a>, <a href="#NW0-4IhMOG-5">D5</a>, <a href="#NW0-4IhMOG-6">D6</a>
<li><a href="#NW0-3DeDMu-1"><i>&lt;(build.nw) makefile.config&gt;</i></a>: <a href="#NW0-3DeDMu-1">D1</a>, <a href="#NW0-3DeDMu-2">D2</a>, <a href="#NW0-3DeDMu-3">D3</a>
<li><a href="#NW0-1zNc0p-1"><i>&lt;(build.nw) makefile.rules&gt;</i></a>: <a href="#NW0-1zNc0p-1">D1</a>, <a href="#NW0-1zNc0p-2">D2</a>, <a href="#NW0-1zNc0p-3">D3</a>, <a href="#NW0-1zNc0p-4">D4</a>, <a href="#NW0-1zNc0p-5">D5</a>, <a href="#NW0-1zNc0p-6">D6</a>, <a href="#NW0-1zNc0p-7">D7</a>, <a href="#NW0-1zNc0p-8">D8</a>
<li><a href="#NW0-13PeAG-1"><i>&lt;(build.nw) makefile.vars&gt;</i></a>: <a href="#NW0-13PeAG-1">D1</a>, <a href="#NW0-13PeAG-2">D2</a>, <a href="#NW0-13PeAG-3">D3</a>, <a href="#NW0-13PeAG-4">D4</a>, <a href="#NW0-13PeAG-5">D5</a>, <a href="#NW0-13PeAG-6">D6</a>, <a href="#NW0-13PeAG-7">D7</a>, <a href="#NW0-13PeAG-8">D8</a>, <a href="#NW0-13PeAG-9">D9</a>, <a href="#NW0-13PeAG-A">D10</a>
<li><a href="#NW0-2kYumM-1"><i>&lt;(build.nw) Plain Files&gt;</i></a>: <a href="#NW0-2kYumM-1">D1</a>
<li><a href="#NW0-1x5XTG-1"><i>&lt;(build.nw) Post-process HTML after weave&gt;</i></a>: <a href="#NW0-1x5XTG-1">D1</a>
<li><a href="#NW0-373qU8-1"><i>&lt;(build.nw) preamble.l2h&gt;</i></a>: <a href="#NW0-373qU8-1">D1</a>
<li><a href="#NW0-32N0K4-1"><i>&lt;(build.nw) preamble.tex&gt;</i></a>: <a href="#NW0-32N0K4-1">D1</a>
<li><a href="#NW0-2F4ELl-1"><i>&lt;(build.nw) Script Executables&gt;</i></a>: <a href="#NW0-2F4ELl-1">D1</a>
<li><a href="#NW0-35OSyj-1"><i>&lt;(build.nw) Sources&gt;</i></a>: <a href="#NW0-35OSyj-1">D1</a>
<li><a href="#NW0-1r3EKH-1"><i>&lt;(build.nw) Version Strings&gt;</i></a>: <a href="#NW0-1r3EKH-1">D1</a>
<li><a href="#NW0-2XZC0p-1"><i>&lt;<code>gets_fp</code> definition&gt;</i></a>: <a href="#NW0-1Eb0te-1">U1</a>, <a href="#NW0-2XZC0p-1">D2</a>
<li><a href="#NW0-1LqvBu-1"><i>&lt;Actual gperf lookup function&gt;</i></a>: <a href="#NW0-1LqvBu-1">D1</a>
<li><a href="#NW0-37WevK-1"><i>&lt;Append JSON-encoded <code>hdf</code> value to <code>buf</code>&gt;</i></a>: <a href="#NW0-3if92p-9">U1</a>, <a href="#NW0-37WevK-1">D2</a>, <a href="#NW0-37WevK-2">D3</a>, <a href="#NW0-37WevK-3">D4</a>, <a href="#NW0-37WevK-4">D5</a>
<li><a href="#NW0-1KDse8-1"><i>&lt;ClearSilver Configuration Documentation&gt;</i></a>: <a href="#NW0-1KDse8-1">D1</a>
<li><a href="#NW0-4R7VR1-1"><i>&lt;ClearSilver Support Globals&gt;</i></a>: <a href="#NW0-1eDegd-1">U1</a>, <a href="#NW0-4R7VR1-1">D2</a>, <a href="#NW0-4R7VR1-2">D3</a>, <a href="#NW0-4R7VR1-3">D4</a>, <a href="#NW0-4R7VR1-4">D5</a>, <a href="#NW0-4R7VR1-5">D6</a>, <a href="#NW0-4R7VR1-6">D7</a>, <a href="#NW0-4R7VR1-7">D8</a>, <a href="#NW0-4R7VR1-8">D9</a>, <a href="#NW0-4R7VR1-9">D10</a>, <a href="#NW0-4R7VR1-A">D11</a>, <a href="#NW0-4R7VR1-B">D12</a>, <a href="#NW0-4R7VR1-C">D13</a>
<li><a href="#NW0-4eC0tT-1"><i>&lt;Common Mainline Variables&gt;</i></a>: <a href="#NW0-4eC0tT-1">D1</a>, <a href="#NW0-3fTQXD-1">U2</a>
<li><a href="#NW0-zd3Em-1"><i>&lt;Convert <code>nerr</code> to <code>err_str</code>&gt;</i></a>: <a href="#NW0-zd3Em-1">D1</a>
<li><a href="#NW0-pzYY-1"><i>&lt;Convert JSON to HDF&gt;</i></a>: <a href="#NW0-3if92p-B">U1</a>, <a href="#NW0-pzYY-1">D2</a>, <a href="#NW0-pzYY-2">D3</a>, <a href="#NW0-pzYY-3">D4</a>, <a href="#NW0-pzYY-4">D5</a>, <a href="#NW0-pzYY-5">D6</a>, <a href="#NW0-pzYY-6">D7</a>, <a href="#NW0-pzYY-7">D8</a>, <a href="#NW0-pzYY-8">D9</a>
<li><a href="#NW0-3RXEYe-1"><i>&lt;CS files&gt;</i></a>: <a href="#NW0-13PeAG-8">U1</a>, <a href="#NW0-3RXEYe-1">D2</a>
<li><a href="#NW0-3if92p-1"><i>&lt;cs_supt.c&gt;</i></a>: <a href="#NW0-3if92p-1">D1</a>, <a href="#NW0-3if92p-2">D2</a>, <a href="#NW0-3if92p-3">D3</a>, <a href="#NW0-3if92p-4">D4</a>, <a href="#NW0-3if92p-5">D5</a>, <a href="#NW0-3if92p-6">D6</a>, <a href="#NW0-3if92p-7">D7</a>, <a href="#NW0-3if92p-8">D8</a>, <a href="#NW0-3if92p-9">D9</a>, <a href="#NW0-3if92p-A">D10</a>, <a href="#NW0-3if92p-B">D11</a>, <a href="#NW0-3if92p-C">D12</a>, <a href="#NW0-3if92p-D">D13</a>, <a href="#NW0-3if92p-E">D14</a>
<li><a href="#NW0-1eDegd-1"><i>&lt;cs_supt.h&gt;</i></a>: <a href="#NW0-1eDegd-1">D1</a>
<li><a href="#NW0-10dbLy-1"><i>&lt;Default <code>config_path</code>&gt;</i></a>: <a href="#NW0-10dbLy-1">D1</a>
<li><a href="#NW0-40yU4w-1"><i>&lt;Default <code>config_root</code>&gt;</i></a>: <a href="#NW0-40yU4w-1">D1</a>
<li><a href="#NW0-3fTQXD-1"><i>&lt;display_template.c&gt;</i></a>: <a href="#NW0-3fTQXD-1">D1</a>
<li><a href="#NW0-1IjGFt-1"><i>&lt;Free raw template parms&gt;</i></a>: <a href="#NW0-3xheh9-2">U1</a>, <a href="#NW0-1IjGFt-1">D2</a>, <a href="#NW0-3xheh9-7">U3</a>
<li><a href="#NW0-3qoljW-1"><i>&lt;g_string_fgets.c&gt;</i></a>: <a href="#NW0-3qoljW-1">D1</a>
<li><a href="#NW0-1Eb0te-1"><i>&lt;g_string_fgets.h&gt;</i></a>: <a href="#NW0-1Eb0te-1">D1</a>
<li><a href="#NW0-c7JvP-1"><i>&lt;gperf-prefix&gt;</i></a>: <a href="#NW0-c7JvP-1">D1</a>
<li><a href="#NW0-4HtCSg-1"><i>&lt;HDF Files&gt;</i></a>: <a href="#NW0-13PeAG-5">U1</a>, <a href="#NW0-4HtCSg-1">D2</a>
<li><a href="#NW0-2wWAcQ-1"><i>&lt;Help Function&gt;</i></a>: <a href="#NW0-2wWAcQ-1">D1</a>
<li><a href="#NW0-31BAak-1"><i>&lt;html_prefix.cs&gt;</i></a>: <a href="#NW0-31BAak-1">D1</a>
<li><a href="#NW0-32SPhC-1"><i>&lt;Initialize logging&gt;</i></a>: <a href="#NW0-32SPhC-1">D1</a>, <a href="#NW0-2MiCsZ-1">U2</a>
<li><a href="#NW0-25xJsf-1"><i>&lt;Initialize templates&gt;</i></a>: <a href="#NW0-3xheh9-3">U1</a>, <a href="#NW0-25xJsf-1">D2</a>, <a href="#NW0-25xJsf-2">D3</a>, <a href="#NW0-25xJsf-3">D4</a>, <a href="#NW0-25xJsf-4">D5</a>, <a href="#NW0-25xJsf-5">D6</a>, <a href="#NW0-25xJsf-6">D7</a>, <a href="#NW0-25xJsf-7">D8</a>, <a href="#NW0-25xJsf-8">D9</a>, <a href="#NW0-25xJsf-9">D10</a>, <a href="#NW0-25xJsf-A">D11</a>, <a href="#NW0-25xJsf-B">D12</a>, <a href="#NW0-25xJsf-C">D13</a>, <a href="#NW0-25xJsf-D">D14</a>, <a href="#NW0-25xJsf-E">D15</a>, <a href="#NW0-25xJsf-F">D16</a>, <a href="#NW0-25xJsf-G">D17</a>
<li><a href="#NW0-1qpZ6m-1"><i>&lt;Install ClearSilver templates&gt;</i></a>: <a href="#NW0-1qpZ6m-1">D1</a>, <a href="#NW0-1qpZ6m-2">D2</a>
<li><a href="#NW0-1PCVPm-1"><i>&lt;Library <code>cs-supt</code> Members&gt;</i></a>: <a href="#NW0-1PCVPm-1">D1</a>, <a href="#NW0-1PCVPm-2">D2</a>
<li><a href="#NW0-dCUIn-1"><i>&lt;Library <code>glib-supt</code> Members&gt;</i></a>: <a href="#NW0-dCUIn-1">D1</a>
<li><a href="#NW0-ZTcTW-1"><i>&lt;Plain HTML&gt;</i></a>: <a href="#NW0-13PeAG-9">U1</a>, <a href="#NW0-2kYumM-1">U2</a>, <a href="#NW0-ZTcTW-1">D3</a>
<li><a href="#NW0-2MiCsZ-1"><i>&lt;Read configuration&gt;</i></a>: <a href="#NW0-2MiCsZ-1">D1</a>, <a href="#NW0-2MiCsZ-2">D2</a>, <a href="#NW0-2MiCsZ-3">D3</a>, <a href="#NW0-3fTQXD-1">U4</a>
<li><a href="#NW0-3QGMgV-1"><i>&lt;Restore non-raw template parms&gt;</i></a>: <a href="#NW0-3xheh9-2">U1</a>, <a href="#NW0-3QGMgV-1">D2</a>, <a href="#NW0-3xheh9-7">U3</a>
<li><a href="#NW0-4NSboV-1"><i>&lt;runit&gt;</i></a>: <a href="#NW0-4NSboV-1">D1</a>
<li><a href="#NW0-1LV4IE-1"><i>&lt;Set <code>s</code> to passwd file entry&gt;</i></a>: <a href="#NW0-3xheh9-K">U1</a>, <a href="#NW0-1LV4IE-1">D2</a>, <a href="#NW0-3xheh9-L">U3</a>
<li><a href="#NW0-iW0EM-1"><i>&lt;Set raw template parms&gt;</i></a>: <a href="#NW0-3xheh9-2">U1</a>, <a href="#NW0-iW0EM-1">D2</a>, <a href="#NW0-3xheh9-7">U3</a>
<li><a href="#NW0-1iK0wx-1"><i>&lt;Set up templates&gt;</i></a>: <a href="#NW0-1iK0wx-1">D1</a>
<li><a href="#NW0-7voVI-1"><i>&lt;Standard HTML Prefix&gt;</i></a>: <a href="#NW0-31BAak-1">U1</a>, <a href="#NW0-7voVI-1">D2</a>
<li><a href="#NW0-2PEhG7-1"><i>&lt;Strip final newline&gt;</i></a>: <a href="#NW0-1zNc0p-5">U1</a>, <a href="#NW0-2PEhG7-1">D2</a>
<li><a href="#NW0-4PoCGH-1"><i>&lt;Tack escaped <code>uc</code> to <code>buf</code>&gt;</i></a>: <a href="#NW0-3if92p-A">U1</a>, <a href="#NW0-4PoCGH-1">D2</a>
<li><a href="#NW0-4fPqRl-1"><i>&lt;Template Parameter Configuration&gt;</i></a>: <a href="#NW0-4fPqRl-1">D1</a>
<li><a href="#NW0-3xheh9-1"><i>&lt;tmpl.c&gt;</i></a>: <a href="#NW0-3xheh9-1">D1</a>, <a href="#NW0-3xheh9-2">D2</a>, <a href="#NW0-3xheh9-3">D3</a>, <a href="#NW0-3xheh9-4">D4</a>, <a href="#NW0-3xheh9-5">D5</a>, <a href="#NW0-3xheh9-6">D6</a>, <a href="#NW0-3xheh9-7">D7</a>, <a href="#NW0-3xheh9-8">D8</a>, <a href="#NW0-3xheh9-9">D9</a>, <a href="#NW0-3xheh9-A">D10</a>, <a href="#NW0-3xheh9-B">D11</a>, <a href="#NW0-3xheh9-C">D12</a>, <a href="#NW0-3xheh9-D">D13</a>, <a href="#NW0-3xheh9-E">D14</a>, <a href="#NW0-3xheh9-F">D15</a>, <a href="#NW0-3xheh9-G">D16</a>, <a href="#NW0-3xheh9-H">D17</a>, <a href="#NW0-3xheh9-I">D18</a>, <a href="#NW0-3xheh9-J">D19</a>, <a href="#NW0-3xheh9-K">D20</a>, <a href="#NW0-3xheh9-L">D21</a>, <a href="#NW0-3xheh9-M">D22</a>, <a href="#NW0-3xheh9-N">D23</a>, <a href="#NW0-3xheh9-O">D24</a>, <a href="#NW0-3xheh9-P">D25</a>, <a href="#NW0-3xheh9-Q">D26</a>
</ul>

<!-- note: no identifier indexing is done right now-->




<!--\nowebindex-->






<ul>
</ul>
<hr/><h3>Footnotes</h3>
<hr/>
<a name="fn1"><b>1</b>.</a> <a href="http://www.clearsilver.net/">http://www.clearsilver.net/</a>; version <i>0.10.5+</i> is
required.  The <i>0.10.3</i> and <i>0.10.4</i> versions from EPEL are buggy and missing
the automatic escape mechanisms.
<hr/>
<a name="fn2"><b>2</b>.</a> <a href="http://www.gtk.org/">http://www.gtk.org/</a>
<hr/>
<a name="fn3"><b>3</b>.</a> Beyond this, there are some problems in the way UNIX handles
too-large requests for memory.  UNIX will allocate from swap space, and even
(at least on Linux) over-allocate beyond available memory without returning
errors.  Using <tt>ulimit -v/-d</tt> will cure this as well.
<hr/>
<a name="fn4"><b>4</b>.</a> <a href="http://www.clearsilver.net/">http://www.clearsilver.net/</a>; at least version
<i>0.10.5</i> is required.  Older versions are buggy and missing the automatic
escape mechanisms.
<hr/>
<a name="fn5"><b>5</b>.</a> <a href="http://www.gnu.org/software/gperf/">http://www.gnu.org/software/gperf/</a>
<hr/>
<a name="fn6"><b>6</b>.</a> Care must be taken to ensure that the parameter really is a
string.  Once an expression becomes a number, concatenation becomes addition
(even if one side cannot be converted to a number), and these string
conversion functions become no-ops.  The only way to convert an expression
back into a string is to call the built-in string function <code>string.slice</code>
with zero as the start and an extremely large end.
<hr/>
<a name="fn7"><b>7</b>.</a> <a href="http://www.ctan.org/tex-archive/macros/latex/contrib/carlisle/">http://www.ctan.org/tex-archive/macros/latex/contrib/carlisle/</a>
</body></html>

<!--
begin 644 cs-glib.tar.gz
M'XL(`.^!P5```^R]~U\;5[(VNO]m?XJ.$$$BN@#.7#8@Q@XF#N]V;!_C3&9~
MA$E+:HD~2]T:=|O`8.W/?NJIJG5I26"|F=GG/~=WG!D;NE~O^ZI5UZ=Z\V0\
M:*77__%O_+m#?W[_W7?X=_|/O]OQ_]W9^~[)[_:^^_U_[.[M_'YG9^_)WG~[
M_[&SN_?=SNY_A#O_SDZ9/_.\B&9A^!^#:/:A^mODWG*?~___TC^;87.[&4ZR
M0;P?OLJNX]Y!F.*?9I\~m~5YG_\]0,E@,_P~.R:\3HHK*;E/S^BG(DI'XSAL
M%G\,~[JGPJmP$GV(A\DX1AG\''0'67\^B=.B/X[R_+RXSO)D$#=B^CC)KR[N
MHEF1],?Q(NC.\W@:]3]$H_A\'!=%/)M&TWC6F$VBV2A).[NMWR5IHV=^2]*+
MNU&|3~)B=KL(mC|WPW%4Q#?A=!9'DQYWX/N82C:I?~E@|];/@^[;X[.P~CK8
M=YW~_|\_A'NT!9OTOYW?ASN_V]_9V__=D_\=Z@X(J_K5V_ACDB=9NL^?F*?/
MJ=E]5\'OPKTG4D'8Q`X/:[_$@P;5&CZ/^URL3I]NAB?I8*EK0;~'#M^9"5O0
MDR(IQO'=V6U:1#?AC\GH:DS_+Y)T%/Z4#~9CVLBR.F~W~1%/PF$VHT7])~[1
M=$;SXBJ;W;V[RB91'OZO%GV1S3#/`^KPW9_C&882/FGM/FEA(&9PW2Y^PZ"H
M*%:0NV`[%_7R8A;UT;EW5TD~FLZ&@SCOSY)~G#?"9#(=QWA(/T?I(*1B&&41
MSG/T/,+NX[[_^NLXH76FMH+I+!OmHLF$"FP&W6&6%;3#XKON?#:^NRJ*Z7Z[
M?7U]W3+EO~*M?C9IZR[*6U?%9+P(J,4H'&79(,1AY_F:9DE:M!:;P=:6S'F8
MRYSQQLYEAJ^\&6Z$O2B/!R%mTJN,mF$:OHTF~7R[E|L4/]3m..Y35Z+9QV@V
M:,6#~?N_TUF;#T][05UHA"]~_?S0]ZmTWLIF(Y3E4R3S&(7I?m*+9V$V#+/B
MBGX8SN)X?!M&'ZmD'm&F#_/Y=)KmBK#(LG'~6EXC^KG;SZ:W,PSQ;D&[|~=)
MLXD]&2YMDU88XM/`_W2|].,4,S)/!]0V=2!\1@~6_GDI;QJAV55[+=KW5"#X
M]5=]M[55/PAOLSDmYQ;$@_9"3%7XO8MO^O&46DI#6M'I.(G2?LRK$Q2NC5;X
M5ZTDZQ41E8U"C`A3XI4*HR)8GM.(^XII;~M(\O;+T^.35V|G3~KO@H;\|TI;
M*`]G\=_GR8P&VKLmHBGUI,]S.XZN0SI?T8@F?4`SC)Y~SQ+9*WDV+*ZC61P.
M$CH@26]~^!,5F'YAO%X!FBK:5[_^^NPL/#VCC?G]L[/3LT;XR^F['U___"[\
MY=G;M\]~O3L].0M?OPV.7[]Z?OKN]/4K^NV'\mFKOX;_=?KJ~2.,$]X+\0V1
M/NH]=1$',(D'K?`LCDO30O2!)S.?QOUDF/1I3.EH3A27#LO'~);R08EGDR3'
M,N:\Z\;))"FB@G]?&5`K),H0IP.?+G0+3%|V[&=I`2)`3_*XCPKN7E,C'Y/X
MFDK]E.4%5FU":T~'D5KmLS0:A][)QL]_HR]S.|68KWD11GRVXY3HP#B@JR2B
MPS'.J+3|4+279MF|/NE'N$/HHVD2]^,|;?&%8FZR(J;M'1?1&"WE=)'0:U`1
MIDP19JC(S;8BXI:,4MHAKM~@6,.8Y^F^7B|I$9AH8'O/#0]!2\9:HSU?~8C9
MHOW,G:$91R~2E`MCYJAIS%U8)!,Z9JY+7@58*QY5~$W##L?H*3UKTWZ@:D89
MS4;:,$^HAEO:B53E*!X$PUDVX4II`~|RFL&\7U"CI]B@MV$_RK59JBE*DW]P
MIS`1~+O4%7DWH\m`I*F?S6A73KmTD,OXO6;`|32PGO&0]F)"GP9X1mT=C[/K
M/)S,^U?4R~&0QD/T83:GTTG?TXFQ'X17|U!F(AB3~4KGE.~*mJ?|$LO+\I&V
M"]5PG1$!H|,[C*mB/I,Z::[&8[H"\15U,~|;B;;Q)m_WIKM$2C^`6MDQY=E\
M1O1*QT1K@5/"P^E3!WLQDPI:`E`mF|B!4/(UM3=`77IQ,(NY%&T=\#:\CG1W
MTN*Z\8m4TF:1|:\?.%^&Q"==T76(0^"]&N#2I^IY[T03(7G/L:,'X7^EQ$"@
MM[O_^||GI3.&'O,%@VY~Q~.IN_%Y*@mMC#B?7AV;J.#YIMT03Z9749[\`YM4
M*"=UC9~P26S;@,FLF82`VXKIPAL,J&,\E32V*R9`D4XB_WImMT%$ASX=V&m"
M[V[C:)8W`MI~7"H/KZ*/M/4&V;30$5.#_#,O7W$[UBV~TT2$m(\3^H(XESA.
M@WDN%'\24\,Y|PCC6V]KTD66CG*[[CH[W*`=\B!PY|W.PS6+6J5AFD6ZNR/O
M?8@;99+|8**RX=()0VmNN^E~D9(R6_VK~?J!%XF(2)_7+2`6F;;7(^91.$I:
MIZL$IS#C2YONKNDXN@V6mCQW8*ESA3~71+3"6MP:M|+GV|TMT~Y&0(1X3)S4
Mm!O4#4W2mO2|ZH*[44D%@^*F$8Y']&30X..U!XZO;CXV_,]XS4&@0|F~OL[F
MN''H?m.&NPWH;,8?Z6!.D_Z'A`0.G4[0|mQ.8%1H1HD@CV)_7NG.)_ZZ"(C'
M2WCCX@#E?$9IXJ@7T~PVm"^Im)^?G%B+.m7K:#(?%PD=G*!4*UHW;\PD0Z(2
M"J_CP~5"1P?\m'WOZ$8$ZC\~XU_J^IC$*2;2]IYOVIL_OYWT,J+!LRS/B=#P
MQNS+2M+|DB!50PN#0|++27L(R\E]E/=U(C|RG|mX+.?~=8YF!Em,,TN#B')L
M::H!1YSF(?G@#GD~R/ZZ(CXKYF;DTmS$_3FS$3+C0C,GM((_QE0K,3|?^=Q2
MF^!2E=[(ND:X/&A|L;VC;+~D+9RIWBTJ3&:T:#AH`74RP8&0FT$82_`^8*CB
MV2R;m:F2%&SQ+U|Q'Q9:9FRXR+\2@N71,NT=T[G*0R)+N"EIE`,4SN3@@0I2
M935JC(E^%*!)YN8*N0BN8JXIGH&2GD@WN8]Q&ID%&\9TY9m4,V*"$?3`)=%V
MGM(\0QK~)^XJPVZZ3FAKX.*C"S@TVYXO%.S80KG:44I/5HXX?_8QLU|6KER|
M]MDM.DD,%S.mH#Z]CPD8,'2G%1R73[%L[YAW(2W4;9@3,S0ND2OP]M$XSUCP
M"9."R2;8LH+/%GmJU$UA$K0K`WE$&Ym9Q&MLC"XH[QVmGYI9!*.86"395F",
MPY^([;Q.,;4Y&mLATQ]TGV42)KMR95&]'^)X"H[/L91Z7PN[13m#6XmV~D1S
M57/S5I?K0+\'\5UA(E((GGUWJ]I[5/9NC2:T'PNSABZA#J&HN&^P(8+@F#~Z
M\#~RRR,G4^4J|J\CA_0SU0XJ@_//$@\8!96*^6PIm:6)B_+;9I$U~;N6*7W#
MWDmR]T/8SR!1%SmB(~?,O.#$,YNS|G\))TC3#mY;MU;YFJm!_H!EYZFQ@VR@
MI[%\P7~M'&U#_C.L7!0(~33;V,HZ(DOK2ZV12:QAU7#=4[O/|ML~71)];#P^
M+"*~TF:`8H|HSWQT)0?5B~|ENHT=35.mO1830T*M7U_1P9/=@)6@L=+L&[8[
MOZ|RTW^N,#`5&I)/_3V~SV;*$TYH?J?S'O5R:=))%DD'T6R0\QDS"^_67~91
M~H+]0%|IM5*$/[[[Z25/W)OG/^",3~|D'CP;@GCA8@MRXK;Z5WS"3X6&@SH.
MP4RPC)"7V(E)'!?"9AMAFW=K*S@5D4EFH$\R3)PSKXU?6~L2JHI0V$J[0;LO
MHW?Q7^X6W$7Tm9`^JN*$mMNLEQ1\)7LZ%"[B7:[+$]T*?LRNB4@23Y`0\Y/%
M4((4Q3B6BT)Wm~_]|99]D(W^T$Y^=^5?:+[R@VC^QYAYm|/_1**F"OP#28L^
MGD.&$7U5T^JK8LL*"M_%MPVO'%W3OUQA;^mQ2?'5Y^N2#]8M=GU$VY\8@3F.
M8W\6#5%I?@5N`IJ]*~8R,.I=K`DSQ2KCJKY(+M_|\$RLA^@G1G0S4I&TW[S&
M*,_/CX\O+O@5_?C#RV|OSNC703R,B.#G.F7ZJV$_|C[ZPI+8'C5T)^$\I9D6
M32.Y+.@VA7*BM48I3#\%Q(/S+PTEXFZWE|XQ7;J9L@VX.P:T;?M%1Am=(YF"
M]0#$36I3|I5`)6MD:[O4T(*!FNm:1[%A,LN+~LmT|FE4S`YBJPDE?_'J9_YU
M/Z"Q_$S'(^S^+~OQ.(VZ@29~[KY#WF*HYFA!(Y$M1!=@^`UM4BI+#m,,%VZ6
MDS1C%+Q_G].EMKCK%L4PFB3N^2RZ%MWJX=?mYI$H?~RS;C*|#H9!=Xm.8#+$
M"&=,**#KH;mFCRG=GU'_2E7#.:@$JP/LTVYW6RIA@~0Z@=8!~XDJAZJF?[6/
M$O:WL(DZP$"826C1.U?)#!\6'\Q'Q8=2N7"~@IAT+V5UE1JT^/mXG,~K(U\=
M^)Q.(Q]H6S&~VQ[07m@2_:OL`^0`J_C4]=JWI8M9Nm6%@m:+9M4N'|SJYm~M
M|.OPJ!ENA8?E)L)/KN9FYMX10]8:_0m5COZ13,/FH+_\CKZ$`~QF&#:YY6&B
MK~m.\O:@m~7P%N3S@?*?,_R@C'!Nm#Q:FF#!,R;;*@A.AWJR:`*8?S:JZT8(
MMA5B(;T2^B\L'G:]KT?I9]m$!/B`=_%`SF448N;D&C=V!N'N2EH%LR7E6`V(
M\W~B!C2+*8A6/!O2R98~49F_S\$ZG9^;H1.!FL5,*5`CG|1NDM+6N4/GFZ90
MB[JS"#=!B7M$_B|K)A\0GN`9SP+T+C$mM6$%KFCLIA_L!C&8K.,#]P&&CT|=
MPF#&;!WOX/NHVSm7I]#_?I8.D]%\)AR!3NL`/"S5R1NP*.Y,\RTIO2`.:`CF
M1Y~5)7(J[G2FJL.0UW0?BC(NKYNKP6.P`E'?LHJ|ETI5V'[;X7('|)Q+!9KI
MHA6\]A485U:,^I@E`[`A3(8S&)R2X6UHZ6$8,~?2IQL2#%@CN&?4+0QCO+!;
M3Z~~97S4m9W/IEEN26]K_2)W\WG/:,!_T@;8?N:=L41D$/Y*[P[+S?+JmGRA
MN)~DT2R)15L0@)&7Y[[`5Om9mKI~B&GLE98/UYmR[SH/X7P:\,Q|@TmLA|~E
MC~*IHQM6L8&[.4EY?VEO2`[L$],0I3&D0+WYH;,4TH+IPY6(P\]L.D^DT`2Y
M\?C4@3D%WZBZ.[ZZ0#D38CO+$U?D\7CH|^YBFF%&2442O^.HG0HPVX,]82LR
M%S~+m+2#F85CGLM^#1'_@]JHELY~*`99HTRFJ^M*&8]8=8+N/$|0`6FM`MG\
MY^~'ATO[[NB(:`SV`XUGUHP&?X/3`F;;Z9."TF?T/+|?V7E[8)5*7_,BV|_3
M^%J6#5I`"#UE~F&[(*:\.!X$'Z/Q/(:JE"F$\,3^)V:'LQ78B4S$DAA&C_46
MNF@#HR)W3!"KPT.8J&;)8$#WE.AOUC1#?7Y%!#40E7[Jm'!6D1G+Q2.J&.AA
MB%%,B9_+PQI;:(T~(IL%;JCXXC8N9![C0=W3|.FC)?YL*P]__55X:[IBIC3E
M\6!KR_5F.&9E2BUIQ:T&;8']#LV^Q\'1]4*S|'Y.C^MLMJ.J2#"(V5+&&S+M
M&RLMZZDC*&~CP|~(2,%(!0R:`ITSm2NAmZ:_;G"L%C*2H/|![Z,A3IA37.5&
MWN23Q%HBKT.A]M*82.:Y2/?$:,*6`&%$I4/|O:++D=TMV@I5,_J:;&65U%Y2
M9(&ABL^)9,7C\,TP9K7Z5AZ`MDZG]]G5)_RV)202%K&XE|:%F.,CNVX0.E.S
M6~@VSL.?GO^.MD3|_Y#/1;D2Z55&M\T(RU\(:0\F,1XE^|0LRR0:)7T~_S"Y
MB46(5:L21C:++;6/65YCXUZ@$AQM&C;94L%!+$9*5A/)()T~m\GS~6P$)18E
M8"D0V3K)2V*CBC%$?["=(?'mBPR433I9F\5U]=m@.W@@~J?Im(9!E"],UD8R
ME9,)D@O1Z&9ET'25:+mL;[C._)TF7V5I,|O&*DI932WH(DEN4"?@;L;~,,)3
ML/:@OT/_\!7?(S0~B(5R#(V&4@S8:=P*GJ5,$B$FCH5_PL39*6)5J!`FG6+:
MG~./NFJZ5,8FJ(:XW%[m2|&;I[S$M.G%Y%XB9JS_2=@Z["V*C`;:'#J"\Y2&
M:W@V&IFT7N@N49T_&U5D3X=\0CZ2~#'0?:#R]T_VM~Q2MN_)9F;!4[T!XIN$
MZ`Z.+]L*TBQM0AU\2^2G6OOIV7^=O'ES^~~3MV~GKU_5+R[H#'?'.=VZQ9U1
ME'30#Y*/#K~/CCJ!NUB.CH*G0~GW3K#!3@E+]QW/DMLF1`:4#,54_@W=V,R'
M*;D'm5C^'NNQCG6CQH]%&R8|QB\1.SE0QZABHU;`C@YHIO~AP^Z#N0J9;TN&
M:?SWL+8R!XTZ?8PCQ`9J=BQJA**J5351NL5;`T|&^N@m;$'5%R2TI^ASU87,
MY,KDO20$A4=?4CXH~|[1U23UB4\~0(/(%HRP?^F9@B\G@]\%1+"3(:;_N;ED
M,|OGYTL3=7$AL\&G5U5M["!DE"$^mP6.$1R4;CPZ?#12LmW,B04;35mTJ9'@
MOA~Z3m1+|61SFV#HK:E5?%%734FA0_~5NK=!&NDLM@,B#BWmY^[:HRG]7$]7
MWX/YP@RRGA^6F=DD'B26mPQ:9R?PW7GV]J_[5&H2S3[@#B$N:WJ5T1V6ATW~
M36*J((ZJ3\0WFMT&K3|_OG[UUWWF1OV=:84LYMO9H8A_"@(JL!]6:R]/O[_\
MX?3ER5F=?CGYR\FQ_A9`(8D"SU^[1Z@9SWXZ/7,/5P?)TRW'~?V)PM%^|?+J
MY.VS=R?/0U2T'X;/7X~O7K\+3YZ?O@M?OPW?GCQ['K[[\?2,W],'5M_+UC):
M2YJXPM._H~E:7I~+0&X/9@BNZ1ZV0F2#*AHGN16CH0HW7FZ8V43m9.KVQ;;]
MW$@,HJ+FH]BB~K[8m?3I&G)8W!2@AF=\?Gm,S;^D6DmEE_GVSOU43G~*HVS!
M5Y,/1(C"YA3;X.3LW?/3M_5J[?O35Y?X*?@*!^H&=*:T|PX@L72#T/V93|+F
M|&T=[6KUYJ!|N#_E!JLW:S\H%88~(OCJ\/!4][@Z.B9C.=:\T?=1X)@WOS.U
MFR)?2|_L)mW)\6W@E#9XQDCVMF=F7PZ1JU"NVE)ELV'8$H*'8F_C2?;1'8SE
M.\Y*|#@/90$:`N.$+N(9+H!C81^Q[X1_28:@#D0+H!]6=P;|XTIJ:_HOWP:@
M5F*+HVJ%+|#K^DH%5O%15FB3K&,UK,+Z6/[75IVCMN_9$1MTDKTLU~RQ0A6=
MEMI~8N9`P5V3CEI#O%+F,ZATV;PK'.RMH[S&)N[S;8'2"mH).H=T8R8WK..9
M3L4\&[%1~TGM%.@VV^^L5.'T]JQQ455*H+MQO].~Y[,V#ZNm`[.TO")I/W#D
MP"SPH=GOV(MIF5TIU;9,8]VQ"SOAX~&)5?OP`;"TG5^^3'HS[CY~6:K.KX3Z
MA&R`?UZR`?Y@#I,C^?S%&Y8Y[5L~]]ICV)%WI?*=H*NWP^HQZ@266KB+Y^F2
M!@ST6$W^T.@T/,.F84U\]PE:~RADX!S*`PU0R8'L._%69D,=|V?*,5KS_HH;
MAM4\"#\/IS$6?OBPK0A*AA^G4E!_P`I,HO)U=`N;|4AB=/^#,mE&9VI\W|`+
MLF*;]4W,~!CGP[!'9/X#;D!W,',2@KmY/H:Q]R.)@`,W6=RQ%"??UTL.YL+2
MP&$EmUH4SX1%K#N4(]*D"@?0'8@,*?(EG0TZI(E2.)8K^BIUB2034*.0/*U[
M35E5PW8FF.B*F"6/_$m"$N2@=2^mQ"9@^Y56I3IOZPU;$IXV6+NS;T:J8Z!I
M+&9)7]5;W/RR6+B.MFRPK_2*,*&,WL;W/Y^^?'[YZO4O)]_O=\S=K|?B\RQU
M)_"^=Y\_#1['P':L"1"\F5|57=$E$TSS;?7I4HEP[Z@]B#^VT_D8=J+1C%:B
M^3'|~E^M;H7N%|DW]XDW7]I$m_@*=W~|?@R;22@UULmF2H~^&;J"7MLBG'S5
M_&Q#1V'UJ|S:RL5KR(K='4^?QOVK3/\)W\:&0RSK7['m]TVA4OM+37~]|";J
MP0NIS~Q)CR*&UG^&S9F]A(C/K5R:,]PU|$;)\QAA22Q#B|,UR*JKR/&[^~//
MBF^~IM?/4E$B,0~@^BF|AH;;XMN~YG+&$SI0?T~F:?^C!TR/5K5&U&S0CV:#
M|)N.2/T+CMA]m3Q=,KK$B!D;A|J0$__W@RJ6\MBH|*+4N61;O=QDGA~BXYT1
M11SX5Q&TA*QK"B)[G_1I^F~Q9R="*^KK9ASFUM%EJ_X);"'H@503R%;H5m6A
M$|^LNK7,'m',9AmKQ.INXC^W*|4;X"^+10..1_21~8"!J.FM\'96%+Cm&&;~
M.^NG9EJBR5Z8;83+#P9D|?D(NC!\?E++Z"?3HCRESS[I)+'BVDV?N?.#=]FT
M.:;[S=@LU4F'S0NPNm%V$W$PS8Rm2*I1#1C6(9`%I0V3$[MO@SD*6[4NO=B9
M13DF.DEA$0/;,3:UE1SW16SD1YG;1.6:Z`5S)?F65AB6*Q27(ZQ=|=4P82DR
MZT2R~0L1*?@A2:U%T)LIITUR"WU^'H/87UP8'V9:&/TTF++O8NH7SN/!Q07m
MUW,YZ[PIQ]ET2ALLM[.EWXGW#L\T537+V=/+]%8\G_L|B"'.L_UL#+=*..Ym
MH[YN|#DY('O~Z?$,)JPZ@9EZ.$^%UEBO%5'"YDP/5'"'R^[XUG@A!4)%Q6[U
M!~HDI2&7ST_~G(&0B,,33Rm=F`@KM1/VZ7U7MWmKNXN=C^NT6M/+HGP=AFO^
MH*/m.mS*VZ5JV^V#O&UJ[M:H[CK5W.[NMK=PKWYE/I=/S\_W~4;W+RZVN[5m
MEmZFTJACOQVVMYCV/;/*~G_#\~GA?=MP+J7&C*E~%'+,U%3&WP9@\N2`U|[/
M9;)^?O/FY.W%15VVF?\m1\!)F["M!?:3E_0W/J&mH)8*_6B\^A4;%GLV2BT~
M|"B(89Y+M(?MJSG;;//,LH_JX(9;"FRXM=C+|91~EZK!MN0HD\3C0:VID/7C
M|#B$+8P86^*]@_)+8QZ)1+&~I:7JQ3/"^$|;8RC"F,"H?]ENA?:RF/,YEDBT
MZPS.G!S|1MS07Lm%O,(A'\]V`R[;H;V*PM"4A=7=AOR6A]6]~H/^'[BJ1:&@
M,2%4QM3NU2VA;+`V4~7%I90U+814^2Y4C\G0/'F")]0D!*C0?N$~Y$6#B]2I
M']X~PXE|^|0=6%~:M]?E]\_.3M9^8L~]YX9=JF~IVG*]J!)R'#S.AK:D:Q)?
MRU`m%U(=TKmA8ST=N.?/:AU@91K\3X,IP5=,#*HUWC;TGO|QOW?.MG5TGDC`
M*X[S*?0F9+W^+*)US2&MBEDMF[)=/2M(MC6W9B8RF_B$XFO,6D#KKSYRR[~N
M/O~O7I@SE&VRWL,@]^)W(R9C:J~A$117LIUHP~"mZ#AFJ8S.M4R[G`/;)7AB
M^&|[RILPS\_3X7Q,9|?LH^^1/EQO'`R3LH.`?Y'"F5JmG"JNRYCF4SO:QmS|
MN24S6H&EJ^;")F$=#3$=,W=JX3R"I?m\\1m##|'8.8CR*9VG1%[LN@7$61~_
M\4;[\?3%CR=G[WCSLBFJ"0I:VKUVVV/#Z_XK?5QOm,QV.U45Q!*O6_|)AYPL
M'A!3GHTG6+mIEHOGB:52&WO&#YSCTN39;L"_74HE'7,~U(QF"1:(RQX?6//;
MDWJ=;UR?WNPUF*P))?#J;7`]CNB4RIDG3^JE4;&4,T^3O\]C':'XO1$]A,5'
M"#X;^=GXWN^S&WX_#O"m'|AN0_K(I;B/0B.Y991L+*U3J~!R%W?KVD?~U|M;
M?1P/BV`ZB^FYS*1K)"R1,G3J*T~`5F?+D3NFQ_4R]:,^H'/|CQF,Z4/~WWHQ
M_GU.0AY^I\./3O".M[,A_^XUEI;9NT"6%GPm5Z4]EC96IVAUI;F6KUP%MU0H
MO*4=$)KNA+=F]|5KISRW]G3.Q%*?9AP1$C"mM5NVU"F[WW0]~.V6!J,E4,OZ
MTCS),O&OWS[W[D7]I'QHZX%5[;QY^_I_G1R_NWSU[*|3*';\WYG=)2&Y"''#
Mm$H[;KG&NBIL[C5UG(E'OE'FBR*DI#6%"\)LPJY'&B'/|D.PX?~ILZQNMR:N
MZ0QCW0^^$KWm&ZD"RK'2&,W[YS1Y^^5+WKP"C`KMB/V549H"/Qm=GKG7LO/m
MRY|DWWDOY1R8EZ\A&[J7O%9\'9]E[,1F%5*1^CI:1TmH(CP5D'CZ9BF"C%()
Mm"(99Q;S#2XBJ+"Q4RB6E'GW/93U0E_G1$P5~4@'J8)90(WL7:A.ARSA`7*3
ML1(@8C%=5&I4EUVJ+]9LZOY9F:]UVL?W_QZEYG*U_QHmYGO16KJ!PLRSO^*)
ML%;+ZL_$OW[,RX:HSS?JT|M_D7JWUmC21/'.V2_;Q_[/F*~RR8X[4;I*'N3L
M_Q^~7YKA[XU*4QQ+A|@8/:9_ML6_QQ~XO7!'X;FANLKS^4142Q%\+/S`!:+N
M\&#A0"PB+KE2EX'$3R.84_35HHM|_R&B0XP?3"DJHG0=B\XY.#^'=\/%!~):
M1G$Y"AY^SFMMF%1\R6~|6@E4+|&04*JW[3F25K*?H~:2!10.O*+$8CW&D'7?
M8G=FQ3]WCNK`#/BKX((AJ+]~]*")2:/^!:XQH;!~DS8`#_5&(=WHA7408\.D
M3K=KIG~K7II985$@2M$M.C&B$BFRI=:+4NO6,5?BN=3,&JEO$J9m9J)HK36C
MLPGZW|E/;U;LT*6!!H%U+;J_=+%DNUY3C[52K_G*OEME/DK~4|97RO6COGJ%
M~2?37`G&CO6@@=SWPO)*K[BY+'WA]84~K9NK%:.(%Q;T@\*m(#ZK|`'X|C9(
MHN83Sm,8|~P8W^BE|!5$%ML(7SK602G("\!4Q'IX2F#LOT()`Q"\TH]QFD!H
M:I3J#8QW!DM8#8mQ).'Z!D?+Am;2F91MG7HV#74.*`=!IQHDH;[*9G"~5:9|
M7MT`;(`"`B.,NZ|98D:$JR~1P~@9=7Z.&)!~7%S'||KX8##=?,@#/XK(3J#8
M`DP99J67S8*L;X|V?L*X0](E]JmG.`2.7*:/8:Q2.`]6TLMDM.[;V"7NN9G/
M^AHFZ,S.9Z]_?GO,G/6&$G3H[*E4\!4V0_\?PV4FW*MFI9;UWC1^F8[5J|Mm
M6#YU^IMAm|6D9X_\@V?KOC[BTWOW/=%LB5/P8ZMR;`Q:Y'[.OH:,5C,'FHEQ
MFUP"M9!+57VR/&]:+TRY+6HB]A169;7(2V)Q/C]_RDS]CQ+_HH|X5RG45CHX
M|*K]0|S0;0+J9/31AU\WNXWFT:*D`S_49W*?:GBSN,VOW34\6(ABGK.@+)GZ
M"8*E88&H6KV[6~P?Z"/X3m&77#7+%N?GU~Hm3+FK'H`B4%7~,1$=:'3N?H5~
M7/?#YGAE.S`1QX)Q$W#=D]H.?68K1^!(\\mN:AQ9U_~F$Q3CSJ_$\;#+XJ~0
M6_P5H^C1|V$O^\1~^L88m@95;[C4%95B:T_*5IOV~XZ9KE;;=_M1.#U(#^B)
M//BZ%QTL$mR[W%!_N8JGAX|MNm=S':CAZ?G[IQ?M'GZBBO!ON3OMKZ|'4GM)
MU[#|H5Y8ZDYOM3LA^B.K$;[$7!%IJ!;C_8KWG)[T#:!;M5JK%~mF;]R\&C?[
MXSK`F?IX?#4.KWC[XI?~6%R~*@=8BQ\2#G5H./^M2'@'.%&`YS3A7KF$*EC`
M1]^KL14|F]`&JVJ%UZ'$|SD#%0m%:?R,.G0I_m'`FN4"`99CD^1'X'.HB8GU
M25E6F%HCQNU`,8&~P8D@,3V)KU4"mPIT8_[1[]0+0\&!|`M";TCW@@F/,QKY
M91H0H`4?+R?A:`,/L]*?%X$U9;@1XX3FH4ZE.5P+X~NU0JOD9OmK92)H\.H,
M1AO?W#.XM&I_X5N?TQ,.Z&&D"[B"S:|)C;6'"9JGO6@|\5PCR,(K;UIV07`V
M4L7YT?#^0,#m5HX8NA'@"\75="VE,B[TXH['?XmN@5R]??WZ'5\K~ME\8@/M
M5MZFD\;VU*='1_3OEB$;G]A:*;`mX|V*0[0|A+~Tm7`\;BIE#VB/&ZS@K6O6
M"77^%TH#L=;#~^CK.,TZN^&(*BXZMTO^UM+3TQ_..M+=YFQmC^D/|!U#Z1!"
MOU|4K!6:B\IVA6:BTJFOmVL7L%I0%=R12OCID\Y$M3K$1!#K]Y$/GmG(LIF~
M+LV/_2/CN~|E*NM0S7|T]H5.\[JB3S\Q|=RN&P/Z4B~_^:;|2:V/(X`_U[7E
MJ::5SZ/^RD.L#@@A_?OM;KV^])ZE[DmNOR*7XZ,7/"\&G9U_T7);S4/%1PZH
MV'E#6Q@$_2N#B#]"(!Y4JWBSA96XV=@.M\m%98NHN3RN5JFC![:&:6?W0#MX
M'J($W9WC@G\:A!=F~.(^*+5SQ;W!%A?N5JCB3A?W!?]^8$LG0ZK0[P))@_QA
M!=46('G.?4)/I_5M=:/%%R'?]+UQF_M.*]*C:?S@FAHF[F~,2.9D:A86+[!^
M!_)+Q8$`N*GDWLJ@F_'?PYV5/GH;|IXB^)/#]6*MB#LH?9,/`%#RT,0mEB9N
M\m#$??W9F~m^K9^T2LE+!9M)]!]TRKFmS7#A=]]mK;\SRSmL=UW3FV$J\N\Y
M~F%I~]+ZC`I9'WOROF"&E^~,UI)GXYZY|]^L&[5VUZ,03STPY~]5mEYXVCU6
M&QF9&0`5L[@H;A4]K6&`48Q=QH7Y:TPU(`P%?FH@D2E#JZMB=!4/@D(PH|0M
M[mA[D0MJ,&N%`A=?%SGFK?!4:F*\)Y[JV,BXA|m["HZ!.~~UR5\`1P",HS!|
M`$5T;8O;)'23HM+C4'/,&X/Y0;023K&A:+=6\:D&#1]B0[6@U'/KR]m?!.)P
MI#J'9QIQ`FN?QF$8V1,V|'EE(F[0m|CG:JT)Q,O&M4@|C"@5O.D@mE%Q_Z2;
MF`!$JU\!;:QV?GY\^~;UV3N2:X]/SLZ`%.`OH,,T',YGK$S@:"#UW+?!]LRE
MJ~=#"4T8[!PWE%B?5;B9BA~JC1|ROGHA6.F&B=&SP="B]0RLFZ""[m!39B`%
MQ@UNJ(;B,7(FV]U1;$JC(?::H0N3:|Q~Q~++!:=`KAO;5_9BPS@A^V@P##T2
MY333*0=W6S081=^P.![.=;`4|0,=R?$E8G+`*YX=OSU]\TY_7587&F6&5ZAS
M~"B="Y?"~([mZ^/EmZ)'/m80(N.1~#_'2A+B5KO;ZA.W~K?,O$Y)FJL'4A~W
M916D:OD\~?;\Y.V7m'mU?Sm:&;?S(T.6RDA?2_/5VC0JQmZ\V2)Y|+.5P~PN
MG:L;;:=3QAJmJA8PL^W5[|IHT[9063~$|@\NG.]BKX;LYDL^/Q*Y3;O?TJ|~
M1Z/G%L=O8+2$P|]G)Y|O3U^=['~:+^\U8Y=[8O7&:S3&2W:|ZM/@J_X5;=WP
MVQNVF6V$I=._QIH1]C)J~S8%W@%W=V6^UK=?K9FAUm?V17T/2LTWJD^ED\OK
M]N]H8H.Q3D"E1TR#F.8V:95:_~81452)Z+_?VK~YCRUH`N1I(\KO7]%NY%,N
M.(02//WN[;m+\WNS#ZPU]/8PD$HR\Y%YCNCKYZ;XRQ9^?7W\["4m]7NO0Em$
M=LFRZHI)SM*N_XP5X$[*+ZRNTZRP?:#'L/X(/:D?,|ZEUY$P%^]WS_/5,WAL
Mm;GE\WI68B4LCJVOCWW81A:HY5",!_%mQ%BQ4!T)/LDD`C1IW'2UX#2LmTBI
M)KI$PG4H:PFYE/?(N11~*G7/C*PTMDJ;/,JQ6OJ?H!^/,RZMZ:!YJ)=B:6@/
M[Y,U,ZmO65&VQ$@Q3'|I;9!5EHM**%6]7(OMDQ()"\P2L!D7%^%/2!V@J%BJ
M*C/1"9'RM&,QU##(D~K/@ZS'KDDF+.=5YF#8$,T`?FS@]9)Y;&6X.$X!GK;)
MA#;7Z2`V*LW$ZON4&V;VQ552BD=59WMA%P%J$,31;`S8;^O_*BmE%INY;0\S
M5YUCK4XR@:|X~PT%ZC6D#JSBF.M:+D^\^9Q=PBQG:ACA(NHO;"(?Z"YM_B%F
M:J]%1P?^;|P1'86$DS+4OG7J%XW[2EA7Z[&Q7^^~'1__]+Q#?7G@mO^%I1B#
M#|Z!3%G:m"#(\)ZT$6LUL+1]XH+G13+FX/?_N4@X&|M^Q]/X[W[]XN#JH%J=
M;I6HQR/|?]V%8QWB[V/N#'60D!7#YC%[9\Y3]YS^XZ@4=Z;`]75WV],M&^M2
MK|D0B(]SS:/EY|YL=IKC3:_0I~5S5TO2EMQL1|LF0X\@'CLJN%3A8XWGZSX3
MN.2DT'P"M*II(C@XV.XL4OJN?/`[CP1|JH38J/!*"=MME3+[*G4+(DF5P?4=
MN4M2JV$?973U&?RSP`6TJ,E|+|V~/Z&:)TDFZDE@:52L`;NS\*WWZ,LW!!U.
MT2MI`0+B@'O5VFZ]%6&:]^A|*,!&E2Z1C:]@`)[A9_K_~[R+2,[NR4M,Z^OO
M_U?X;2=|\FTVS$@#m5*5H$'#8"/8|m[)X\;*ED!Q5L0H=V@[V:B.X5&[$|I6
MEmWN78=;[G*HCMTVWEH^!IYGEHFCL,35HT+48B[./HZAL*&1Q&O,LCPTF'^E
M~6:'%V/1_K93JC`H_~:YP`DHA(_+LCPMGJ:*Z?8PW`3^0:]:O:%5,YHDWP3A
MS0|LGF9"*JMT@3&)TZV0_CLHMT&/NX7="E1FY7U1VAQK2[CMLN:UOW_*&\C;
M05O_MO'539=89|B.=*NP2+QTCZ$UI2\4HXD&QYOLM8%&82`YABTJ^2`P%VQP
MX1,?R\1YVN;QF!4H@;W(2WYP8M|O(|J&M2N6I#T`_&=O3LNN,G4%3&44P9P#
M"T1E%P[G##LVT[21O,\]m!*0YV7B*KSM:3FMC)\.S\':LL'&*C(U'E!1m])!
MX"7R~.U\V*RY4!5(8/+%:X;mNm"%.M"*F$/7)*(4_)G,#%|I&BGKR$?[84+]
M&m_JE9LB=QF^EYQ"9RQM!,N=9?`T+P5@KAHFAVORL,629P!_m0%"8WX`#7YW
M|N9X|?O+Y=G/;]Z\?ON.(WE|D?VPA`|6|$W[KN*OGH)E:|8'H6=Z|I\S:6%U
M]FPN,~C0:A^$K3;]~V#!FCQ?LG=4|[X"BF2D*ULSB4HHN2PG\7M/F+JW3%E`
MXV(J1MHB_JS8,GH`[F_6^T*;?^@;KQOWm~5UB^=D=4@=LV+'Y65=)Q~NFQ(K
M8I6G8~GQNE$LM6SWT)H~N'?EGMQ3[[JF5WNVCJE[J#\/,7RK1=;59$_'DDQ[
M[W#_&14=CW'U;'0~R9RN'G09#+'&FZW^^M/O&;O63H!^N^P,:I:(55$+(^_!
M*1C.+N!V/'%/!1Q1OZO?9UGUP@XG$M^O)4V\BR1U07!80IR|P@0;"=HXB%J^
M%=K_~#:^#88.3!,"''O@I$+~&8X2^)EB5|(':N`PD,;&UR?`%PI6(*A+Z@R$
MO"V")684J,!S8M&QIT[PW"*C1A#=]J"3BEDV!S.NF`@*MV)`D"3=*PZ%\/MI
M=OUH^59EM8XNP0m"+J/"2"DK=9K\+"[YB0_5P.8INZ^E!I=M0=*",.~@1A,m
M`V('@AP&9$'*3FS6K_]AW!B9F?P*&MF*M4Z(CQP)IS#*PDK!_XIY(J0?MR$C
ME$S5\L?X!|XK+MAB9?J5=4'JM(;L;^N["_QJ:TIKJ.N4V5,&O8+'#,TEG,'$
M.\N*@DF^'+OU@PJ'K$7Q#HOF3[`J)]:AX(@`\T.#E7/#(BJ8`A8.^=R)(_KY
MU~E?C*mVT+LUAE;+\TA&.\U_$|:3^=A#S0?V@|4.XF,|R/98APB,/@&KLI03
M@[?KUT#5:^=7]!m~&N19,4m*TEBXBT\4=YWVV5;NF'MGQ~mP\:%+#|;+D0|L
M(&Z!091D(LT;$mm*=:="?SVM;`7L`+%S8m2.O"ZSN)^m4B3Im!NQ*8ZX4^=E
MR_)ZU`N1RQ.VUV8!@RNX42_7$)X+,H;!Tm"#SN%YVS8N;Q9/!mXL|*"0THH]
MI`[CA[EN7NEG;U_\655D*Q,[N0VKTIm.N+5mD@LR0%;1XPZ&&["30ZVZ@3I(
MFMF!%U05OYSO7(2=_P[;[YNM[78]O.,9JBV]~JMO0M~(*7%0~OS?8=ZFTFT\
M7|!m9;6NHM;:KKOZI(O57?X":JBKA,;[%m\|!(LRF($+CF1')YKN0^AW^03.
M09N@%Y!"3./,Em49=GL67?M^FS8CA|$29T"4(IO)P8I`X*_"#_&M8)FX9;YW
M`6I5NC=1K!%N2D/U`YWXPR,[M4RH,`|@554W$?JMFPR=/BI?"S]5Z^M*5BJE
MB38O:.]6*N45R^_,VT78HB8N9;X7~A!2EU8:X[~IMM2THOA.M_K"~LQ*Y@:'
M?N"E^:BYm#PC#C75#.40*Q6?2(4DD^2=)%2?UJ$E)m:`PRH?1R_K3BZ.^0PN
M!"\7`8\)O,_5O|&E~^M?1=RS62E3A43M6V?W^X\5~(^.FTN92;.Z7A':XK4_
M[;__U$WKM4_G[[OIQ3;^?GI1I\=8~/KG_/T1/?]T)/_6~2~8Y~4&/_Im[2T.
M]/EU;C|'E\%AZZ95.6W\EI^|M|/V:*E0N_Hm%3"/O=[F[=K[3W"7Km~X=^O[
M5MVENMJE\RBA9~!KX[P?3?5|DL`K@7ZE.R[G%*|"~I'7`_.!L#^'AS8#'*PU
M[%B39PT#Q@/Z((2889^M`:$1|$H3:G]$3mB4M:6Z(1A[P.P`2[05I\/M.;S*
MUR_[TA0]Q=Q\XIGH[F(2EZ~PQ@O~+;9I$4'1%C1CW:(]8E**'L"IK+[BZVYQ
MW9W%!I%TQCZAB1;7]I#+NZ4\4`;%AN,MYT`:S#6*T[GLTmDNLN)V&EL'GXF`
M=PTD30%10m8025~]TIA)SR1;BO,7MK_/I~_+Q9&DT!K1#=],|F(9!LC$T99/
MVLC(800!)NEHV[H;N3SF(P?'J%'#2%~`ZY^3%"@':D4)H_H"5]62J]\6\6.]
M^N,HF~0FQmm6:mPK[/[IW0;T^KS5:EV`]V(I1'+*PI5IE@B18FL!|4WT~!(;
M9M"3|`)P,?N~5|~()$9_[%S?A1]0X%OUA1m=DQ?:R5"RDF];,LND\;7$M\C=
MII@S&3)C,NZSG#&^^@*#W0~X2@[]_)A$PD1A1]3%L4\88).YJ%JC"|#TB,PP
Mm/Y9IH?*.1+%G64?8L&0M|FM17G9B_O1'*C0&3N_C6@'mH)[N\TYB1HF2("9
M;4X(E^MJ;BDG"~,+U(Q\`:W`YBF\D$AHX\284]@W52B#S=4.NmO|Hm=(&Y8=
MMOA&*C'A0RT~[K5V:)MIUA&7B0,Y1V@XHQ'G$681\UJ=#SmZS.34[G$)%90Q
ME/4$mM4\^'L^X4DA/*:|HM85TU%Im@!.T|"Y!6EHC3|K1J(OM0&V.T)N~F9E
M`TD7JBH``QV*I;99F9CH7Z,GS(])1A2V=].C408\Q7%|B%0B^!(M7_?M8%6P
M@7,5LL:)9#T7TN.RQ21Y`mTJ|2OL/"DBD^H?&IXU6_)O99K,HD3Q`J%NmL^5
MFmXF?*J`O#Z(B"9PV7+LD,F@1#6($^~QS4B3:?IQ([O=^BW:)"S"7(KRW?`^
MZ#O)7.SFJ6$[|)4LD5:7\2"|3\WU9EPI\ZT@HP7E&/\(._~*)@~PE;E=+66)
M2UODM|UVA)F"H(*T5[=2UKKm:F)T\8;+6661I*![~:;RKD8R&3!0VOI\AXM7
MAS|)9CU8T*mUY`(,#R.3BDD/N2C/9^#3;;F'm%NR,|48*mR"/9K=3A'8$Y&7
M9?@#D&%.%6E@XCUO!)*&!5O5QY[6!'46EY4&WFYK4Y?|%$MCJW|5B8$)444/
MGM``7EDMFK4X8!:0*m,7SBW:H&:3(~K8,YW"R7?)QG+1'PR!0`1AEm,;)1]C
MUC8DG,B)*C,EV9)D[T2^G2(mRI/!$^L\H@W)D:,6C1Q:GJ'&B'/B9#%VH^52
MPG+1?)T&$*|Q7Z:?()4*=BR^,5^2V\+9^O9]SS&SB8/`_+0?KG,Q"[YB\P4K
M9]FFTOQ'6'%@5,;]E".7:FH!I$M1*@V;)RC\&:_`D\H:*!#7%VJZ5:4_K2L7
M7,$~_]!;)1J0"5X.9ZK6'FR%W@=:5B%mTG#K?;N[[94(/SG?"Q]mQ("m'AZ~
M\4AY[Q^[XW%TM%4&'W$Q1/LVB(@.KA~@XV:O.N48*AR4))W'mD*#~RFOO97Z
M9%[L\QL/_83JL$$?=C(XOFLQJ"SmPE|N$H+^3#YZ4U!]JL]m4`Q*J!+]J5_m
MD+:_J6.8A!Y.UJJ/J'_(+[$9.]5=[+#=_|U6!AUZRR\!\X,/$~DY./@~"RN5
MmJI#!M="NN%\W@N'EW1!T\5L)$'(#Km1(ZS2LSK)?M_0;[E*@S7|?TmZm_D@
M+`']@#.,|D\OC|A8('\E/?EI.MW?AWI_?Q^E+_FQJ5UJ:![='?_RG(5mKS0=
MTTL'P'+I`[#4I';IWIJ.H":UQ6YM07:\=Y)TU(PWmUP_PQ:#S'ZXOIQ/)=;0
M!C:`E)=NN0KU!E9JXmM\#DOE'@3V^10:SPM)Nm.?\C8D$I`A:YC^VC8=/``^
M)YT1S3~CKROACE9BZm'9XTC2J5;`Q*EZR)4P)6(R9\Z&GHBR#Z=U3S5=~Z0/
MLBE^UVAMMZX6#TWX~MMPV9V]0W2C5@P[E78QF;9EmKQ)JE:+(|\.HO2/\mL]
M49M$RQ7,^3SL%A?;2_|WPO8K4ID?B5L.@IMV[O_:QJV5(O+XD^Z&X5$J9G(J
MKKP7\J;$NI)O$H7|K&Q]TTV];ZN[I~FK;&[QZ.]9M?NG79VM69C"K2SL$mW)
MWK7@]#5B~I/|;NHC2_(8'$PL=^G4!E/58;/[Z3)*?N_60T~E%;QELV`F8IUB
MC/O?@^\5L13"42PPB])VZ+7=D$R*FJ5W&"5C^'\;m\\QQ#)B@&8*.FI[;&#6
MUPS&8J:;C);BEIQmK?|N/(XEHRG@C68*K%[J/**CTMMU_171P$3I"7@RQ\,D
MQ=QXP^3S?C]F]GF%0Z)mPDG%[KG..T&[QM@0~;MV_KY^L5T_H`|'!|#%V7U3
MGT)_=5!$!XO[3,#'K'5|E!QU&C8@K|]~O6..\`I=NEF3AD!RQT=JD57Y*H#@
M=!7m)F!&O7R"*CV0G`DL=]%:L~1HMCY+5XP0'#C'8K6@~"*%2VA:SB#,LGV.
M/.ZB8F!m1V#3[(E`S'E&L5O6S?GQPN5Y.@Y/?1QNT\?#O!@D=+*/RH](`%UY
M1K=U^=D\I~XmELLA\VWY61_C+#\B^3GE5OV,?,=^mK[V=B"(*VNS5&VWE[Z4
MJ*I29BNONO73$*PA|,HX|;@GY[2|&97(93(XOV#(KC^KCN2,QTH5'4AG5IYW
M@LJ79L[KIA4!W#0"/=PmEE275^S[C=A4Z`Y$G6.5#Y*:4;``@#"1@U9=Q~/I
MH\06|YGY]S$|&)O/+U\^~_N"73\5YPC/_O+ZS|DK@WOT^YV=m7?84JE+JOGD
MU?.3YYW=4C3PF^|_K,GUM1P;C%*L'RLK/0WF=[PO!U!A/3!'W9?1N_@O=PN;
MK!PF69(;39()OBF]\FC!%)T.AH@]@P=Fm@O.SV]B_57/L'S&2^XC!6HN6__6
ML,"[`;QK|]_^5+.)*4(F%1!"P6$Q^!^2";m3TL5%,"$J0Q(LZTKJH2!K,R&%
M%L370H6|LR_.?6Q4BW0RL'H7+S95,L0#XC5KA6]MROM2*.[)F[m&|(m,A#QO
M@P09NR,.=3+98PN3T+CGV2&;)@31PKH$XNM]X.,BBBY5ORVU*U.33$"FI9]Y
M*WCM=*U|KR8,]A7~EA,P0(@~/".TJZ);;)6m#D9;$Q4%|?D\U=*`M_AA#P#I
MG##0DN&`EQW=BP~E1&!&4V.8"KV)2QA:C+==!"ZOG_mLD+,=L56?=MFOOP+Q
M9I84MUM;H~X']:J7BS_P*O03!1J,=I,R~$U^^YP8`@8S+ZX:@6A[I,X|^@];
M@YL9_PO)*Y[#OS|~POFB%09O(^?:"HK5Y(/+06\Z@=A'_:44DT@E@QS.!086
M&`A'`Y_$N9:YMYE9]QGO&KCBB'+M8S++4NZ?L4H$WE9'GG#5AD*5U,]H)1*.
M@|6EZG(YLDI.YSI0W9%U?:T_G.%*B)3X`U'7J8_[mJ6`(2G03~F.:DDV9BHD
MA?Wm)^S~#;%Gm^I`8+V|U$_7PHSN!QLOG[T[^0N"BH#$^OS/I]21G_YR^NKm
MS^_..JW];K5*KW_ZH3WXF%`W)C=MTX/`?FBZ=U_62)$77YV^.G[IXG)`\^]#
M4K/*GRV;?6:+$5RVRNEGREH57S/C`U(86"+PY2:V\WmI(B%2~)';Z75CLT7#
MM*CC/)CZ`X&+!D@_5^|S.MXRDBWm'0/4O,NAG0XO""IOOR]EQJ'6;7:|Z1;#
MHKO:D352?&8,YJEMI^'2&G(VQ?XE;==.=;~,AB\Z&NZ,#Q^OQ5E5$]!&S1_H
M*5,EHNG3*V`#;I?S^4P]*+;ENG~I[ON5433?E]2RJ*$L|'XORF/V.J*OL210
M|KB5,LN$`)MU^4MDW9845%Y#`O[?%X~:42Z:*E5556OW5QCPZ,SKP7(=GK+'
M&\"P+IT=X)^ZT_4@4[HB7L*&,^|I$PNBW(L3'mX1I"N)&F*,#R`I&A1?5`\N
ME&K"5:#RW0W\m~mV:UO,#DU#;KSJ8!T5*#:1&S9"`\7!5@%3,OR0JEEA#*P,
MN/VQ!!2\_.F,*`+QNVUIK+O26KM7TEGD;6:U:#7;W[23@W~B^1'$HQ#[BR2X
M\*);#[E8:YLE.2UUY6HB$?#54KVT"[OU;DKEO4^F!R/@`R+^G??.9@MTZRL.
M!^#\S5^)2KA:,]2M'C8YD"(2[X$~$D7`L1!A[[[RQ$0CS~+9/.VH`NOP\"=1
MHT7S&Y=~V6B54U`G+K^B67:|L&3ETOY|OCUY_OKRI[,7];"ZW1IGH["L?;,X
M0^9K1=CRSJSN3%FH!MB/^I96!B@NT;DG?*Dm4:NV`]6~_YY#/$H%5.'=_!A^
M[&4WYHm[6[X6*|MO'&GB;XV=55/'3N~%31Y%C&8XF$6`(%7?`PE+H0F$W1@5
MV)M2_3I9+`|?06^)@I3`);]N;9_`(mMNMm^/6TQ:S5!X)"W?|N&TAZ)(MTIU
MIWX7U~|PN~|6I,XE_0](L6/S17.|LN7IZ3($YQY*/$%07O#]3H7&4|L_?8SK
M^OV`N&YLGO.P=5$)@A].7WB8)E].I5U6'm1TJ:GA/m)*AP7).:@@"IARQ"ZL
ME@m96RKW_/39%R"ND)!P/^8*U_|7^OL+*F1~Z\$*:|"7;Y_]\@5UTFS|7^~]
MH1YFmDI!%@_&6m!^_$|R%1007@/0+9JAX"O(4[3$"LZA=~M`'E^_(IC8:?W"
M+VV7.+T#_;5')`E8,DC$`W"0IQZYI6=T9J8Y_8IW2]8#~E%D\BKX:L/].N*4
MCZE%26*AP#I40*5&M(8*BGWGJ9\TX'%1)Y)3%8Q~9[mU1T2@012[`8^A(NLW
MQMFP`68Z&=#_TT$C&8\:O=YXX8!&WmR%W@J'2RMB?J|SPQOD^7QF=!1&X^`+
MGm#"mCBG=.Z+C6#@H8G$_1O,IP,.A9[?)./$#LVD_Jm/;@K01PO~;?R~5#AL
M!.?GO:0G(JIX(V+/`N&'G\!YD*AKV2,#H1"|`IR=HP*G+XVL]&0%~@$60AVB
MI_"\4'/GT!,X*%:;Z?)&(Q'+GW/.0;H[!NS`$A=P%()/&E^CR(:0|:P,F"?m
M9"Y:4/A#C:m;5K!0R88.UMRY%Q~!7S@mDPD)Y:SFF,5m3""VT~IEWEGSU`R1
M=@BW0Im)M[[|CEO=?B*2!M\V^(9N?O..5@*~(/XK61QZ@,N%00RQW[9;M!4]
MW,(PM*M&~^STU7.Z.8Q5+`&RL7QPQ#^D`S7*X;O^9*H/_7|^6[%W],WN`5PV
M.]7JG^0C&**]PO*SO&+.!EQmKI"/=*J%)6(,4;'_/%TWF6NG38/F?)7]&T'W
M~Pm/4)R27V9(9#=;!,'KF7m.*\5M&"1`\`R,Z.OID*(!E'\BmXL.)K"~J*(_
MUA/I'S\`T*OWE:028=!Y*6Z]'`6&L"DNJSYX|:J^*FP*\$L98N`5#JQ&*J*]
M8))?PD/\F7A&L=;9'A[1=142W\S_9`9.'[YCN0?!0%6\!m\~,6S`M0#NPU&\
M89W9\CD8%NLE.Xm^DM@7SKN\!HI:\/RG"692(\AR\:6#4%+"X1m=:&!4RIJJ
MD1,Q^=EOW7"$*K#OCO529`|J&.9!`^!5I;5Y29G6@_.DUZSmQ7AEm]X;R:/Z
M_S?P!Z6mmTQNUH;SW&MQ~'1@#M8FE+@QM0MXG2P9*$I]0|%3|0B'L_?YN?|5
M(NI,!,SAV;OGIZ\T&H/!M\1VEYJ8$~EXP?ZJU(TXFM#'"@N`L(EP0W]F&Q=_
MR#6]T|/QN:K8\O;26VXO,QIPMF'.4B6K74=65S/5MXI$!2_*@REMEF@4^RYF
MO=BD&U=8\F18^B;4;Q0\7!6~8P#TH&4|CM;GYEm"(]!!!!P5m\66KM8CYP%B
MP/G[NPO5OP+;692BXV&3|Q`&"'U9WHVU/^T3KWY1_Q,)PXN+[3IJ,%%+IC/C
M/L=(\#P_\TD"9U+/'5:'B^@QDZ|W;C)*H7T':=%4RE'1""2MG_5*GO|_J"]G
M&9),H@!=(D]&7AFZ!EM?m$D|_]m]REWGJG6P&V'^@3CAIXmXF&+LE["LR=9F
M\8DH_\%OW.!~[~GXWU$WL.XYMM"B*(95#CK0Z!|\Z[#+$!IYME0:Y^(J&5Vm
M`90AM`7%?C2/O.H%Z,V|N~/ET*7:^?E3VNL|Q[|2&Q()F;~P6ZI]CXI`;U,.
M0%1Z#BBM^:1G.RBDVH#BFXIHN2/,EQ]$(,81Z89m,2_"OLQ?N0Z3FBFU*4G%
M8"P]D^/LPIDUKZWN'($STUOD6B$]^C"0|FZ#":"#Y~KGQ6`ND&[\'ET6)8Y;
MKB\m+C:`9C93/)7\2/5+T[FP!@'=JAK_*VZR,P0`T.K0M!=8AO=8`Q~@97$]
MO)@M'B"#HVQ]Y$2L.'V|YX0CLmD7W=1+0\OI#,L*|S@F'|:!K/A_\^_4)UA1
M"M9#Tmm?)3?Y*?.mK*9+7.BGN`^K%442)I=.=##S3#5"0I5%*(6YL6[0K/6!
M3(|Q$8'9|HPV~'&.L6+K%0PMG,L%\/FYV_N8GRP=SBW^RN?)M~XB.ESOMUI;
M[]\;FOWY,P9R[9U;#`+["O^B9OQ[4"Z2F+E,F7&J(ID\^@!Z**?[G[N0E3)B
MHFQD9&Z~A!(3%TKL6]O$J&)L+OC11$U~AL2?5[I$[;JI%S6IA2OTL!R.V7TJ
M8ZO5V'O]4QV#_)2.O0Am#'*E(7Q9HXGZQ)]_NB%2Y'UB.R~+)%V~SO,KGMS&
MFKJH$?NY7Y`;U_*A)=|+|5'3XDR0:~9/WKXm*^&?\(?^Q5?TESXP`[=!HL*B
MX_`Sm;/)1]=%\1]P2`K'@$`PJ#E!HQZ8F(6P*:)YY%*+&..KY6`YmEWJX?A=
MS%*mHR9DGD3"7PY+K3?T[(EM2''0E0J~B1Y!38JL0`@T;XHW0)^Z*1mN6I3P
M;4`$1?U"";02[6P8%*L3)03`m^+K3A8WA:?C!'KU,|G~O._]N+FWT22/B2U$
M=,6ID~20S`62?!I?LS68F0R+*#~=SZ9$U|5##B@5)!O,8L[@J,9XUZ!:N8'0
M:+^GCN4PN0~_:,X8@!!(U(5M3$`/H(:2ZVY96A,A+|ACY(2#mTT\\7/;/.m[
M9J^UN]O3P&/;#6)1m1M\WEIL!@=VUDMWM*Z7[X5AKU&V`FFP2Y4?:|3?]54F
M&5SR3!W$$'R%R2P0"Y~R9m((?7(N"E!`7EU_:$BL5A9([#%N1&,,O_Y`=!I^
M\[?AB$'G/YH$=/A~XIU[B0Y2LETFB'&1V!$KV|KJ((YGKP8G#!.J*;%W3KWD
M'S9[$`,X3I((^#$9P!9@`X,:X|B$CM#4LmL+LE;K"'H2D0)]E@K=@8P93'ED
M7&),8[30$O,$)QUUS?C\U8/+`N;D'^%m2O|$?C]]|[R__QHCQ;TA8=C49397
M*#WP;R!VP8IG?(.PMmHI`P7Pm?80#Z@!^MmD0!1RIG&M53Y(L_I!@!=4ITS]
M\ON&MmD0$8m*F^A;~2VT^R`0;!M]:"$7#K4VO~'D88UO8VJ0KP*Z@AJ&[M?K
MX5$GW#%T'??3!'@mYH&AW5OF#(=;1+'9XC#C~G9051U47.FWP"J8[W36^+[F
M~P?|O?|YM?:MA@'5;)|,m@/UQKRZ1'+97~H5,?2[8:|C%*&;!O=UT2`.F+?F
MPH6DMM(UJE1E)S.K,HG$m$1)@;62E10@CX~48LK,^UR3*#R'\mL=7%Q`79;Z
MD|6E;2?2J:I"H8F=X?"6BBABm9WE:XYKXTUG8:R%0+"P``)V?FZ_O;BX+S[Z
M^OJZ19V|Q|T\F=`)&\2+!1mSB2T3'5/SD16mTGDKFXW:2"]Y35UHY[.^?EO$
M)MSZ6~IK`J]%D:A)/DK.~2;AI#CI,;E8GMI)Q*9Q7Y3ARV"M5_/5XC,:*C9B
M7HVmKE1_+~N~[E4Z/3505C;HV.NLD~,U#L\@C,P8S|=$S6?0%HI#(&M29#DS
MB8FD;2&4&=J+))OGH1\M+,#/`H\5Lmm`:?%=J+#@&KA^V*!*Y22(J9DASYGK
M.H,C6mAESZ21Y&ZU5GVTHP"^K~/LNLE05J$)ZFMPY@^BYKV$mL6M,1G3$LWH
MXSC6],)!N?^X+VTB~|;VXDQ]0(6*5(:81'_+9MY`Z9|G00V`UK~EJ=ISB?G|
Mm/C(DWQ%27[ZNG9&L[R69Z40S*WA$+TJK(/W?*I:'R"P2:7"VP4N)I_E7~+G
MQ,%?5|M+49C&7,UEG4@L:5@U#YWOM]=W"0D3853E]E20&#XA'T$AO3,7,Q1^
ML,X33P[~0&`|9"~:N76[L7!1G@'T!%0A#5]L9PH+Sm/I2?3&TW:YA_#N'#I'
MP~O(^G/*4AO3U@~)SQ|~D8/K/4A388BY`M5BN@A45O2)+H*9)|$YMHM`O*NF
MA`PTX2VQTM0*IW]DBZ?SPQ%O%~%?YVG^*&]MW_.04|W2)N|6:FA@\*U.LD_A
MU",1:,/V|7,OU(Q"]E$#HQ`8,+]|ZZ;\X9m'?OA$/ERF_/KQRN.:U=O0AW49
MG8X,!DR)1`]^?/GF[~L7E^_^^N:D$ZQ5_@MYIBMU:B"PF+m3+3SO`6]N#.SG
MFA|=M=@A?m1KUF8|$^T_AR"Y4:R8WK1D&'[L_.J*m9N6P%`IZWYC"_RJGU2J
M=Q\WmK9mX47%~[ZYV=K6!_$mNS#[D^/6H?I1N3*D"_.*((~:OQV:T0.OGWBC
MQI\m==!\G3JRJ,2RQ(]X*+65\.B;/??Y#1&I7?VUM*HA1YH%"$\S\[NR6~Z?
MYC53L?QU()%O]Q4/N'DMH?D'2^N?2$MN|L[WGES4/[,38$KU6PD/5mFSU+GZ
MXT9\7W7;]36/D7,NT!WPT'8V7K~GZ4~2BP8E&E)*@E#ZWJRJ75&:/?&C|J!+
MTYGDK.++4TW%!IZ7J:B8($Lm&@,PWU36V:!4)BG8@];#^&,,P=82UW5X^#R#
MGmP4E|L2)VQ[IMA.^B$;X'CY2Z~"%]\[mO7R7@@/#TL|!YTK@\BW4KMm11#Z
M#E^`7V6Y9+D~XV2".'A~5N]T?JX73_Y%O7BRVHN5#|R5]0~8MN~G;]=N|N[?
MJDCP3W1R365+/~5#`)U@)K!,RWL);#m=8G_+~LHSV~2$XZS_82MG/1)@NR#?
M96m`HWHRAH/&,%C9#*TR$%15|)J][*:)HUWBDIBY8?;)U1YR[1+;R7$.TPA|
MZTA2MZCO#NN&G$!HK:m@'7.!NFRH]_`Z#P1m$Q\XDR),+WF~]5DM18)UEH[`
M4H(#Q;0H]`N#SH7A+PFT8H4"^016CT:RmVQ^](KC0DQ4S(SmE8FQ"]PH;`M_
MA8FDJ0G@'CJ,9L9D`0!)D5/P&_OPQA*JRNX@P'RZm;HYKAK,5F"P|+V$Sm~~
M/M`A[7FP?*H+75E=I2TJT@C3(F_.SWLC_HF5=!#$P;J,B0L$QB~SAR:OmL^?
MMTR)\K,0A3S58Z#^W\I3.GMmQ`MOA`08O`1HB(m'!9\JDI!|&AP&AN+T_1PN
M,$FLUKS|:CB5^[6P/I[Q/B@YLL&3%@,P^7m~6X_B+F8J'T?Y516NP@O+SJIB
M4)OHSS4)MR;+UB50O"Z:DRZ[.R.VROJ4!1$'$JG^RZ(I(F~E5U[U~KE']@72
M'\'1"MPHMD0^Y\;89[`R10S2"!J31=mE!Q=I:2F^CL%~)?EY[GGP:034*m5%
M%0&8%BBPR%QE%3.GT0SS"6ZI62EYN5M:_D[6@_T~2!!B&F~|`G,,*N/L#$JA
M)K9&#\1*O@ZP.$D\$PCGWW8)=H)[F:!E%HC9AZTN6_[O9m,ONBS.]^,NCC3$
MKF87$R*D8Km$FDN7]I|V2C3%m+E|JR\,+`UME2ONKmY6AD.RJ4JZ7?';V[+!
MQ%PI$X46G7T((\R9IQGM+'BNXKU|8)4OF9Z@HA\%I?')8WJR%1[)m=N~W$ID
MF;:N'mB*=$2G&^+1#UR1A%"]@5&G)PBmW3F2B_)58AI#O&XA&M0N?W863^]V
MIL7J"T21RIOm,+T~9$XAQ"=`KY!O.$39Z`0$^RO/P\m.N&~_BQB~:WW!C5T:
M55QTI607RLL;[T$D3X+N(!Y*MXZ%7FSLWFW2K'63X4WIVTV~X|WPR6SPK;3`
MN35*%#4/F_!?]H;!'W6OL&#~~G5Y!Q!5Om,;8G&WL;O@9B%/F*9V&~A!6K*X
MD@#\m(,4FJ#`B6$VQKPA@(8D)2"UT15)',:?M+8]H,UI;5+S2+9:%_3Y3O^6
M(2_6]W`A/?/F)O(GA]Z,QB2|CU|F7M]O&M^M]CPUN&/LO"R!P$mT'H:_~m;F
MP=!"AZ4Y6=="J0O=8|+3.$QHW\UBU.78*'|NPO"NBRA?W=]W]G1=`4ZUN=|=
MTM!IBR\]+QTYM";[.~:(YH762\?m5;U8KWL0P(M3OO)*NYX)/W~3@0Z(@%PS
M&6#W*(0[T8X;1[UX?,=.8HMN72(\VMW=+F]E,REWB]+O=]V]Q6;;V+I%"V48
M2%8CLDV1;JGB=JSQR0S+[3'*!Z*NXMA;H\5BM!'1M1&[B'NRYS3)4I~:&!CR
MT+],'$^9VPAHU[CS#U?(9~(02E=1!*^D":=/4*'/Y2DPNGE1|A8EKDUYLX2U
M:H5AF|HQ\%'(~D(AZJm9=+ML,.|54UA`Q,81$0K4_&C]5N\W"3QPS3SV,EL2
MXZIWNm[C_6^;~5CE'Q?`4^J'3225:HH9NR,Q4\W3\m`+Q[#RDH2@;=&)4|;I
MDX3T\7QM~05%MmIJ*V&@77FWVZ#_%NV[UG_^L:'_7[3IS@EU|"U:V5:URA5,
M/BX]]7_U+N//1'mX'P&6B|_9Z]4|V6LE/F$U/|DB=^"I`5%.J(D]X`);)F./
M4N;\Y+Q8D4B5WK*7~G&AVE23GX*9+X#`mA3BT$@T$C:L8HA#%PH,NI!#22UG
M#+?.L\Z?2_RR13_"1TBm^1S[FN5R=T"m7=P:$,J2W7WM3,&E+?"[:N9)QO_C
MNY]~AL=G9R:#M*9I4&8G$?50|!7?1,!IG1B28Y5$,R=X~"K[TEF4*LSG;U]\
MKYYP2]"FI?FT:*;:69=40@PK'HP3~PLL&548E=A;?T%/":S~F=9Z,(m(S^Z$
MKEDF#2PU0_6%J~EQ4A~@_@1&8C*P#;!627QMECIX"VU|55/_*GY4]75;:(E)
M;*5[m:[RCW=5"&Z+"AW6H_`~%A&N:R]T)ZW=)=XDL/O:1JB?8GMR[U?H+W@6
M8!U+%+/ZV43B12K\L~WU&MZ8V6.//%DFA|50~52EK\SC2O!5A?XOC+`;9F_D
MC;'V&'V4([1mGKYF/\^;V/P=(;LM^GUAR9,,=2UV6TBD&0TW:116\3QNQN,B
M;_','8;EI^LU6PCZG(!+(^*[KAGB&,Q[A"Z&7?K#/W6KW~YEM]H6U/QUW]40
M/5KOBC,Z?EC0WU5P)/:&N.O2/B+&XGSWXJZ[N[';?;)H3P\4^*W]_IPZ=X%@
M[N5/ON$OB)]L(XJ2V]\(A\S,#X?A=DC7Q_KI]^;,76%\Q]GG_JK~m_6/6\6U
MMR1??7E[8\A_Zm\(_[43FE+F)]P3C`M1G3#@"X00DP39$YR_S\|@\E67!N`4
MB^MM\M45QNK:#=]N6\33#8=:9mZ&LU&/C?ZN/CRRGU!5Y_1[]Z)]1_\LV@?%
M@[6)FFNI/G[HU7C7ONm'BSO3M|5:GN!ACL"$6C^~`L'D::X33G_D,D4KG(]!
M35O98.S"+7X2$JBQ4?*80^1V;m]YP";W[53&S?L4]HGDmP==.O3#)RXG$P.A
MKm&,T\?`U9|:8@$ASCO5&^$*[.|S/QI_2ZVE\UY\,\T]*E~F(C0~2Y=907JK
M:B`!IF85+FH*=)_3Z?T&J5B^J1`[=[B^SOO:8CJF$H=!/[_.A/~P5Z|m/'.\
M?[Z/S"8:\V8TW(&G6#6Q!_XC3=`QI7LYZ1~"?99G(AKS91M(%E&_N.4S6@(7
M]YA3V@D|_/":+Y01`%K]C:I^S:X4%OKI/4T]\"$UV4ZCC[?M5_B+"$V~C.GS
M]IG\0P]((LVRM/V3_+.|+:._TEII3/I(?!]|F|"W6K"SI`5E|LR9LF70O5Z+
MR\1`XOH8#PFGA1TW6;_SYO79Z5_@3:J8W?`KM|X2AFN"FX(49/0m/:=!4JQF
MN]".B/^D8S`E9H0[+OEQ%&Q=`/%"5WE#F4%1VU.[J)7+G)\WZ9|\N;&6)@.V
MC@CUM!$:#2N?5APA,)'~Y]S(R[]~'K]^^_;D^!W0TIT2(E@3/?U%&W"I]LXN
M3^7Z_;A2@06PHV_`26ZMU4_0R\4C~[1|(8BOBDC*Z^m@YYZ\((]/GPLVV:BG
M#Y2MI\]S~!F_A0FUY!VTG/5%/'L4(2MTSDY1GL]QF'[?'"2C!/"'m[HK.%UY
M^$2~MX+O3UZ|O@KOJ*)=T#CP1O:&ZW;OmLYWFO\9m8?/FC]|W/U^T~VJ$P7^
MS.(]\XE1E*W_(EP$)J82~XPO#H[ZEQ@01DJM[H1?_S?WHO*IPE7?Z2?X6)R#
M_8/L#IY.6F#3WL#_I?^DQF:B!O63I*=&./MH'&P1ITK=WKFI6+?8G4;X]NS=
ML[?OPF]#_6RO+CSA#*F::OBF'~[][G?ULm)0I]O'U$/_[BW517_],]5]]V!U
M^D*@(V8?`|F]$RYm*\LF#'O+5I^"L=[&(921AJKYMU(B08S6LYF_X+Y1K74S
MJ;3?HREGCm9D3=?.W`1_6J*:4)1=:V%.L&)RO%Q;%9~`/,F.97!?@;W!]07?
M].E4DDMH)9Y=TD3)U=)|U$)I+EO3[F4P=A=W%;,Y=O=HZA|Z]8ZY,\%VQFM.
M8A%8&S:+1W2&~K~2#0NENK1%%]K:+);VUBP~_?ORYm6+=S_JZHRH1*UR?K~X
MJ#3D]'Q#/Z"*NNF.J'|Y|:'Dm|$"97V)G~G'SOO4"(E:*RI!5=:?~W7)]NR2
MF2EBU2JO6K|L3F8WJO0&,^QmW2Y/G2]75+J~JMQ\9B=7]ECA4GL`m(GX$BB)
MN5V+:RG3S|`7=&&*ILSO.QJZ@S"&6;OXA+_/WT?m?SQK_F_]C7ZY^)8*$=FI
M;X/VZ)S2,~CX2[mKCU833NXT%SZBUIKSM_M'NX[XY(]U],4,0!)$K/O,7WKK
M&F]"EZ'^T%PPQO%T"7G!6/@m+J6YG`(OA!'NLB"A\)M8IQ);CO6#:&42GN1+
MZ7F?L9%6`4&OHOX'J,0,"K"8Y*TYG!G2C'D0.##`@AT9TT98L_EQ)6'LYm9@
MD/[X_`=)D.m\BZ%5^ELLB5~A.]m4*^)12QN@S@`HU([Z|!^[|8YBXN=]O+@(
M`+*~KXJ&99H|A:H;K)E@'M7FI\$ZB4J#S`RSA8G\_7=m~(;`QV(D\9F`T"AR
M6Vm@:EQV!F*W9I,:SF7!829|8DJ]3BL:[[J8_BU.ST/,5CR97OGQ79J6."96
MT3Y;2H2I:".Y4'DVLZ")#_$M\9Z~"YO@O`=&/V@M'48CZWI7"NT34!N77H~I
M%KL':[8E&;+IZ*T!T~4|Tm@Z/09)B*[4'~6^9#(/~*W~:SM8[WFUP7H&NYM8
M4M+ESLU~SK6D!|mV[DMHFO:SYPUH]K]|UUL;M3]]K9]UN[_4MRJ~G$@'3K5N
M?`.Y7HC0@2Q&[,,#WD?4|A%\P2HGKW^H^`J\OJLF#!U@=\O:U0U%,[DR.\%6
M]_#\V^;%GVJUG9OS\_T;OG'W+RZ^K7^JU~B!^7V[VZK_*?`~?%L[CT\N^%O_
M:?U/]?KY_.?Q2_J"N&F6HCL!==0%"\$3`/SY?[&Z]SDVPSML!I$)8RO"OZ=Z
M.|LCFJ]M?JK6MY:U?@STYA6#_BYOm]J?^m]m$M|A#[YO5_#/IRK^K7Z=MZM4
M9*NL#3LZ6C~+&^$IN\*#P1R7:8G9K"TN**D^M(H^Z,PE\~KX2OU#7)U+/HCJ
M"2FI0YI34P~*/X^'^;]E;VY5SUZ2O/333R~OWG68FZF][^;;m7^/_E*OUSV]
MB~G/;]BL5^/+#]~=RJ__PL5_Q!8(O2W0Q:)WH:SM=MM;O\I10+]ISLONY=S'
MIL(G~[AW+[W;M`T]T'Y(%4^WQ.$|Q0[#ZIU6N=]LS_m9.[]""):MW4[AHBT[
MC/NN`]HP|*6@F;@EX33FF7C#E8Om'`/JR_'K5^].7_W\[mWIZU=G?_WI^]|O
M,6I;\S"Y84^E6=;W$O/JZS8M+DGmIW\^H6%MM,UFXmU0K[M*D$V0@2,^7+.@
M^N&ZI[0_&P]6T6;,K20'Q[3U7[]|OCP]~U~CC^OMJ+M5J=[QYEA4W#RP`42Q
MI=A~!/~'4@21[Y`NU9[\]9?7;Y^?/5BO"N%*^$B|=MDIPI]?mL*7]/^?\5=|
M]%OZ537J5I^?OC@UAZ3VI_V=FT\[?ZE[@NVWQ&T.ML];%W^B?[]%QE^0Q6ZW
M^~T%'M3_=#Y^.?_Y8KNN=:X[4_U[J|.3?\_EM/4\EH`_FMm.A~JN~`?KOX0'
MR#MW"^_IL;;2*:O=[[Z'FV^'H4$;X7,&KR"~O7mW?KZ.I%Q|+!90?B^V_IGK
MS]=QT$*C_"7(9\VR)S^^O'SY[m6+2ZJ_+NY]TRQQ|V1XZ62FQE('E\Z^1|AH
M'2.'2?U?32J$mQAD:*NV94G&0K;`5OV^^QPW_EmSY3\]NN_2;S;O.~Y^RAM#
M8SY/78BQ4OBB#%`B=PK!U3&+B\#UA6UZF4:|/N_L?3&1P%Ym&N%'K$("R3^O
MW?V/\P^51J7$052%@U!&HE*AAR7^X9[U6%ZT]6NVYL^B+J80^|mZU)8PZS5S
M.L_W+EHO.~?m1Tm:$$)M9JKLN6_/A8OE+4=3LGAA$|ALS(J`?00^V(?#YS~0
M(#9V,A'\#Y4!;(8`KCTPOWKNQ[[/N0(++@5O*)*0R2\E":|%.:%Y8M71^JWS
M=2FN,QL@JG**1OD9W(.UTG$RCOVLP18[m+?)LOPH3Z\2"W(2I;?7D~3[OM4$
M2DB=(%=/:8ZA2`JL|Q3/&R.,JH,UYE22=C*@LZ288E0RK2!W,|&!4K/S|W/"
M7&"#]4')9;995ZH8=.$X'D6N1C8IJ0LE8H\48R[)O|CmQ`M~mK@|)E*^%!SN
M%AE]B@|F8O:?\*;F3PWZX^~K,!&*7_B1NI*LV"`[9~\2YTHBH4Z[)KKM\/#=
M+$ISAD6R!$]5#2P,L1%VJ7+O/3N,|#P:20ZC3@4~;+NXG?DT&^/O/]M&)SCO
M'U_8mIP;@2%m%1`0VC!KBICKFHO`6NIUU83;\CONZ9?%*W6"9~^%DNLmW3&|
M_2T:QL#GF(U,&X^,'m/JEQP`A_`mI!5LGAA?EW]BX_BAG__*/~/7^]!V.?MM
MV^7~ZI=WBO`[ZAU2OLY6]\R:PJ7=LV;U'HBXNV_U[$ZP.C4/CL(WVPKJK6@W
M.4DQ,BFSFA6.OCmV'0\|,H1)AZV~KJS|I,]!YAGQ#H[0I:I,TFZ`+W!Z=X[#
MYGH\.LS|:'S#F)#L(\/,1ZFBF/V;N2MBT6I*O!L\Z_OQ*DFW0`'+V%AAE'N~
M=DK1]?XFIBL;+$T&7U=@X^:IO8J"433K\2UG\@:Q1LXFX5#O@S)@A&*B|(6!
MW#=\:7E6=HU&4M`6GH22|TE_#E5@;T;/|YmF"0A7;`)'_@X3/L8,._.=;#4P
M[A"|%U*RA/!E%m@@).F.7F$13G~?%74|D63R0ZU9HOL]UQ\73RD)|KARMS,8
M9XD8m^~Z5FT/J""NZ1O@$N@.~!_`"4W,6%'~3Y)^,NO/)W=P~=_M[K;?;VV]
M?]\~N2:\)0Q/7K^D'3X?#@mU~JNVVX%H!BX%,U(8/&8!M*&K,9M0MKOU2R1+
M0,W,X/m!@8;"'I)@#QQRM\NO[A9M+1F%FRBWEPZ:1=:TRQ'|'%3O\,%F^^#%
MXF#WZZD"$WXN?m=mGP1L[*G5N&:P)H:0:[[AK81?FQ:G2Y(@[3;V!FYZN#^,
MD2*5Z+%$+D"WY%3;C*,93/5MK;Q~6J]&%17G9?@9J9~SF@Y(EF2|$P&89H4P
M]C!#A]&FK`H&6CACK|9TRXB3T`\]~B~$C]D(0X3Q(8~`~O33|L!K[HI'V]V^
MZW918N&V"$PU=%R]R%#PX`B[X?GAF!H]3ARMTI\,S`;B[6/V4$A[B+;&0[MH
M=V47^4MU_)89SDC8;QH";RZWJZJRI1[82T]*~^D1&^Y1~%,^U\UP[&5/~:5R
M*UC.5@AF1RWQ)K*R0[!2JG^/S.3'2@.mS0;'2&:#`,^(NN@3WZE|LJG8N.'E
M!EW0;\[9|5,!12Z1;1\NEXU+,(|#+9U%_GXQ&S=?"%B00KLR0KQBUN)CA#J!
M["`I[/C6DSNU]CP~*#&7JKV:|(LA;AD9BCXR+3~.mX9&RR?XHO/^_8N%P]R=
M:N"~~!F);(9YTDEBIS.WIN)P]E["BK"MO4F^@Q[0BSJJ|MB1Q"E2+[2213?M
M1MTGW:Bm`"8m0@*@Y]=+]~I"~;5Q]*)?TV[W2?L!^):'T+7HVmE55L|[[]$C
M4;:4(O"R8WU'9F5JW8CXW2AmZ~\~|!`#IV#IOL=_[6[T#|V!TWILJ/U1(I~T
MHEQLD=,,C!9,S]I!W)'L]O.!V#$7~;,Z15#R1]UH^~FH](T?12;E_2?+975=
M;$GS^VB]MYC&BIKXT/"9EVQ!F=K2[MH,?Z8I??]"()G|1N?@28OQG*0NVKI+
MS!YZ\&N7=G9G]TEPSYZW\6T/A\J4?`W&63007&6/V0mm\I*UZ/DQ82.:)=A:
M_$M"DHPXYS!^4"3Q.S5&8[]GQK.!0_I4RV'B/AX[DV=@|FS,]S)50Z`LIX_$
MSJ!Q.F6*@)|Jm(!A)XW1(=CL+G]P=]S(KQKGHW1^`9FW||Z3|X&E#S|;|*O8
M#'_*%'F!X:\1*\41?*R1=1"Q*Y2W*2E_1O$mL6)H6#QQ3mmW8#GOH#K5Z~Z|
M#R^Z&XMU18N;8G&WL+M#)WA`QXJ6H.mZO_S"#2;8Q/Z!SF|,NLP.BW"6!Bm.
MW=0OV(QON##Q1D*@%A]FWF227%WF|5U/Z"*X0mV+M8FYK8?,/1E,ECUE9/D!
M)~GV$2?M\3'L1%&MRE3!_DXX`Y%Z~N"US8E2=M((M"2+3GFFJ+:NB`VO4@T9
MW]GCA$098$OX8'*~05DO.EMm:82|K5K7@"m'S67GL2Z!(JCX_,=Z]Q!m62Q.
MS"0G?^DADUT@0'EA#ZI]$C89HV5U#_+2WO':GNN_O'D_6".3?MN8TK%/^HV;
MR7B!2'C1[KM9M3O#C*ASM\X$$"P6|K~MOD+7CP,^69=%@_YEQ2;]B$S=C8_1
M):~0GV;C\7#0F$(@C@;T=C,P/T_F!7]J?H|;$OTZ3_#WB/^&)S5*\"]P6J%_
M\JS_@1@IK@H_TRZ~729IP_S|R(9#5$/%~_,A%;)0EC;8CB\"36?/0'_J1&QA
MH(VVMU@"Z50Y?"LWGZA_W1(;*6'!MQK7%^~T^*K$OB\.|85XV\W%U1G?)Z82
M:SKDMm|m$[KLE#V(|Z'][*MNA)Z44()LIAP!?'&:+8Z|4$8U8$`$SP^CI&*(
M3#'CA^2'7'Om~^'0I@._)9KYLT!B;!P\6HWVN4_M8)E77]]@P\Q+]@!^*KQL
M]WRW~\%FK8W=mC$[')IV=[&M(?35]C|B?1D_3@/*688M)8[=9"."|,MBI/7\
ME)I,MD6H#P(3Gm6MB1.NANN[,EUB;O~D7&_H/~XmB4DDNNE7\F"!I/!~)D5^
M12R1__%][S|DOZ=@+SPX9/:I%DR:*,V;:'[(U=L*O!;RX3":D'CC=Z'PNU`4
MKL"_@I\T%;@@4Y[Q3K||&TIW+7`KKD"RN~,@VP,&E_"JR),^;YV.%C38P\!_
M:!@B;@I\N(X:(,W~@UYCTW+3QE'!O*7?&QJ?XIJ8m1PI,4]A(`^Z=!:TQRG.
M_?AQG=:R#_=;?O~Z6AH%7T]K.H_?UPP`/,0FTE0N#T.M\C(47U_mS(9HC\~~
M|GF%!=`,;.^|_[2N/,@|0VH;I1*CECGP/]:,C:m;3A"5|X)"QNPEWFPRG\"W
M?@1(^"]C!,Q\TW::3]*\|SZ^&"8W=%88K^,&P#R"#=+9;?TNGNACUG&9Y_%D
ML:QD~~9XOm~BPO?ZL0B"5T!RL:`397PN/ZT|SJR$E7,XTAI^,7`Y[7[&N|W[
MV4SRT[IL4=`NPK,/9/\J3CWG5G9W%;@=(@ML/*W[MZ4J0\QRT9Y$I*3X\!=6
M:Z/N)C`8CmD0[_3|Y::P:&QLTC1?JMI4T_|DNL%"!LmQ?*/(SDNF|_&S1A8U
M|?Q9=X&9_&^/R\MB$U9!(=!&$!A^07Z44%.5Y.U+(F^7[1$15CC3A'3U=,_;
M!WZ.)AF;`%]KO(6N*0#Q^*J61(G.HFRL';B,`ZR.3H++/.39_7'F)%G~\MJ9
MW&"!#Q(A0m~T2V#UmY8$[XF$;6;LBH1#(4Q:($EBJm#LUC!'138UGA#L0JU5
MR=8L`5,(V%m`'S0YO10_+$%'J`N\D]@/W.PP(1.0\,`Y,/%G8M](N5R#8UF7
MTQT1BVS%E$"_FK6(3_X~RI#F@%V(:+V'S4&2EW#JZ/~(|S&!,@#Q67'&C8Y"
MF"VT/Q@XK,,)T\Q]VGNB)/O[G$@RT4,B6;U/FYL0SYO48)m:_"3075IB,SQ)
M!\O]~4P~I,W^E22=2"5/AHR[RKD?+SDFE$LmX[]_/.",$U0Qm:'?#mQ4\B[D
M&&~4BL(:9Z.0C8Y4$K5G#7K,T1V:#.+9D4WX(Y4B0_S[\BBK;9~Y!VMHF\=#
M26%m)/`.O$(KO:X3|Q8R@J8I4D7'[ZJ["QB;(Y/"1XY;32N37G`6BMLAE9O2
MSI14&HC(N7643`%\D$1(DL)QX`V|[:XE2HRO%L4V41R]\OPP^H^$69C=%(A+
MU^JD29~&MNmFWG1(PP423LA[\^3`!%EA,I$N8XAT3AB6QO8L+|2:I=!D4D\/
M#VE.ZT]IEU3;[AUR,UV9Z1P:LJ7/##*$]&$1V'1)7T0QOS:;`7|S]:0F!+2.
M[B@5K2D9E6~248;[L+?0](=(Y%&I[M;LT^J~IM~P\~4|K,|03.SYR$HM=5~`
M|IXH`+3#R|=R*A^UQHK#9|"&,+'T6`EIQ2R*$RY$1,;LBVUBP!D\8#E]&P_F
M?44J%~+L:K:07ZIP!8:7ZFF)$N0,`/'JX!7]3:6D_K:Q++XZ6,AS_EJ*~YI?
M/&AMXV^:DF[*B|mROS0CA+AT6)J(9T4'NN1?(/;T$YJBJ4.~5mC_P)!&D|7|
M506B/[Y5D$I!?V%7+U/~XH%m8I(VF/E9\E)HE,`X3?ULZ&|P,P|5JAFP/1O(
MVQ*~0_;!Z&R9QW(*,VW'A80992_Gm))PO56Z+K^!NM.V(UXO!/43QPW3`R'S
MKHA/]0,1\L?C[)JCU|2NP:'O"@^,7$L2X"X11J*7Z,%J6&2CFm&m2M'_DW@V
M,D`7N|$7,CXCDE@W3ONW^D&m3JZR=7E@8O^m]E95`08+E2DU]TA=3T2+`/Y&
M$_\Z9RR&57$![V,)HQ.EGE5*B#\NCNP$+GNMX$Q4YX`VO"?)*S36\WQ]_AK.
M3Q9X?!$QZX8M6NZ98Y"$Z=]GRmXOR[+PXU*=V%1OGO_09NVA29QI.2%V~mD(
MOV~_"([Z,^8`SX4m^_I`NQY~MWG\^P91;T79_^/+RW|_GOQTLB\9#[QNSN9J
M$]MLT5;|#S?I;@W3ZSW9F=4:Xm!#+'T#;^K!5ZVV~WL85I\2\?4*50_KR&Q|
M,PV:WZR.IUZ1#CR|GED;Zm[765mBW^#!A'Y*9\^6]X"!Tm3Q6',?\TF="GS*
M:%|/Z:~]2N`Q3_3@227@!:8?OZL$:Q(#5*J_JP0|]L_K)KN!mU~%%[`B3E:,
M:^!,=IRXFWY%S@;^9'mS'WD;6(G&'U;X$I12OA;m]$8^V^`VZ$/m3*"U0K.&
M/AEY+"^B?"G[AT+MD=P6%+mH&E:`M#|;ANUB,FT;)=UVJUJMA#MNW,]/WW9*
M)~A_U6JP%m^U#&~F48L/Z0\#('*mT\ZOXN"~AEOO5ZGI%LT(+T_%PNSLA\TA
M4F5P*"5]MHM`!/m+=9S:+X)27"%UQ5X2O&'4M;R(DC&^_+9:JXW3;Q'W;RL0
M?"|:0=.DC]~;QPPOY*3K|&MN:JKV"HZ6V\62\,UGSTO1Y32|~!S=ADT1N)K2
M'MV?MD&9#HD;=ZVZ/PZNYF'.8PNE*M4IU8VJ*^%1I8H34'D|m#)K~|W6;$:8
ML'NUOAARIV7V"R+#M='.UF|Q4;?,MM9*?"I0KN@1C@X(EO+@?+Y8N6Q#(@Y]
MQ*K?"G'U;BV_A4CP*(%G(''5$7I%2W`=S0;6#1&Z+KK"+RX:P?DY7\KRF[X"
M_R*F:`#2`SK6~|NK84S|?";S_E6@?O_BG|,^[m*,7/;LIZFIXU@9,!"?))J7
M73R@#DP'0QX:\&(E(H$HA5SWS&&=G]_$6L#:9;"I?DX326&J&0OX1'@)"Q!K
MT~m$9)JQ.1Y8AE.HN,5\!~MQ?C[KY^7/K~0&ZBL../!_F('H|7`5#*AIA!7L
M5INT]S[~!F^/S]K'?SYKG_WYE;6=VHE/AC18.[7)\":68?F3&WA=m:'CB~|6
MJMP`WPX,?O3\!YM8CD$&TJ;.C"R!mFXmM2C/RL[2BAH_V1D?~6:~41"Z8.[M
M%|Fm$G#)\FL^R42W@K"I|,2FIYF)'"2Q"(&_(D9)%BLW!2.Z)ZZ2_DUYI@M/
M`7CmZ+E&UQ)*NKF|:4'H#5:M=:KT8FPVXC|$LHF'.#.9Z@PK6V/=D|:_L!G:
M8FB6S'9)7K=[PAUAG`[%V6KH`EK|+3~5J4DJ:PG~"D_+3*^D;]63PSE[!?I(
M`"Y\]Q#;%="V|NA*.&)3m6MODU081HBK0@6Em]#JX^?~;:#LHOm&ICD@YGZX
M4B&_(m;Z@\5:XQD%JQ6\Y,=&U1ZR]$_B.F,F8+U[!H?%,,XS4||RIPY3&6|K
MIIWX(~RmYW&3QXV9UXP^@_#GMR_#L6W%OC~R'VT/.R7L25ID?6\$ZEF0:\"~
M:mXE/DPQY$#["@,]&V1L11AQ!N/|G0#!:S#[6:':[TW|J/:G,C=0PKP_?[=[
M|:=T=U$"PU|J(+8F_*3~3B]Q?L*?Z!S/TH/0^02M'.2\#(I&G_N?6B\$/K=,
M4/FXFA0G82TIMG*85%B%.Y8$N%%*U|0W0!D:S)%8`_2.YH&88mP6,ZV\+K%0
M7`,=7];LBN6$[3%@,:B~PB|_3JPN9030:P=JS*Z1TOMC$B3/B^L,B"Fm&`:8
M_.KBKM5:V$'!*4FAQ#^(;[#LK\V0IQ)V"R:ATVQ\.QH#TSA21R;54#~L/L~&
M]HF3#E4A+m+:WEMOWYJ0:"0LT.mE*JJ7!NAU``(\&^.\W2$7XL6=N8S+6X3O
M8#7O~8_IOEK~2G2]\$:B?W4;V:[+FJB(J42T]#5RDB3QK%3E.6AJ/+BXH[GZ
M&!?EYHC:7$V+R|UJS_@J+A|V='^I~_03*#SHDQ5G:\#2H~F#?!|58\;&EJP+
M+Y+T*2?Y8:~SNY8,5\HQ7;|F4.\@_5N:\$9FKHC%TFS"@ER:2_I1`@@''YmI
M+C_F'T?RP\WNKOS`I.KB[F:U@CN]4^B0!%VF2(S';.X%3HX!D"1VCmG;V?G/
M?2)FLWD*PBTI*FO(=XA+HF\#^X&2K_=`:|~~1_.;B[OR]VAX,_S1W`YT[K\.
M2BA8(.N@ZHJ"M=.@_UI/RK/`)9F^=XK9/&[@1[&^FZ\;\]FX_(3VG_81@WP&
MY[m8O"^)_(_Cm@WK*ILY=)R:9m%Am;/Y$N"+="]@05|6WD|;SF:CIWC+m2_N
M%ILFNHGQP|6:+GE"2B6[]B?91_;7NR[W@!./WE'C_+!SUWTJ#32P/Z7_~"@_
M(3'$4D=XZG]:N=/\*XT**(!4;SYJ^mG/Z8ID9H=)NPET]DU4m7@R;7%2T8!3
M;DSAL0*|H7%,]\*@3D]96:I?L"Z1M@[/PU,.UZ`VND_mA6P?E9:~?F^,LR']
MO[BX,T59?[RICEP|"\*V_B3/Y[BQO20E!^IP`EMU*AB:^P')]\#YK7Q/Q%B4
M[4,:83:K[=0KG$535,BX++B%&H=U@%])0:,WRSMADP83?|R'G5W[1@Z]:KBY
M:Y]SK&3A@JX~_I|1J+J\^B)4!GQ;KU3D`V2J&P)?UC8HW,01!#YSJ#:'2#/]
MRFJ:IA$mP]";=m7A!@`F21Q/?6M&D#&:O.8"@P//|K\LI\~L,00~JV[m?9`N
MF$~E58`CY"["SFD=HYD+,m2D|89?YBZQL*$)DPmm/%5R(/WUUQ11.~84;FV9
M#&%&"K"`^W!(T_`m1DN8:$!V?COI96m5BQ./A+W"~WFYA(F(ZW'=U\0|#N!/
M`HWFK~05mGF8&680?)mmF~`"Y#`I]W?:'3,OR[6+.J$O:Z9;=?J,:DFQHQ/;
MMGG+3BG+S.~FY&!2m;**X$:W[4'N6'6B8)WRU2TDS&[:N^X[NOJI1HmQ9FmU
MN'3XP[/_"V091HB2J0S|H$TQ*'4Z2Q6L&+1!/S+@M04')#KWJ')A]Rm=2]TI
MW:CCXG9WAW]mXY'02~D*C%0FB2+QL(5FX/!VO\T)Q$:N3I|W':=)@RmV^1W]
MQ77#@2$RAD.|*[&:+)^LT#M9=,&P1DE[V]G=V=GANGB%5`B]FNL1YmQRU%N3
M~JW&/_09@%CL.S@H\KOOLX4GHmm()623PD$'2!281/~P!G1EZ1R*O94M~D,'
Mm?=RD[`L/LG![I'$G&:\[V^$.^#5UN#CN^6F&Z[ZAO|9[QN%=ZB43@(KM2MF
M#U?6,6m/TVM&?XFGZ|?!G2FZQ(\]E4R)*M|S5NXIC=F`\*ET/8A5OHMX;X@X
MBI4V|LK|.3C=|YXD[YY8L$4VN%1&8#QP7W|OI~^7=TO/B3SW9S$[;LUN[Q;X
M;[$2D[VL`("CVOW7S=J./MH_C894@KLTG/E]2=S*S/6#I98]UHHB$A3C'^`#
ML6"X|1.J8'VEESKKO/QT:IQ#D$R$FALCKES"M/E'=W$Y2)2R;?K\/(T^)B/:
M03.ZD)4]L7J1F*3^`9KQU`JL'Q.C(*L42W!;X#&"'ENN\EOD;%^!'O=TFmH,
M8@),3#%]31LCPJ$P8OD!LS@RUF1UKDISH~'J@9D(;\3$~OBCL0T:|R_F60X.
MNLF1/&HXm|/A'/0(mTM(?B"Z*V;UL|1P*+S?.M6';"5?~K$=690W4DEPm,NR
MD$mDO]G8O9m?!O([|H%P?CF[W~[Um;_'TM():C1AE^EUUJG\RF[EODUE!4FO
M9!J!'T3MO'DI:+H[S?]L76QWN_5PF_'S\,=V_*[;W5ULXE':'C&PGJODO8F$
Mm!J/17NK4M5~?=.NU$T"`/\LD4@["Y_[/F0+(8!$9,=(FJBZX3%`QJ"VT7B"
MB;(`6$O1D5E_2|\[+2A[IS%KB:NmOIO1&AFSNF~27C;RDXR5Cm)R/19^2!(6
MP^64/YW%FL,53|UHASEE="M0G%YXT\RFA|=TE+NHUZ~I2@+S$%%+O&H:C+.^
MZ|$[ABFRU7'.5F+~X/VM\;0AKX;$VZ8#ZXQM5(4&%L+DTD5AAFZUO@9IO.S@
M|6=]UX.N[S/8A?OT'5^73|C]BVYWF_;P("MR_LEY\ZV4#!8K#B"~SZ9RP@K%
MH9D~AW3K3~D.mDDR3(PPGm22E*@9EBQO!)QJS+L'$1)FUJ~$,.5YN8B=1RG+
M`\/WT_ORm]V[E:&!~G0787|3_V&=5\;JNZZZX\QZ416$1`CQV%[CCLG`6ZG9
MA'F@43*G7B9K9!MA[Q7Q|8Y,'*\P1NP..N=@&J$1D"Q2#Z**Z:()O&'7(\Z~
MJ8C"GK]R[OS.|X9JYH*!~@GE3/M)A%!DX'E*?|N((1N(*18^*P[`9"7OEZ5O
M,:#N7~JG[I:0'/&7U*AJS/B"?8YHMA&|W9YN=;?6D4+m(4._L||@8JUHFQT8
M%+92!ML*VC$M5~_ZM+M+#76K|#5K;|,m+~K28G|%7='O|66K_=X_,55\U|`S
M|S+XR;HD5FL^_/INY|NO*UMK,V!Q2+,`H8X.!'"A?3`]6."_m7/#~6^Jm)IJ
MN[WEX4=RFBK~=$=E?PCJ`$R\,HN20M&;+;BQEJ:J6]U:]WUX9)mmF:1`!@_#
M#.*]K`+|]F3.N3K&K3C(W]/|T_^YP/N#*QTH_2*?[T?A#;O[(?O7Z*#=Y3F\
ML?.1'O06!S?TS]7!NNGJ15LK]^?A/|m8~K@G]F\~S7#E$[Q]7#U/K!U]W9NU
M2X+5LLX+][(m]_0,E~IU[2=NYWO%O^=,HG;.R:ILJC&Q@(?]!?LB&"M5XWM%
M2H+TV!0/C(9B$/SZDK:&53=$2R:1&'&()320=$!HC@V"8'P30?'08/E4K*TJ
M(&LH[JQ\Q0;L3A$Y=L'ZY&=V9*'@O&=PK&.&\CK!93N9%NKTZL|0`#D02"W3
MAT;H7#F](L%UPDK*T`8V&0OED&CDE~TW9(%0LVIBAm)91@N$~!M8/3@W)8XV
MmM)W9?GD?6)RHFN($#*JL&N#!")D`H4E9~$*AKME$(MHUZ,Y|5D^/L13+_+(
MXUQX0;24I`ZB:4_CZP:mm_G[7+P.Y4LHK3P4JR+S=I6"@P1~S0PD8CLPGPY6
M8D45O3XLHOR#R%_A|(XD)0%$GIPS?HILPFP!J\X:HI2R,V%7"U~7M"D.%RM=
M|;$J4XELP4J*KE+48C|2LTJ#S@W|(;SJA"615"B~AR^/6F1RF1A[WHP5651M
M$+7|[+m#+#9KKO9X||66S`ZI'TLOD1O9,,B+^93&BN`A:=3"O9A3QQHO41*P
MXH$!_DM07|@5$m_R!PRXQ5IY%G;m$`S@5I,!MQRD2Y9:.W@@WL9&*2B^R#Y,
M%_QH%&T&JVEDW];GR)NFAE+UD+/^ZAEE+GS)&|4XDmDD1#9SV7UYHKZL]D[0
MKKW_Q,DAZ]VN)+mN2_P4HA!V$%_"^5DJ03F+2ZXY8_B3;E~";CG1B0EHX.^R
MW*0CR9~3G4CHB4N'DJ\FJA%\\S5%O(PF@895@%T.1UF1%`:1%AN$6/#XHm2=
M,?_&!|_'%_1Lm_!2HM30852`*`_mCY*J&*]T*W&D4R(=)N+~'J4^U9~8|;9^
MTP21R.7?#LJ=X@1(/(2WT5G@,A085m^GIT&YVK`7Y18HU]3(E,S0'~N6+S5"
M=|)1:Z+mRS|#&YMZ]TRM5](]:]OSH_M5`A`G:HT9A&~46B|\%2W#m6E?K6%4
M=J(XmA0F[X89@L2/&:&R%"G/UDB.6O$N+%O4I?'`#1:((A2^X+3_B]9B,U!4
MV1Q*?4G@"/H,m_V&AF|B7YZG+Y:8DB(+SL^_]#RQJ[K3F9H]0P+=?)Q$K,Y6
M`Q)'$~E66D5.Y+O!^:ES`"7OK"M.S2M)U:S0$YKX/'=I,R'S[NQ?$$!J?N=m
MYT5`.KUT0^*G"G_OL%Em(T:82~B/YWS]J\Y*+D#|YHI;[K$0W$K@6:QX\CB/
MC@%L\3D.5Y`KA7,@\SGP)\D#8QLPKC$A6#EQ'F+/?3%2$F]R':]&RRI/8/`@
MQ:,*BI~X\."6S54]I*T+:RC=E.+^2`W!.XT:932=0/$P~G&)Q;'A,T9~Y41&
M'\;S`4X0,)8S3^0mO#6+W%&mV&[64`[&3,@DFGTPUVF9JWJ5B6K~2.\,N(\C
M*IXH#I*%(;(YFU|^1Z[0)%5O,([J&~&ZO%:HY/MT?I_Q=NX$m1JD2EY/#P];
MVQSDYCF&^[(57)#A]7T0PFL'4HUF.OWO.P1#%9%$MM\M!*]A0~+2U@$mWBKO
M3#(FDNTm4U2.R;89AQI^^A0A6A[?]*#B99F50WBTZ'Y(I#%\0~TCK3;#Fm8Y
MP%IL`?.$&&=C'6/]F@G+%_KS6W0ZK.:UVAS589EE6M9@^?%5UCO!(|66&#%4
MW/""B5Q?$ZL_467~M217!YO)C'_/GC?UEQ"]7508F80GCN%8V4:46UTW)HLG
MTW)SI@;AT3Vm*"]%"E]+C9m*0)5*B"I@^|3[1L,,I2J~?N.J*B(%^R$m`K_/
M'JO.Q\AM;/$&L+A&AG2;D%76!H\;@~225YR%F$&:0N*GIQ*EI@ZImG~F7`/,
MV"3%7/CIP=R(0@$?*.m@#..YQ.T4F5N^HOQ*G5",/HX#^[&'"I@77"Z&ADVX
MS)8A`Q[/mF#P'_"*&(Y9''@A+9DNN2Y$ZFF+^1:GSGS)J]mN7HNL9V:`B,MI
MH9Z"'!S*mT8I(81WG#7~5^D]^D?3)|XTT(;/3#[2$~]3UDZK5ZL#(%'9'#I'
M!E*864+/~~/@`N&.OG56m%`ImCBPA%[$N,|L+`4JI5M?BX@M6/QmR.=PX`WH
MLS("4T"G2W0ZJ_#\?7BQS=H]!C)X^@TKA0X/Y:~%E]*8~4T@)'LDSC%G5M&2
M.EO).L5EB'3SX85@0~Z%K+]|T=!9S67713R+_K(YD^S60ZO'#.E6S?N=:LTE
MTJA4AQ6CZ,O;YTA=T]K^T_OJ1;O;I5%MU5|#7NQ,?7Z|"!B"V[M=C@[@NJE/
MGSY9X2!X6+^*'CL5JWR^7L7*"E;:3Q$#U&XUWV)L2Q.VYVX_&G7m4VF6KH$2
M7LQR&.N63?I$,_84RX^_L!7HJJ5?Z"_\\OXI_0R02*^m4JRK=T](H;I;B!6M
MX]8:;:S5Q:[3Q*(9Z/T^%Z_T3RSBm]_\G["(794_E\.N7(05_M@`*[,!0QM|
M95YH[(5)`:*"OP98K9@!ME:!7K=L6S[8:M7+];)4PQ)*J7P_3/Z5VV`X*?Q=
M\$6*7]U"CJQ];L*4~'K&7XY3&Q#[N'D!^W'IC'6QR10*:&=:?&m~TT+CS4*Q
M,4*N#E.EE2GHJRGV3=|[2.TM'~IGV~1U`Y;),N,]#I^].5TRR%IKFJ_U5A.I
M33Mm[189HT8%3H"D2^DXE)BN\!1)0Q603O7/B#]:TYX+(PIZ\6UF[&K];.J2
M;8J3GIm~:M:/PR@WP3+SE\D,F"^!%|,CTW^Z6m|T+L9UHRX`QQF)^\JS051'
M8+TJ*YE_+!C?1D~^;!6P2&H"6JTW=A2XJ?($+~(BEN0!Z+'M3*KI^F%KM++J
MNB0+U[,'K:[,FL/?4|46(Q^[|3$G~W[~YR|MX&I*5\6J+W[:4M0PNH.2$I33
MP;JO&TY(9EW'|?C&?@]=AE%($?|8L2G?HGSVYL8`+E9;&T,D;'9@;!&6:3[V
M&&,&_^*H+:0&P=3:W6M)`Q0ZM.D80|(mJJ&Nm^NOC6m7DGLO`[mC`,?/;D"F
M54$QK4XX;C#70,85GCLPQIG||LL|\,#BH:@5#`B]/!^K*Z_`mM'9J6GN"V=V
M@3*/662;VPF='L1#$Q]GW~K|\`(6O7C,EFOG&$%K/%*4#&*B';"2JO'm%XT@
M:='"N/@;`*7YG5V6@GB@',mG=B/8V,`#]?`^5EC"*6?m$"1;:XS*AD,G/7%~
M*|9`,YA4DA.`C?ISNM3'3KV:JGJ#~\HNmO3%`Z`N/P@N9_30L1&0".X|MD,R
MED,T22`]I)*0_@.&!CU72K(?2m8LK(ER$|F~F|D=P'T_;Q^TVX!L4GVG#m\|
M#,9IP)#G4Y=Q@*?,SR7/])=[%\#J~_Z^=J$Y1(DEIY\.7AQX*156:IJ.B=S*
M8\7,MF_%GSQ`G~$%ZMTFKK[~Nm@^I[^0&_#`3@16:"\=?.NYH8??JmW!RY3`
MQNL:U=*H4RWT5[=.?23QX&!Z|(/:&*U)%C'm1,.:1Q^m~|JL8+`?!~WW(4DT
M/~Y"Q)FCUW3$[P?/3K=&GZUMGN|(KOGENG;]J9!]R8C0HP,S+~4)Z44':RTL
M*X@C%ATC&:;QW\m:M78,.m^S~J/N`6:8;1|`"F[X@$?=9VG:@Q9R#WNA+mY!
MDFM!LGm5J3N*\*^~T&:$M0G`m@S|P(G|1AKSJH?K^'/'ZW$]M;PVL=K^[5m9
MPV8#'Z)I9]mF6ZR|O[\\WX_&Z7RR?W%!U+S;K55\R`GG|.CmRV/IQm9O%&%*
MZ[9&/MD$Q)|M`FG$22&_;|I_@S!R_#\HB!S_#PHA#T@A91:GL^P"~JJQ~\^M
M\O.m5~8M/(?RB&[SXBH;^(E\H8&|]1):N9F!(S/N'`:4W7@H$^|4J*%0$$F8
MC9"3P.8Y\0.V"%'J95%2m5Em:V"5J0"09$P9Y|A,SZPJU[)DY^==?4F\#VNT
MV~$?X|!A/!S&\*FK)84`2\"&@6`+|=.O*\?m5=!.06Z3)18;RD+QMD]8&6:S
MJXA3B&?VLm!8HA0U9CO%@Im.~0V5@+Y?$4''6D`Q"/]1,!57,IFW'G"7"W^'
M$M/B8LDWL;AL&V5?*[T6,[Z~"0M3X98S]RSY#Y0R`%94TI*1^TSVCZ^F$U@Q
M#_2:\_@.Q~`NQGEB33C^XC`|&CL\H`IWPO_V`!W%5H^Q^O"#=`IJE=;V7:41
M5BKU`_E]H;\9!1[/'!P#S!.JG4mA:DmQH*G`M_KK3K@#_8R^T:=']m1'.QP"
ME*A#=X[+~((FS]^W+[:KW&Z#R]1=`=,^?\J_E'$10V]:&!37O&:FO/1LL4+2
M#(#E]R|O3E^%=ZZJ2ImZO_BmKO"?V4M&Wm_4TR^0?NI2`)|@W'DFmL6'2&%6
M&R%4P~9AN*X'4N%1B``;*O%0+\*C8),)H5)!MAYR\,FRm_P[ZP3@X%Y%KM+8
MF~M90CPSIS%QN?\B=OGVD$#00*`~.~F@3?~G,WTH1=31M,KT65P/|/E1U=]=
M%~J@K[34FD:XF/7)4HPV^|)W~~C.9^.[JZ*8[K?;U]?7K7X~M[*K)&OFm."X
M%0_F[?\~S0'#U9:/VP@?MD&*3//4&D#=97`+O3V%Z"639"Q&_VN!VW&`/(%^
MD#M[#"L~_#2%|%DH|@6&OY4\1"m)~OB:B'@@V!H1S3G$B)DQ!m4`LT2m[%T5
M$^)1ZBQ$B6S[`%m[)E:VU567P")LY6Jm!"*V6#%H76.SA18:U=JKU[^|?'_Y
MZO35\|MZ?3V&',@P3:#@WN$S`m\)XmT/IR_.+D_~Gm5#UVU!O3.__1.X=\\T
MO_K|Y/;5;:M00(JJ890#)O^G^.'Y&5L*1D7I&E@:8QONQ5?L@I`1IR.QIN`"
M"L"W%2;@ECT((1OR3|5XFYR'##|H[AU3I\N(|:*F3P7^=*8LQ;*Q&!U7V37=
M_C/0"0UTW;)@4`BI4K`829YF(IV!_0$FUG)=mCF2|\F0=HPO"~mNY5|QNTJ\
MEK!I5Q(L0_HQF66IAH=178m,`@|FL|71AA/G/#4(GW*~?(1PT739[&CW(|%,
M;K$C6OTA(SUV373|W0WO16J@B1^^:_3SO)FDC2J[WPHHJ0)EY,W&"SBP)YmO
M@7F@JX49FX\X*R5#6?%VE7D(NC\^R^'YYY8KC?.BL[,NL!()3(JG`MI`%TJ7
M1,/YI/SAT4YW]..SP4|$X)7?8m&:N]T?|0KO#I'O,3U:(`R+*E)EI,!?`$|9
M=U49/Nm8M[K!R."[=EU;K]#0+K_5MMBW,AET*K:,5[IRQm~K5_]97m"'W,;F
M?8V8`~U*B~,\OT,KW8UU34B/][M:ZP*#VV3V3%|E6`[H"K3.EMO(X5VUYH0G
MN|7.SB1,5?74|'6*Z9"X,W5T5+?\A?]';`mmJ)WVP]V=:7%@'C$:CCY#FmQ)
M.C#;\`$FX8N[U0DX3&8)NH_3mKN,R~=[3RZD_\Y^WCP+^Z$B4.Y_BR3~_.,B
M;)Z&AZO&JY)|W*8CV+H:BW'LCH&)%RW6BJQ,$#0QKK\"m[6_T:T/^4^[NSN,
M\m_Z3S=(EmL@H6[=.^#Im&'[I(;MS_LF:ON@O?Km]$`EQX,#CJ|IY\&M~T;0
Mm*,mA`./~]BKJ+(RDBH5U'0E!^&:;E2"KT)LT*WP*)S|]D8F3[C89Y|SH'LY
MSmT*+.|;=Y6L"Y'$'[~J3:9I39`Y27'm+XB%R1?W+S+)TQNZ/!NZ.@FM,&m/
MTI/?X[]VXDWE=EWF;75Z]/OU4X./.0GX`REE[HMK%00G&\+*OVZ&/UAY+LE]
M`LVB]$I`ZX*!9[Q;R5CO[@R]&R0?Y2;L5!S](#KG2K2IR!&R@1%)7ZK,4UC\
MA@K+P?[TH[CmP,LHS83$%m&(H_M_0HX48'~8)"FLU~~1[Z^D0)'\&PQH(^IK
MU40OY11AP2'MY5,;8|]H%)mL@/==_Q|/K$*?W*V4M]D@P\[N$XT_=AB:RI)R
MKEOP;F`\K@J#.0ED.*@PD&Nm)?N,N.::QP\;AIY]/[.RI2F:WZB,'.4EUKK~
M8&R=m#|.JDQQ75*:H&#+BWImJQ^6|+^2C5J3)#;"^5R2H8L23OA^|3_CSZ,`
ML4)8%~5F2JRFEW5]#@1!8GXB!OY1R/5Y:JXR1O@|!(J#*7D@J3%SVWHm))#N
MUAEB/7?=^[TW'T:`MLRV\N_NR6/QFJF\H#7#IQL8R+O,XB\J%LD9+TAR~!2~
M\]UW&]L,G7P?J#m08@&]Y2$ZH!|`).O\JE~:~`mTC;++|(`M))N&MU.WONA"
MJ[C;BJ|Y.SA1AW_%2!);A_62LGY2\BD[85(%X68("X1HU"NHH/(KX)U/;A*V
MT!&[3#PDQ(QFC.?/E~'UMK[3@.4%[;]$DDP#4,MM\X#*";@S,\#5:J"0T%5Z
M40:)QA/@0CO|9Q0!U;Q!PZ)^YZ$"\QA~(AAPN`T`7%@`PC&m&MY9!7W7KMY4
MN((#9M4#/.M4?IU~#WZM!/V!U"W`P[|,BHWC=GGVYN7I.U_S[/CP#M/BO/'$
MP`?[KU)BVH'!*V#0)Z]_XmO5L/Q+_#^C0L/H,T^mG\63&]CR1]%L`+_"0&Em
M6mW56L*C;_:"8/*1!CNE698A+ED;/H7[;K*V65I5NX@R9#?*AA';(+C,D+$O
M~4_?RKW)mZ=YELHSOA!#R8,D)HB2GX@~|54@B%T?90%M+"~'ED&K#`^Y$T=N
MA23"DF&ZH8]*V(_|@^S(A0JJ]P)m73T\LI^7L*4_^RE,IP('$F;$"B?&~1@E
MM9`D6L_#WW^'G7UXU'0;W*_+.(|&PF,|?MUL5H*HHmVU~O3L]8ZS6Q,59GVQ
MN6U,6;JIK4\B;4ZN58`'?O_==\0[|9'mUO:B542SUN@?$L=m/],%.0R;93^O
M*NW`3^'H'\E4F2AS&]!JN)HJ6A65L~#D~_AE1@M\UmP*MS[]]V1+!]AL'E7,
MS2CS@'MJ/EU!`/!R94';;G%4S=4(_3.;U^m!($FALC`'^`[''W!@!",46$L`
M0@_SA])N/7(K=@*&`P:B1'&PE`m)OYIZm65,D34/SMF[YZ~Om!?.^@:ANG;6
ML@.3X.;S;7"V)7LX.F$5F7[.=R^0H:=R6SE8XY95:I*3X_SI_2%3B#])%\7P
MS9N2T]O8)^H6;~,&~"]\*UP9L;XMR[E7W/E`C@?CQVZP9(39,"$?Q%1H,U#8
MZU",NEQ;U@+V=Rm22O`mW6\"797m.m;$/`!@QP|H&FGI]I~KH)^P5;M;V*?=
M7_$#_X8SR[]\|O4T,WYD;G':]?AUN4;:Y/I(5.SE(6`_9E/mU\5GH);'L08+
M0+4%M)XQLU=72+:7&6~H~BOT:C:Y|1`11EN[H;G3K+I.[&6&EUMR3E=`:$:Y
MAKF*=X)5R$I|L%](|J.S2A~[W]306,*mLV%7\FF42S2`.,/1A^)\)EDH$G5E
M\KO"H3TV8H6UW&S:8UT!!V~PQPC,=7`!FDGPm="$Q"F?CD*?T^&R+=IDF!/7
MC4`&XO//W+18Z]*&Y/PQ,6Y+448V?(5Z(@:T%86^\S12]":CT|,2LT7M.)O~
MFD.'$7':BP%M|KE01(,/OYOT=G56C!PPVm||.AQJCH1;J*M1.90]2|(O;0]#
M;^Bm4AO.N@7=DU,]U;J#;^NU+ASL%_6VEQ2L5A7E5=8(Y2|2@~I$4FK577JR
M5Z?Z61"Wm9V;#Q!,6IUEF3R^LU\OP%&80OHYSOC:&CJVI#.5K:^TX]6I6A!C
MQ=($82O'SQR=0'S4:((.OHS"8I8M~=VYH,'0TZ=V()S$;M/V]@LKSZ|I^$~K
MBNPZ7~1C*#B,7MCXJ.JFUD9UO,CMD4D(B4?$*LF_WNS?7%2@B3+IMB3#F]]'
MUG4C~/\!'',113F|B4/]`@m:N|:C#FI%`:#14V6ID`18FOR|mDNDX&^+RL!S
MOB320ZQO6%PG0'+3R":VWB|?(6DR7^QB5).;`%G!|S_27T@7R^?VD%G?#]$5
MH(]^5BDQU05,A@0I5[\$&m1C[MG#"1%YUD;0&@,NP;]QO8OV4!m^W$YCW0QM
M.N'="MT"WJW\(&EQE;7;?'T|MB5?B'XLR0SMR@LRT$!6M+A:@]~:Im`]73.Z
MH|Zm%VOYV~%O&+V5N'+H92.0B6*VY3TLGJM(?BC@[VK?!.:%8K%SOM$\DQ!8
MY$K\[/FP38NXI4`*DV30+*+1`0W];QFLB89YY'L")Q%AF$I2VW(VJS;%*J~N
M"S@G8*L3*H=G^;:'~_,3$W(_%R`JYYN?[R~~E.NV7E9LM.+MB#.$DMJG?+,F
MO5+EV_G[RL5VY:A.(L+AQ79=C2C=W4UD^mZDCB\~04LV#(:G%XK&O0ORS5)K
M|7\V:~[\Y\Y.Y:C|(#6W.7I42Z~*TV'T0G[TF^94(?X2B[WO?$#'P/)#\HX@
M;W^S|?/#]SN[!^UAPEY2\OL~_3X&6;/?7)$|S'H_+K*S\VSGHmW]!D\.2N7F
MFN.$G=2E@3_N[?[AH`UN3UN@![\_:/_:?MP0#6:O];2%8I(JAO=G^V#9!\O9
M^,_/QWM7%Q|+!\+@$&?`B1D8:.O4H!\HZV(HKQ.@`AM!P:9)BS[CZ~H8ST13
M_,8IYW$0%&B85EUDI76Z]HWNSN*N.0R(BB2IY'1/%;U%C~(@P8&)OFV4TI(P
M@REAS.RC9%P+,"]B8A9%NW)@X+8"UPMTX|J8_1GN3V~!?0N8ED.\I=%QR*~)
M$1~(P:#T#K340B(HN/1$:!1K*I%NR*9|+3P4T,!2P]^DB31J2!F*T4?*;X_5
M1;*FQK~|K36|J5'H,!N;`XV=7SG:L@:,P\/GZE~2]"$#mT657EJOZ4QSFV8I
Mm?W9EO=6['5L"9*9;_+,mX|PXE5WP^:)YFSS##DVXVLY.Y9W#1T=B|;)M?GD
M46U6278:_::6UIO|H!V4C'/XS1&O2'W)!5,+CV!V#.=3+;~,.2X0KDSYY3`m
M!1?B'E/;,&1G`mC&5H944BS!!G5T6!1'_%mY"[0/;@ZJ^69U\Q!].]H\V/UZ
MNB5[XLOV5CL;'VU9:]ACIM0$LFV^/VR/DR/J`OWm/VXBXG~|G+\_NM@^:OmC
M=*Y]0m|2OY?.RL_K?0Y7Gm@_1C,^=^R&\^;5B_V.[^?3"#~A*&VHGTZ]OM:Y
MAZBN=W3W:2[DZ/K9]4R*.|__)[TV[C_4+MQ_/m^??];QAT@#E&LJ'UO/36C(
MAWZKAO5;|J*RmJ+(NG%I!CSCS06"IS~=!@IY+EU6;~90'_PU%EP1?P.8JQ[B
M+%N#m,7U4B(#MNLYFY9"6QF~[6,TFH/O]QS/0m3?//_A?E*L,_W_1$Y.*.:m
MND!Q(22IJB;K;(;)*.4,7$,)!W*VH:*47?/_P%R:08TZQ?~NA1ZE0T(LA.PB
MH_'FJ8|P$ZS5*AX\K$'$I2W:YQ5=8O`;=(.!*@m%$QB*#G!9`;BJ1=\*2+(*
MPD.,["@H"7|J&&:S;L5XKmm3FX:3C[A)QDG3TRA151+T(m[=)P3B'1L,?J.7
MS%H'&7C.+'O)~%~&7B(;9E$E:V?8&\DTLXI0:A_m5&3SD&!$CX;P.~/I\C@'
MFI'7+m^6K"0DH9T8$:ZSm\[Z'T1?ID6M&X_SK3:/PA;6LNV]|!X|K~V#ASUN
MIO:G#:%%`B#DV,`4T2IC?Y1H09K\)HS@3R0N#FAJM=Z%'2H(@$A][+9@QO6^
MVX)OTGNI,N3$Z30J~MIB*mDM92%$5[(O_,(&`P8B/J`F\C*#1M*9,~F@!9J3
MG4%CSUNH(HV,D_".UI%6_'9?YOI@4?%*M;?#.&'Q1))_|YLN58EV`6?/\\O@
M9DWOL'OVP^WV4JW2_%W)$VTOGAPL;m$'F*_#0V3OP;5Y?KY|@CU8H6/EN=40
MGS*WML)6/|[UJ,DHP(8%N\^mR?.&,NV,F_&XR%OL_'08EI^NY]^\K?@O.8[W
M',AP~\V13$;!5_~4[M;%G:J[NU$J?mC+!K=R2#L5@5HA+E.7..SNKO.D"A?M
M:?!5$1T`m1@\GN@6mD|'[Z3]UO91MPYSZ)$`M4AUK~X~5TF?|\NLL="6@3E,
M`P6#BPC3J77V8@[5'9R~!~)^]+FQ^U;JB(C'(PG7U!09#V;J(+;O\BZ78ON,
M3$CK/TX&@'7#6~/B&Z$~0:E!|%A+CDTV6DJKEFIE4C'V?25..+Q+M2F*'EV@
M@T2|='HQI]RQU6N=H*&T:Um[*&E&BFRR'^Y(K6P=Y~@B?LW6|Q:*`Y^@W#W.
MM]0\*[(I&@BGT!~D(WH[O~'6\K_/X_@?L:KRBFP4LQ]PF78U(mK|+56UOO|3
ME]^&|]~PL#^.1YQ[B=./$D$3W/0!)ZJ+2VU%X1V.4Q/|@HC#F/(T1N7~]`W3
M1Y1D=:WYQ2AMD~3;3X7]BD.[DD(4W1Y0G[m^K=|(*|O!GTF.&I3UF$:;:1E9
M?BP78]m^*1VG5B3W"HmH|`HQF3U&QLK9@+F25:$G8~X"/@!J&:5]ImC;W3%I
ML9'C!^E,!!["`M~C5$[%3)Z|GN;!\K:P[_L"&4m!J@.+_5;8mm*)!|EC,MF#
M,2"WJ%9(R?OT1C+8,@_+^+V!\4_0^9,('AH%SY/)WLNP?AC%(+F1SR&\^68%
MKB:(4A,:($BB$)JP;C9!FS\]5)%0%6C.AAR;A;APH&\#28"CEU?G6L"6_?DI
M#%"H#:IBVP=)|!D]FT\#@Y)m[83/,YLD.AXG!N/!8F9XH"&FWTCHP6.39;N2
M#'L&=,QL*m5OC+)&"'\.E\_7HE\"*(_1Y9R(AQ)Q.EBV(M/VUE#&"~.?N9P)
M131J!*+7[`N*JJ;S4"@_$W,!U:T]'L@~!`LL\=0m?A5XmC`UBC#U]T#M@'mI
M`24L$`P5L!:E!I\OXV3I:V19T!8,VXBAH7W_H%90%E!KC)DU3CN_|N0W_/O~
M`\Q??+R,0_&6'V#~IT5I#O:)(]GU8\)_A7B@OU3'J?TBD##SP\/*R~L?*KZ7
M,JLX@DV~;Q^U3P0UU=|~MKW?[B\MNT`+\R]'*P[1[mO&*KCYC(\)JIJZ7%"A
M\S~JUFKC]mO=~MTmH\Z1W??')|+TM58*JT#WXI0VK;9J|GS7J(HOLX5R^$N|
MGGF]91).6*T7S@B3mPm"~G14V;+EY4VSG"%HR;@@B@\?3|D5I:5[I`^;NK_9
MF^1~,)%[N]T)VN^?IB)A71T`S8*F%mRX/O[QH!|M]'~9(?9$4XELOZ~]3@^L
M9*/%Z(P#$D.~]O@GKN~&Q!M8J0^"m35J?5K;NKI0$WT+)M+;=IN'_B_~:]W"
M^M[\QFWC6FA_/36*,VM?=AF|)3328BWS9~Q"MPV(PAXC$`F!`AJN20ID\PX`
M&,A$9G?E+`FPDJUKH0\*N$PC^Sm^L2@]BP4G*Q!O'H[7P[4F26.+FX+Q?mFH
M*'H[!V\4&#\["6,S6mAJD._/X:0K%CIK3P+ZMW*]#FR'%7DKC\62[.4PDV`]
MPZF48MPQP6^/S^A~N;VFLQ|XJ'#mF&0!)WK+L%$3Y[=3|MmL:.*`6\GX@!"K
M.?(K,AR2_422E%EB+MY/\![X;4G:[W1QL48W;*S3!W~SZ!HD!D$++!%#"R18
MJTEA`QTE|Q+R;6.6,9.:]m*LY|;NQIZF`Z:%.M_8O;C;V%NH';I,PY%O4&,8
M=2_R%M]B!1WGCGS'V.CKVZ?7)GH(F^~N$3[K4'=H8W6H9_S3L?[4%DR;3B?B
MX,%&^&V')|m&6.NT6G6]'281L1ZA&4~X%QY&X16mH5/9VmBH[E:.mO8.V]%1
MJ?1\m@YWO8)|K+KKE2O=.8!QWPZ?W~F[./TH"B,@%TOR#?E)WZO2M914,;R[
MNRN_+N7=##OEEX"R|@V:AZ6%#Y?~0E%=?I#1A?JLLU1,MM[RQXBXR:*!V9#Y
MFO|".F'A7|_OSI='Y*7;7AVNR:Q~~F1RH7L/~Q_8NWT82=A2Z4V?!.`"F;G+
M+QI+Y21)ZNHR@N#TB!?\=m_+*.\G24'Gm@[_^\$R_61&YSI\OZY0GDSN_]K!
M^G;7%5E]+6.B'1|J8&)I'PO0]"[K|?67#1@]FT=+.\?X?M.RT9LN**+@``M|
M`D+_,_$.|48:$H85?DRQV4U6Q7+=5%?Y@08T,2580W]L!GN6L9()mI.DEQ~Z
M2MSCJ8@E4Y(#I&8B!G+BEL)0PLmD,MK(9_U.)825K7)TV)NUC\)S;MPYAMRZ
M;+0D.Y#4^D'APY(B&MmJ_B,~++=D/@@/H0#9@%:ILT?5'YT?MGM'A_'DB/A/
M^IN~7/`3UOL~||/~9`#0OU\\M|?F[B'XJK6,ZF.1H&RZ+BPN,G.9;&BG/YQU
M'*2P!F*,800:;VQWJZR)E5\WN]5M_E6T!OY.HTI18'm_~Q'NA/PI#$||m.&7
M+FWGOV4]QAOQW?TmUR/.KA;66QE8%FUBX7X2P_GHQ;X?6C\Y!=1FH@\%.@31
MY93SJZYDJYQOAUTD"BA|=_~~?&~P1$0M(AJmP8"VBGK6.*[!Y~/!6)Q#]FKB
M~_J+=1Z|4D?34;H*C%S**B_F#DPR2,Y(+B(LAFH9"9K|L4W&$$9(Z\+9CBP;
M*.FWTY(_B~U78/K54(W[XV:IC/ME9`T1?]0@J\G$:%011]S|EV6G+!|\6(F#
M&`3UB7CB6`:3O:.4JL8S4@_:AU~[1^U&%=S\AOO,W)9\JI'E`WH(Y?=`mH_"
M;\)#_"/AC`*Q*D!]4(R;C!8|%$/K.D_S:.@2:'"N,[4]^QD_($)P[9H%D*4;
M$B]4NCCDmSV1.7K\S@@@@=APO!$XUW"WS]Z]/B8QS^P/WA+?VLT@K?.29T.S
MX$?2D:A[~+5W],YLTVm]~]BFIX':C=*R)DCJYS[VP^E!~@#40;A.M+_N]~6;
M_$/B82J*LHS[2#,]X2\'8~F[@7SG850Z%\T"MGX^%XDBW$/_PY11E~F`"'%C
MI7HD~`#DmN.\YTT+U@&F/ZP\T](5ST]mPA%D.744AFM&=;/D(^#LV0K%1,P_
M;N*_?S6m)/,5m(CSL8Z)Z^5C;E(R"/8N=80C6]JF,VV~!|Z|9!UHm5|/+ZB]
MFJWR|2F7;.Z42~6U~F3^D7M/^F~..3;EO^*DE^K!8:~M![L225m7K$+M9Um&
M[=EUISW2[1[LLMZ`G6AQ[OGA$5MZ\_:AVL_5S0=64LCET='F)O^HI3~_Z:9T
MB;/9O9NR~~EH,Q!;ZHTLR1DG+KP_R[D$R5@#B'328L"Z7!T316O%XLGN&;$D
MSZ^,MXG+*FX\HRW]]KRCOV`^7[!3L)C_@;`4^TH$m2~Q,88XLYEBO#%YY++T
MR:X0PO;A8)@*`5&?KY*_%[VLL`N5]?4*A.!M0'5`??43DCM[J&2)JERmPXH9
M;]E~G;~U`2IB?N05W@A_mF8BS4"DHS3&HK!V2!+CU5%X_6329@M[^_2$*$,A
MF2OJ@9C?,?N2&4SS:=!RP9^/%?FLOB`1+IO/:#|/8%YI^I\PD6X?)D??C(L#
M_mO]9NmF[\G~?QZP@7#SFU%Q|mA.CC;U^3/Y;:3?84;E2_R$,D]V=OYXT#:?
MPC1YV.9W]4U]_9\'7|:"`2D][/)4$RVm~$^_UZG?E(UK@1:%+G)&:~SE"8V(
M:%.4Q@BJ\KWQOW1S$1]m$TNWI^6APXH!)D2;%~`%Y&&mm2*;D&~]S0~SPKS(
M&+`YR#~[M4.^G]ECF@VRSR7=&L:^RQQXR!SX+G/~W3V:Q@VEU*#WYN(`C'1L
M('S%O@/C\I07E$U."F6`/%C`A1I(X^U2ZYO"V`M##S?TDM_AH^;&7MZ#)`((
MN^;0834A8GMMJKC$I;[DE&#L@.6S/&4.5/V:`ZPWW:3(;D(MF*T&$K??VJ8]
M\mL[O)VO|D)`T&mM&_3?XKH7:0:?,:9Y7D#O62*ZW6UTIDI=@~%^1K]7^=_V
M%W?MKTPPQ=)%9W(X'XN0H?:NE0.~%`&=KV:SV?YF,B!1FH[C%[?)$MB\R#EI
MF,EY|\4:3&%(BLR#U1~,[5`SFJ4Q+M=H=HLYZ1UUS[O;7980X77`N6?H]_9O
M[!3D:|7I3`=C$V)@,Y[E:HV;+~7|PXS\^FN[:^(.T)&M+H|C=$UPPBC@,K^Z
MEVT.5S!9@]EVA:BW4@B/Q!),C"75B=DF\DFWD=F_4|&6++&;&WN8EV;/H*L2
M\R"F3PQ6D+Em&';#P'G",,L.^K^=W5$|TI_0?[,&+J4NBRm4Y"$N1R%(/UL#
M1^QX,B"O$\^;FS,=I$R.@='DNXIC#WXX\\)YG8)"/7!(RJ]XE))U%2VCJ_AD
M=!4M3U?!`5P;@m[#1._"K=&&V]K:X?J2|D!#RI|RE~[LR(?#U$3MVM*LH8MG
M`9!&73$;W6MSW4K^74%WM^/GKXI.I8(`J`UTYQ70*W:!%FQ;`m8NITL302$~
M!'8$8*V8:4F&_A|2%27]EPH13XIO9&ZC/NV^.2ND||~7YE6V\3@5JVE%PLME
M8,FP1G74PV'1&;K0|HFI2L)#ZKL%D/WV6S$A`~N5VP~T:[@9[B%|E2LQ;H;#
MU)3E!F%8/|SGTR.CJNY6mHC9PLQ7NI4C^0&$]K"m4A4+,VOZ='@U:X.WM0ZE
MWM~T&TP%O"^BH[!R$'(m"]==OY=49P=_51/m.#A&P"G]10]4E*%OOL;4T@S+
M7m|U?G"|ZJ318ZUSI\ZKT*$):~(G6?;!?#(M[PO/~!\P$B]Z#&:]8H*3:11'
MJ,[$/6+4AU=/CGXP51"7_P2CQ4$1('PT)|79m",I$GQR[G80=LUA1Y:m!T?_
M`A+X:Z\G[`9_K/**:E^\C(DB)!CMD9|~S_~Y8;\:2$"P]RmB?BP@3L(@L.0Q
MBZZ%CN6|A512@;Z6YN2*O&(KG4GV%'"[+J,U252)~"YXYFR.WXH$R!FILSD/
MW!@:PUL|MX`9J||YP!N$;7_H+B)?F)~VH/$\/G.5I'SJN`Q6:Sm7;0$1O9MN
MA5MM3QV^5:DB~U5EB[%2H~?AEUM|YQ;][CQ\|_ZNM8V'[0,&|?OR=%;.WJ]Y
MJL00+WCK7QL$=J_7"^JRHJZOPUQ?.Z,~D/U]\W@/?+Z=I(I,DH^A_]!D_%.H
M^G9.CA^8CT|AT+mV(KDO\9.Z(X"F4R$Z32]~_1Q*|N3Q[1|FI+"1.#;Y!+0!
MmAN/RVZ3"XY,PD&/27$KD2EBB8;7D$L5R~~VD'1"O3A@:PC)+B9B$A8/~`[!
M9[`AA=\E@]O[X)8+~M|2AR!:BE'|2NmBL0@T9I'U$AR^HQ!N#P04?K&:!DVK
M_H*AN5ABH!.;@M'C:&=H6[:7%9"_02PI);&~W:JG((I#N4B,/TC6S.2\1`R_
MS_ZR|H5NDJ"M9MXBZ[=mHm?F`X88CZ+Q6)M_#YL(;PIW~/=%N?AFmR=VR^T=
M\7J,LQ%'ZW($S#Rm;Z;,HN@T!4/QNDH^#INA*6]`NI;@LTA.9X^QPZ^?OSY&
M2,91Xm7'W%SY@5B?Q#=m/$Q=ZQm7'6YY)?V'T5$`!0?MP:4/V`X^Y@"N2CZ?
MD!!T6X$[T"PAF2|V;Z)QX3\5%,5P]X]TF6N\TS[:4,?+L/+JEX#*3MAm0J(/
MX:'E19J9.*/;Y6@S.[=4^(6%2K")VQA1m_~`!8m36!5_BD9)_\m#|.5L?)QP
ML1:=(3H^S*^_(#&GTmA:]3`1/1_CM1AU7OCFU0NE@@ID(WCS&G[D51)8OTTO
MY2\L!\YCYB%@\57BQ!&%B/^+IWGPE~E7|P"[*E&@W~^^NZ'_ATUC^]C:0AQ@
MD_mV2;8I=?2O/EV.'?])LG*|L=E2(.M_]L$7&\2'2*B&R~@F1KL~BPVLHR[4
M_5="^QAX,V8@=HUJ%B3)L&8ALAWN4%WS~'P0QQ).%@4m_!Q~JR98'5XFSESX
M]SFMGO%^Y4PAU`&$"|RG"|m"TL:VL)(]Q2(JQ$$%`3~!!$[KG:;LHF:\98P(
M:T460(=8P"99:J#+D.D]]:A5"NJ4!H6&O9$T?";D'LU[9DP3"*#)\=3#D^WG
M&\CQSC*A(K6R93A@=,#CUZ_^Om_!K^O"204G1!(JV~+U!A6OWQmZ*DB":[Z1
MMM=\9N#HY|MJC4E|^+/~`K8&+\9~,[X|\#1`F6%!:.N:V|GE=S+;\~~|DW('
MF^'W|m7CV!CVK&K.\88V9PXOYF4(3V)CQV/mS6CQ.*XSN";$HPSVV'V8;:#9
MR~CF`0Y+%FCZ,5.'9IJ3VUMQHFB!;G,B4\(N+]|@10+UV#()!*%1UM1F`QO3
MNE2?,1@8+8E`]`;&B4\=B_mBmE|[M(EV'|L)Y#8LB(,"LYH49Jm84FNK%,"N
M]3VO~"(~RW;NO#Y*[Y93m09=|.)?*YBG+`?\$20][":\/OI?!Z4\C:]A$9_/
M|N/$O304KVTL)[35?L)OF2I&GHT5686XLK_%_:+\m|\R^!&7|5[\JOF%\1HP
M&[D1WF9SYM&PQL9/DJENJ5$60DQ60V7:`OBGQ~J):#ZE/;|(:ZS0BH?1?%S4
M&_9=+TD7C|#\A@E`:?~~QN#]!BV]]RMS|M[G",+29ZX,m"_^[X!V]7['()K|
M"YY(__%B;;:&I9I"&3'/UU4\GM)A97VPI&,D!FTD"JS(T#!VmY)``5:.PNT7
M~^TZ3F:6(QK,8T'!`+RQN(!S|LN|TSGZT4DMWVUD&%]K$`=T2'Y"%5X/8S73
M?*U\M%CVmL0@,(F=~)S8S9^Z9A~QH~E3*~73J0R;3X[_I9QW.21;N~~_JX$!
M'%('%;*X&\BQ6?6W_[H5JN9`=*,X:JDm%_#)FH1GS]110O4"DK,^@C4C3`9Q
M=,]Q)1+*.YH_90%V_^MN=]N^]5+)%7^4H2%D^LA"KI1+XZGWI#Q]YT1LD0JK
M$0mU.[^ZN..]m8X7_B?.N_5|$D!,HRG=Y#mm*KS;^EV2mGKFMR2]N!O%&5TB
MLUN_FC7SZ;4!9ZCJU_++Z:!ZWZNWFFI7"[A"2SD3EE^S(?GNZ^YXD!5Y=^&]
MB~9TV|W6O@)BUYUID9WQS"\K]6.6N8TE~OJ|~=TX[|.U"*RP"01B!S~C[4%X
M/S,5DUA,&+5Y/E|C1|072%!DTWK#HY?O$m[#UD))."8[UWJ6&Y8;GN7~_%LO
M[J^9:"3%'|[L`CV38RJY5"=Y/!:W[m=`7Y,C%@S\L7CV=~E]0W`@.|$GX"N$
MI/0\2$mmF.:G('m.ALR|J@.Y|G7Q300M=,.;%SJP=!?,S*W2"'`SE(*|I)mR
MM4K\6WS?.?/G@X_1TMH="YWSDKA%GI\X)](QMm`KX]@2ZH,ZL9BYPXRNUBI[
MPGVGT6KS7"=55YPH/Z)2&04@+\5W"6%A*7W@@Dm=6\[ES*3_"|SB),3)"024
M#22T/O3^_2#|OZ2_M8K~0&B|29!M[X`#G7O1/!Em!P#G!$O)A/;',VHF8*:=
MC7'6~)1mRY5*C`?K;S(CVm%.U0ZBR5;P(U'*C[%~B7+[N,W%PV5Q+LW"7W^U
MUA.NGJ0N6"8;@:_%8/.AZC&\D"ZS2ENZ@HE&ZOV|"X!GH'?/_;mJ\_(9PR3.
ML?B'$4E.C`,*''%YAWBHBG(.Q(9(`X@*+_DQU'W"!YL/`QME)]S/..K%8[]+
M['*53#0PPQ^\K4,84NX_UDY=OZS:!JLK0\UF:F&4#]W:L=@AAY?!9~V2U.+6
MJ"4\K28'3F[JDIUZ3@+P&#\:9,F@UBmI^T.H08XB+)N|3;(P1AJOMP+E=Z'.
MCH=mXL%*#&\0_"(1U;Y!DV@,m@^U:CM8.H~.A,!1+OD'B`A^"E\:?V&W&_)]
MX?@U4X_~G%NYN2J6U0~6%./)0@HMOG9\3~BI"MER=@7mCC;+|9\D%+!FX.]S
M9JZM9M[$U2B7:^|(m1Y#D\%#^+'L.KLO62555T/5^U~6[[R*"//Q;~"+)^6P
MR%12SO8YQX1|13JE.~T7_J+I0|8%PAWZWXM9&K84_IJ~+/GY(H48%.I+SA|)
M,:R^_ZAPCNSG^0EDV20D$&@N]~QUKE6R!O#]_!I*JG6Em3Y5#^92:D!~K2C7
MU)SYZOUC]1~TDRRGMC2&IN/S])+A\R9,`USU7:9[DUI|U#8E]D^)+DM?ZN'2
M*m\':O(1LY);2N)SX!O*Z4"^7N&S3"R3~Z.SZY7$5;I:CJ31(|~,\*m`N"X2
M`73T$WAJPI_3O.AV`_/A,'E,1V3='NI'Z9;WG;CSS.:OQ?(9*PUKH\KAUK(B
M[,~!G3OT|_:`I?@8C:GL_H/B..M)9mAEB?R+)T;I73JXMSI_Q"45C=~)X%^W
M!8m_T|8+EE8YX$T6E)8T,!N*&CU)!^N&Y|;KYDCR]RQ7OUJ[J]3[UI(J"9JQ
M?K_BG|4\$OMHm6'~EmZ)1Q#FC^C&]Q)UJ=78W#]A?T877Mm%QR~I\%#LD*/~
MWB6.R"(Z,m*@B_SW?N~`!F41]~K4,*%$~62ZU5O!Z9"U+("H1\KG'%H[`3KZ
M]5=QU;2V`EPI|@4(+V^#H~X6?H@X0Zm#C|QTTVS;K2W?U3%.`..1^KZYSDG*
MJLYR_U*C[N;E@=B;[$Q2,7L6V`;+([~^:=LUM%]"3m"["98940'2]#"+$HFR
M:RL|S9$TVO`JJU4S?\I="$I=ZmW:=!~:VC!|E^EYOWR|OY887^Y;DZ4T~:V'
M.]3WYDY?Z'44.+[!\/@6!T%Y12^CmO^.RE6269*\`BWNE/(?(R)"/8m6;\\M
M+R@/\F$=Y)+BW8R%=11EX~OS'XBWF^8I$($C9JA@)3m.O,9*LK~_#]D`;58B
M2LJ`)/OV\9_/VL1%&1WXZ7m82(WKDR|*J8~HM%%B~&AC!@S"N$SWWY5T0]B_
M#H'|QB&[.T0:RR55`6.;F,!QBX=GP,Jm4,%6H%F6)GTFG*N*]GVZ+DHK(5EP
M#6L|%C?%R@*L/U(EIX9]H^m5OP+6\AV'mG?W\IEB%|&*NXV|O^4SHF=\W_(R
MNNmmY?ZA|%WX6JXBM#.+G;W&P`?KEG|]+J~A*/E$~#$H\(%6=W)B~;W5`_L]
MAL,$;PWHL8EY=OmC3`N^`E`/(Q/!0!EB@\6BOO8.*~7\_/#P&*8IK?#H".X*
MF*\#;MCS+[$[2|D^9Z(C'IG!CX|XTVS:MmBRF`H:O:6~;\TBE5@=$$D+`|WW
M59mO!8DV)+$S&|.4R~,,6$CDB\X/+RQ)4B(_HJ4EEFJ9W`9";LL"(AQ/Y_VK
MM=P84R2?[7?Z5'O_KQ)5C^%W5_UJL4#Y_I+.m^*)])5QUJT'+!%KE5&,MD0&
M*R3?Z=FP=!##.RO_W4?JE8\+UW8AX"[8XPKWEECO7~?&OR](1K%9"$NWK:~6
M`!6MNX#PG~E/~KWXVL;,6*;'++4B!JF^*)#Q^VH%`9G`|DK@F5'1,Q~mT"OQ
M|5/;LN2!1.X3WGM.KV4&6T[~[:&@&!'62:SN+E@BH8",!:/A0]8:)'!3TC^m
MmD";CJ&3[.DZ]U\XDX3*&E9IP'%*5I59UD#(73LH|WA~QP~|U_RM2XK`R4/@
M7CA,8&+G\NH3:?$V6I^1/~6=V08+9]#E].BGJm/D\=2(!N*(\3E@S%::5PF(
M/|mL]H;@45S\9O|CHT7~[:+%S~X5Km=+3Q_!KM,7#N=%9]\;W?VF3GL]&]]/
M$~A96::&)WQL#0R?&N*5@)UF[5A^9LHOFO52U0_WVGBVE4F@];9F!D0V$V]M
MV=(V1!%"`,R$\8`3_V74RA`Z"CK5/Q(W\0]$0H[=8X';]5ASA%=X|3Q]!M0/
M6(DY$(\YU66:.Y+.##!(V"S0O~IE`$I3\2(WE%.Y!#WAPJC:R]N|/|_C@K[[
M|SR3~##750VS%`,F+GJ@JH\1+~9AY$EV7'=XS6$W3NJXmOP~?RSW6/1#^DVI
MOX+DS!`CGM(],''~DNO4TQ[)_0&CO\8~0"9@1(P2`0G#5^!I.0:)]UH\2`JK
M*'|\)5A]m6;0O[S$3$D9%'6U7EHRAK)4P&FU)"G0A(;%R%A5!|MZ7V!|PNNQ
M93PL3\/K&=R3;,[:8PX!B*\M$X?\~;IOHH]1,K:~/|~`6V.U@&*Q:88(,[3C
MIAJV^L[&`D?.'J8;D)4mY*;05C3FM`3$MI:5TTA?"8@2`&PZ"8Z):@"[)9Z*
MNX+'QADO:_J$O4|Y8Y#5601+X:0||,6GP!8R3N06;_R8!LWOA*6C2BR[9PK\
MR+7BM4R1N#$7ENO"Z|+\L\P`.M`/#&^|LX!/"\+?8%&D@.\"G`B`59F9A7MR
M|&RS7%ICH]%SZG"$N)M!^?,\%[@07*U&46\,?NWV?TLONI?\P4+|9^9BKAmF
MBIm&%7D\'B+3G07URTVXMS+/D:+P118W@'L)'B*26$HS(]XBZK$M51$QNYY\
M9(~BJ(@8?INV6G^L~2Z8I\\#m$&_X3LXV9=WE]708P:?O3E=HLW.=?!,C0S0
ME|'VM21.3V(!~605~|R.9+3AHE1WF6~:8/3,E=0&%Q?WVBG.SX\OW[P^~_?F
M[~OCD[,SZ3/1GV0:&Q!GXK'UF"m8L"3P."')"3IVISMIKQ`D?\L$|C@^@QT&
M!A(LK#F|1C"B#+XRL+CWJE?BSRT!"m@?TFK"\KJ:m68Q4|:4YG`\C\,:39;\
M9$0\SBYD)K@1Y,8GW`(9&`#)/GCJXAJWISL_*OI9R*9D%GBP9K1E[=+5?2;m
MS6@LJ'`m,2R8&#,^Y2@3YK~37K9DZEY6'*Q=XPZ)\DO+^6WG$SOJ[R9=A.++
MZ~RmY[/~UL4%%W]Z|5'B(V17O&.2|_*7=V^?71[_\/+9"VP,,S!O6,9L;'`_
MQ.m+`=_R`^7~S|ECJ&0LL`&KIMZ:RKD"^'[SQ[1#G7)S$/?FHQ%CLXVC4=Y:
MT\~7S_^=G72U?U$ORPR^C~|NGU;KA:2N~J$5_`=,\P3PV.~U#@)GX~\9M:/(
M+|1HBVV1m[R%$50|:\V#BPPB5KL4(.66^D:(XR$?4.V8^%VNO*TEK;@%+D""
MKM2'05mV6W\Y]3]:2$^EFZ9C"E,(2KO@EO0Y$;|@65m''?0+N@;&C;K[/LH3
M=2,mV9EU?W$O~5OCU`LD(K`L6.KF/5I,E0+MM^OJL\25:T/HX8.5A0]6IGZ_
MIC;UT;W_PU/Q0/2ML.YK=4]4+8@B)OI?W^.O;[ZW((LV"F6IZ&I=I2PS]]?C
M%?/K~,m$^8?RUT*I;5I)7N\#PT&A0.3PU@*=*N6@.9I*=&:JBCD=6E8R&AOS
M,^]9IX?@(*#8W&KJ?.00KM2D+JZGB?7'm:G.C"P.1XWU2RMJ3JLUPW/m:&M=
MJ&Zm9W!0|B55YTT=1WI;FILES"@Q'HE8Q+XD@~EA)*"&&O`QL#U1F(G;!T;$
M73H_?_;NW;/C'R^9ZGK4MJ',R;(~NL3O*"|66!)M73+Y@F1TAW4L`W,+mE0$
M..PQ`TQ[;0EPLKF'5S~6.$ZNW5Z29M#NL5AWZ/55;'/EJ7K:K=%]FS!|W81!
M:1,:WHCE83.S++VI_."M,[.U$^)#H/Tm:&5FV*,2&":.[I'L('6?,|"G5`E3
M=]D&+);BY&'*$H[$9[)[C|`UVXSU4T!=~AUIW(Q.#7L7R3X+?';4VT[^M*]+
M;/?@O(NO=DYGSW[Q!;m|/NHOH7]90U4:8.Z\D^_EH_5\OH7T^H.Y/U??EPZ)
MMY6E*/__mOK|mGJ':`&9^$?.=NCmMCBI9|;=0.1H^,N#$J|#_04^]|@[(/$`
M*D+8|O)8@8*YZECM^"9ZU,0]8OY9?D,`D\:WV:LE4)E$^;BX_R%?':=.56F\
MFMF#[31F8+9I~`3RN,O#*XW(XA'::%~]+69S3:0,`^)H#MRJPOGN"A740$,J
MFHK^_99C*4I]?^9N50Q#^\W%W'IS'@T_L:@$A07~M6LZ6`)0m'=H&*E?U^JQ
MY'O.;0Z[(^Q5V!S"ZYAFP^TRJNH@^(W492G0@N;$J)O&MYY;FW]!&SVC0JD(
M;[~DP9=VDSR`\=D?Y@]F0,|($)&!VD%RT`A[1'H.M^6($HUT^|W4])EA\WU6
M8.T"K&2MM&.#|.U|EKW!K:.F9C?966W*9N0#$.G1EK.E^\~+XS[V"|"R$.:)
M$,?m,Zm&Y.5X2(`X]J\0~2`J..WS\8H3).^[`&G@5|7I:TU$M25GSU.R^:P|
MIGTP$$(3FmV3Q]:]3("RC)^OMYHEOGSUKCKVFM$H4)_#HKETLV?;M?NIU??\
M\JT;COV8mDR/)80);%YTm%BO83_.%B6'$Z]2I;G^/|E^R1+\P'LG|&E1[NV/
MR9Y"/;%YEMTVS]37(S!W:mR_2F5!&N(2T7|8&REB7YCQTQS!0[=2I?O|)HM9
MU2+QI2I7O44FD56D)H[+"\7T?V6UUM%^[[(S@L)C[K2S.%Z_)SB6;mU5*QYZ
M2#L[SM=TUEQ6C^[TYV^JAES?3#AC30BPIL~!#//^2_/^G@O!^M)Y+HL"U"Vm
MR_"B7AXUPP^QD??U^:4~J?mS])'*_|1GRW3\F3USXJMEBZEV2mR.U%"=]1`:
MDYMS)=)B[KF$VZ\AF&76"MIC8Z;@ZT138(C/$&*`X(;4)K[VC5NJG);P76NM
M.3_'94[K9_4BS(_;$QHOA8V*!TUV'0^6K&m\18EW@W=+?@Y"A~=+[KZRVC@P
M6W*2#21~R@JA3mIJY^?5R?#B@K7+M],2R|`TDW3],1O#'9_^M4+K,~?$%FX`
M25&%+K$%3"m0K9|#D^2&^@I[D1M^+[Y8'=Q1_:XF|_WIKY?';]YTJK7CXWI(
M?[m"$S_Y.MYZV#QQ:N%NEW]ZQm1*6]TKMLAOW^U,B\7Y.4!B)Lm.Y5|#7+/6
MPM7MIIOY5MBM=&F.NY7PTWU5Z1_&\T%I&5#8Q#|V#]#NKQ6__V7%]GV|P/|9
MS=J,\UD\R`2L30?,+$O8|U78*!2SJR1FR:2GY[4^,$%B"HZ^$58O+L[/3P=5
MI#QS3?Y970[/"MP@~N:?T?SEA~2L$*.EV7*~AZ)X)S)6N/"[UGMP?0\JI@/=
MM%+N@[H#FK:556?92[UC_T6=8mP7.FIK9\+NGm+$LS4/1]3,.1'C|9:;D+QC
M8V@\8'G'%S=MNmN:)GSSZ[['`m`ZZ8DM&|PYSE_CmJmAK`U8@RC8,_8#E)&O
M:]"9|_~!~C$|2D7E#:2.JL+`m32XQDSZM|Q*@R~"7~9D"`UCW36K(AM'`LC+
M/*EC1)UAE(B.|S#D_FAUUAIF::|mW7:&;|TD9`R_+C[+"T&ED]IN:ZUB^U44
MM?N,OP~A@~.6_&R%!!N6+mAYZ((8M3/*EPFSMF9CO8EG8QHK/#7\=2@R`]ZE
MmY"N!9(6^&R@5|GHO'MJ6+LT40A"S.+[%=UVS5Y$(I4XAS24|^/4F7",*'CW
MWT~P?C1NLEC^9SG\.`$Y_1#Q^B_&]'@.._8[XRVZ+]KYIE$"#^Q.M_9NYMM@
MJHG@GG3`%["]?|m:~1/"';]N+CJN6G3;`|T6LNLTD0*HI/3`m|PT4T/B|D,~
MVm8.WF$Y`Z_WGJ6QX''UN#383Y:K8(DSX`19")]5`(0K1G^'=X%DN/31@VPC
MmFI.V$~:*C_G~OFM/^Z?)'(FFM\X|XDQ^UE;);PYm)N(@3_%7E~W+~O2:Pm6
MK:N90.VHVJ^L/5&5&=&K"/(*A^^8K&#(UDG;!I`^J4C2/F/F!76+~X03I63S
M#HAYB8@^T!*72@^R.~UXDV:#5?Q6_4_$?IO80446[6&VUZOZG5:%^6S/]0OK
M%/@5SF(:OV01A3V.4:J$'m"P^WX^C4PB(*"$,K*E]8[B[9RmN`M.':4.`)$H
MQ*RKB::T9+&DE_3&2|;']%;"BMGWSHMT?\=Z+X[8%8Y:56R@:8U`+\1UN\04
M[/7&&AHU4`|A0]3*]F8OZ,F'V_G_FA^G&|Z[U\]?+X+`.I\@5CF;C:(4J8%"
MO!7RA@MK|LMJN&A"!%==A$[9~B9)+!"5,(MS|~C`WILD~6SR*5E)"'mP(.N8
MX/B?6FS|,6K`C1NCI6F6B_]:9N0MK)$Z##*BN]LG4%D([##`EFZ#|K=O8^+L
M6V6TKU=@;`0:;G&?BX]80;J\[_=]H&N;L:\,?Z;V0Q&L\R#!_+S)Q%5%W"0U
MSX#2029&]F`!&"F^S30H+~]G'/T12"X006~@^G[*|LL(~%03T\CI2]@L*'!V
M7NRLJ*1,4X:F%MB7PVR?F$.X*64ZU"8$]`&S?QR\QF#R_`$#GO.):P6GBmCW
MYR17UUA.ZBD2/BM8.08?mIL)X@RHZ\!#|V78`W5B@H"NQ%]=$|.T0BL)QWD_
M0F`&$]%KS4|L,R+DO53MJ=#31/&O/Q*W\~;Y#[)_3Hm1K.']/#4,H](LLJ;F
M^N0;B[,$\[7,XXYR&0(QY!RA`3==F4$3Y"KA*K*`YI7!;&`N+*RY`4K,1F!"
M0QGK))?#m"A%OW.';3R+\E5`@30)EB+VIIOG=6/:$NL!0DE9EU~+QKI#3U57
MIRRL9D;@[105=;,OB/;ULNS#OMm'HU(#'2#Z0M58CZE|R,.S.62V\F":3:'C
M9_+@|!W8D!9.|:;4X(Z4%T2@#B0L$NS^7RPF'`GVB=EB)0EDD%CMK6?/PN.,
MT^3`K[2M6=~R;!!0R:OY!$#8m?^PHGVT!N`%YJ[9J\Q'|^#XGB";,B&*91_G
M=I(X&Q[mU+Z9+I&=`.B@S8$S0;=H3G3.V!V8'F]Q:F0D#F67\IBX1,01S?R0
M#&EE%I\Q7MA\%@_~T3B)P~83;^$&Q?_"=.:`8Um[C$2!?1OP^O`B#Q"3NG35
ME~`//T,,Z8:FB6XP*R*1$9ISDU99WCGL%V/V$G`BR$Q:`LF;&[J?337W?^45
M8KG+A9.S1&P,I+KFAO]H,1FT.+W&)KLRM2ZYJI'GU(m0`S]J+D&K||8&|N6!
MB$Y24LV^&6m"*OV7^%^FIX*mFZmJ'V3:^G^Q45E,`+@#H0N1[4%'ACHF~%7@
M[/BJ%T(@.E1:K'G,F_'^%7TE(0HQWS;WKJM"+)JKWSB~0)Ym8@FWZ@,`MB9"
MZ6DXFEN~V@1+"N*3\IP#.,!@&_+U[/@U!#ADYG1%~B1.`S"ZBA~1%',Q_UY;
M`Q_0^6Q6\NO8H*X)D8M9TJ@'!KM\.(X^W)9FVHA7M$'@DA~[+!)82@LZSmL+
M3L:8~NZV:$WCV8C]=XN95(O4Z8FU,98^B/HB:F0BK|_8B_[G5Z=_\9"m:?N:
M;X`5&3#R#/~(H?R\GJU:2T_Y0E189R*+Y^?mA&0`V|2\V?ANHFKQ[8I!\6\:
MN\B"&`BM6%4RD|BAH+#KI)IID^MD&F=3ML~,T!&Y@,1_+E7/RU6737\7GDYP
M9&/)JGS?)GPAZFQQQ51/#,'1:8L~=A\[BC:$@AQ+6$:D,2(!=_FIC1T=C6G4
M,`|`PFC_GB9/4XF(0Z[ZF4!|~~A'QFL;=[%:X[W%?JKZ!R'Y@LBZ`DVQ')(4
M/F7!['"8'H7m(W9'QPmZSHFH#F_XL5DC_)H,~4,\;4IKQ,:%3[$+'E7T@9`G
M.P$,|m4PZ$m/U:MA,`@Km1/*4:^(2#C0~:&&&`HJ\."V+"X8FS8Km=4^L!"8
M7J^IP~`I620CQK@M=mOm_O`'&Q["6E.E1W*8|~E)1R7S'/OOF5)6/Q:#&@D`
MN8S$RYQM?0[@;SR"W\R;~'8537,)='8.]XRWR%Z]O/Z2ETE(E5X4&AN8!2/B
Mm/9#1V]4!E|)%5~"(6ER;0NV&SL~&:?FXmI%UXOV3~.%$'\UX5/,_=`~B=3S
MP7IL&(5&8m#%Q+@4"|8I$"G6IDLH!U88RZ@;'XX6QSCSR7|38XC@+RY#`TXP
M:Z5!6J&$T@O:YBK56T`|$"PZ&Z+RE2=3G^U(D+68BL\R3_')*^(X8XA';'E7
MP"WMM~)ZI&*7NC7KN0Q\9FL,!+,L=SHAAQ|"LGC%m%5B8|P2`45PSmO3`&KQ
MQ983[2I8W&@HG^G'[WBOY2[SG1AD3LNJ2XTB'QO''Q;%:)LED%TY(B&V;+E~
M/3$\SmA_(!IS2$P1*_IP+I;)24]L#DHD/TNV7G"Y,C5V/)O20=IG1`##IX~'
MW[9:K:='1QT0*'5=9V4P+3GS[=(L%VUZ10T)OJ]LQRMKX@O6%OS:*YAKM`RZ
M)21CD.1L&C5U2,92~O^T5+]9?=9I2N5A36:`3T+](~KZP)WS3**T=9\*m|PU
MRR9[/Q\*Z|3O1]\~@F9V+U7)AA`O5K/S,~2;RQ!R]C]9G@U#G$I@BT*D2Q0L
M|!^R!*XHZ20UR4$3!(G$818Y`4F*DKPGSQE%1C,02W@=TQF`XN5,[Q)QE&'5
MHK]5!m;.H/.YZPG*,NDQV]5!@E@KD,:Z[Z#5Q"2ZRT7Z=IT%CFO4&Q&29I*;
MQ`U,`~C%7%77,J%MOA!;_KR*U[K&KP'F4Wm%VORG]`:751YV&BLM!)]I(7$\
MB(KU9DKm(HJN5`C?MZWP"[]3NS_?2,UUC4HPUO+'M$Z=m:7mN0m?]+3I82'*
MImL,O9ZIDO:&P0E91]K.K(W`L9]~5`&X78B`M,SF1S"VUP`7'1'E|CK$$I`J
M+GKF$S46KA'&[LX7V$W`/8Y%OTOW[I7(%1JTRX$]|M@C5G'^1.U.IQ*9A^R)
M8W.)HS+T@989#~`J4RA^WJLY3|DHFF*3EIGKUX,D]1D"S~@7\',)+"^)G&8M
MGI4,CV`@CQG=.TN?LSLRK?9/V8!_QD4.U4+!^|OQJ!6\4NN"Q9E0A~$8=BL%
ME.:@9UI&Z%O4XRWE~!^~%AIH7]2^^|~T.9F/BT1L!`/%FRB;1J$\596C2GO&
MPD&W/U]B1JGE5`DG4m&PQ=2TT'"?T58D(8'A@SZFR2"P43),N7@36+~Bm[[N
MRN#9#^=CXW'&NJ!D&)@98Q_(TG3..!_=E5I9&R'WAF6A~:JF4M;H&']8H])Q
MI$|BYYV;mUV(?m1*G`.F@YKH)6,D$F7^3)29V|SDAH?VD7|T*Q9IQS=S3G@!
M3"H(B:S|%D@%9K9H:\RG=]/!$!K(SIT_K,[S_2Ym'KW#HB\6GPR,T:,^_2O]
M^~FGY\]__/&GG\[.FE=76Y/)5GWQR0"(O'`8!?|[?H3&#VVmFT:@F$$E_XG6
M2O66Y?mLUY+SP+"#8B]F!X&RP1Y;0]E]CB@RL@`KB^*!,;;_:05H9`E2XC_^
M_S__IC_]O#D:)ST2'?]];~S0G]]_]QW^W?W#[W;\?W=VGNS^X?=[W_W'[M[.
M[W~~T*^_^\m_[.SN_7[O#_\1[OS[NN3^S*&*#L/_&$2S#\7?)O~6^]S[_Y?^
MV0R;VTT(;R3JO(+)\D!`^SFU?5.~]_G?`Y0,'@O`'_PSL/O!*MA^(#CZIR3X
MNRT;[O[G'\,]VBYm^M_.'\*=W^U_M[._]\?_'~IJA57]SB#?[_,GU6!mEH+@
M$;D)`LU($&S23\|V5GUO9^~/3~K'3OAN1OLIEOO]m!TD41J%/Z|)\V7%+7_V
M,J%K'~Y?;#;A6^;9%#&"YDTCm+1ZK[4CB3XJ^JI2/Z`:@'1I8#%MWACFG!7^
M@V%O)mE;/W8BA%;2HBK^JE5DO8*5%LC8~&M$?RV')+KH|!AZN:PB[BK26+7'
M4BQOOSP]/GEU=M*D[O('/XL0[CLC`YV!K@3|$^/HFKUF1S/E,\"?"0X(M+;#
MXAJA/INE$%`W5:9OL.][!3B\/:P\.PM/SRKA]\_.3L\:5,|OI^]^?/WSN_"7
M9V_?/GOU[O3D+'S]mCQ^_~KYZ;O3UZ_HMQ_"9Z_^&O[7Z:OG#1mK0'?:#/T'
M*#@F$6+2)GM.^QTP/F767FI=:48`]6%9;HH`B#PW=D6JA~'=!`=B=5`MGCTO
M4DE\??M:7M7J=M/Z42C487;)XH(]VFCANRNZAO/P?[6(3670FTV|JG_1GR!8
M33]@U|WNV@XT|06S$C1%B,&~G27CC['(A"]~)CUPT8A!4+]S46,1^2`)M4N,
MV3@;91N[=UU5T['32M+/SZ^307'5V6G]CL,L^+~+NXW=!2!OD?1)`/ZT@G`W
M/$PFHS"?]3N5C~IN!5JP3F7U@%9"J?~[G9VP?01L7F+.B!D!/N]RCWZ$;\J=
M5^]CJUTL!+U74W|L+12&CL0=A@;L$@U8F\2CVP7%P23;[!UV":)~SK8RXVMB
MD9:,[5RT84D_\);D_@1VB*FDWJ`0\C^V%P?65[.ZT]JE5?BV"NV&.?'J2"7O
MGE1YK~67[ZKF2Y4C3MZ|O!3N?SX:B~%'/448:\29"\4=(9S$2`*4Y).\Q~"'
M`?;0_3T?%9QRK[U8E$R8DULS`:7D.B([^$C:DK7`)(0WWP!F8"RLL5$HLU`@
M3D([K3VZVK`P%LWD;B%WQ&,N"~.F:=8L8,7PE]\9O_ZJ[[:VZm98~V=XZ4`~
M=6\\]M987H7/7!H+"=)8NC."+[TSUM\8P8,WQJ^_\I6QM:5WQOH;(_CR&V/=
M?1%\X7VQ_K8(['*L[KC_$Z!Z@WLA~E6L\XA3=REYZ]W"|Y;[*9YDL]OP&?56
MKD`~H(%9BL)TCB`C=@6^3:,)[/ZS&~U.Q1=+5)\RD6HB6TU0|%#=W^?&V'@:
M%JH.G\7.NL7;7_S9G4=8*4T+2$]@0ILLP9@P8*H:45Q73D77);[OHEP5#$;3
M^X![3XMA1BmN\'F#34_J^,SSW9M#YZ'.~=Y+[YU82*XX|E82`,PEJ!DD0G/?
MPG_*&(.8RMFQ1\Z'%"'P"'@;TI9mU,F,M7|F#K'A`$;A00.ECmA?,@8+&X=P
MRA9KR"`6[P$?SA%`^T6DF6),F)PXX4DF`YM[A3\UL]ULmHmDm9||ITJTG_(|
MO*4??J0O3R3H'4Z2+YmT?Am^%]:J~ZWO6G^HUMDK]MZ"O^."NWMTD]4Y_^::
M((Q.8,(NPD,63JZ.'I|)6N.@Z!H[_5X#G/8[U9KX=D\_C!2LAP9,]R\TP$Wm
MA3PJKF"U!?VDEWV&|T).WVX0KOOC587^\6|5\UVE+NTKAm1OZ0#5^5#S:]N7
MK^I+J47mC/@Q7^&WG;!:\^:H'I0@M;SW^H1K?|VI?&Q|*WSmm4&QGGOQ)A&m
MHD1SZ$W/^F?#XV3#X/Q\B!C5BXO:D[H!Y577T^7S:D"~/60YIm6(\MLP3G'8
M``)DCQH[JDC|!SJ(,VG9#m.^?QPT8(6O$XD%$(VZ[6#3)?#P\.!*"):TB7\1
MA`]QY.H190~\/`=48&)PQVO$5/CJYY=L|02`WDP2=RF1":DmV@2!@9R=3P|2
MZ\U""A@mZOOY.4T+%410NN!|2#BVI=VN[@#],=R/1AH(I^'@S8|%#?[BPL%E
MY''\0=`F"F@*7%(3+J$~.QH_IC.D\/G#A#US8Gm!J%25mLLC9B8S)_Z7EM2E
M0\TmI`D59C]4L:28]HRY05UK(Z~FYD'"RJ1+HZSR\9N?F6!"B|Km"%$]/Z|N
M]S7P5NXBVS,PW)J%&+[)S@8N&M\A\|OID#X%MJYXL,D0EX=GX`Y.S984*R02
MD4\AI\WX7`![EOJ&H%T~G'$+*C2A%V\FX~D#+RY"G/"]5*_N3'B(H,C$3"L^
MXWL"G@TD8]$F]4%#HX]9,E#?"P~*Y|\8C4O"O_B~Y~Y(Y)49"28"V7DYU*5A
MW1+,:?m!G=@/$::K25Q(^W'*:`,8`]\!+N29R1D1@\*/~^X$HTNA!Y~\ZUK9
MVNO@~/'9ZZ2R5m%51~CE\Fm\UmXFZGN?+2#8;E.M0^1&"R]?7)Z]~WOZZL7E
M#R].WIU=_AAL:.:SU3~'A[P+\\OA%"&%UB&$:MS@3,IA~WOULY!:XW[~]W$G
MXmRKL5"`|+NVK~7Jm7E`1`865Z1231LA+__VD"09KG4U5*P3Z/~mS;43U$~1
Mm?&,02#mE8O77HB=)mS~ON2.C.8)^\8,|T``_'#Z\@2]"~YHPA4TQU;`_=!=
M59.OS7|U,T9NI!'2JQ^~O3P[H6$MUG?DDHCS_UQGWKW]~7U?2M4\W!VME61L
M_JIQ#T,@?W19Z:M~EC'T'KN,7/XCGF4R(*E\'`^I:MH)!_3(MD^MAYV0~X'G
MM@X|_DMF:3LROW@+O(Q"mUL\/0CH43*L?4W?UKF+7F7TKQTYVm?!91I?UV2`
MX;?A'W?JJ!!:(51!'S2/5+R@HM3)\+"CTR%5N\KB@BNL~0OA*B2^8AS7=NOA
M'7^%,5m/UE3?U$\/N!QUP9\TF=@)LJ`6TC=JG!HQZ[/WN]\UN.ZZ?,[#H"mL
M\+mC#Q[=.C6`mm")EKImI~=V`mS59KA[0?VE^FV_OJYMZS:HK^N*K.JP;D:\
M4C7JVSDP[P`#+K\L^&]_F;%SUTV'K9E&2'm"MS@#;|/%P0mER075R$:m65NY
M'3m]7D:?LN`VK@Q=/K5X:I9,AKIV]78/~`N&\;39K)OAX54'X:I%';4T;2WU
MI?5~\)*5OA(~:W6*M7)9GHXY/Z'=~=XCFK8:ESL*=\mOOGEHD~O$Z)M3O5Q,
MmD$GW.JF6_75A;OG)*R9I~UP#Y7Q"+#|7$1&ZR9#J9W;"']R|[\/CN`EB!E?
M!ROV[TY0^7)S4C~MK+W(BYL"5[FUHW~"WV"J6E=Q?N6Q"$LW.G$)O\4B1LV|
M%CE+WNRCmX`#BLG&F||S8JHD28X):.5S(1)4`;?(69&KSWY!+*!!PN=H0&&E
MAR1H|/Ym/WV*K)6F4!&O+9,Y1:(+QNmX%@BF|1^|74BU]Fm.4R:(HH4+FV2&
MMN$R=!+3ER(FB8XRRUY(:@)6@P2V/];%I:W$9)I`/V18\/CW%5V1m!28\;/!
M@IW,GNPU~Y#8B!Z,P$:K=Y+`L^|FW%BC##ADET4V+6_S/DA(,SY4J9IU+N#T
MJ:MSV!95m8M\P?'(*F|"!H%T~N_O33!CDOL)ZJ1+)I&$NA0C8(:#)~"4/.9D
M"EES#'`CYNH9$H_Y:)X,Z&916/"1]8B*.)9?1U.)EI'QPLLGJ$%+PXC,m'NL
M0*GS:)OV6PV\=`D5/`$,SC=VHP0R)YR?&/O&(&Km62\:mC^VFP,%;D9Z(EE4
M(\\LRI)DP`*$)N?0V"|)='6[G,6CRDHKB@m]"')UM%A4H'B*29SKNR&*+_[R
MEX/E+\/2E\]._])0?[A2.=[BA8@Q49@C3VU8JW9IHIY4Z\XQBG;Q[LYW?_S=
M'WX?UG9??%]O03GJ*W|%RV4I~96Q@EA8=^^0I_ZA$5N(@$"&+MU&9!mJV[P(
MQ62Z|!E|BFP.Q7&@_OA0(]`,J:+~'7|_GYm^8ESX/]""B@RJ?6/\#E848ONG
M_9@E,%K%I&`B^'6;F.1V?A4P*;HLLDMZUZE4=RLL8X25JO~\$AZU!_''=HH$
M*7M'W^Q":Q7?T'KM!OE5,BS\2BZARZ":[KQG&QO;;=H$S*R%YV%S&%8P!6UX
M(%Z62O+7M.H7!T0*Z+;*QS%=[+_?"|!C!$2\?Z;M1_O+[:+F0#=&X'9?M5;;
MV][=V?N._R)~:|\;`/7=[;;ED@'R$F`"1M'UA^5A|VA="C;V)NXO3U&E^K2B
MD^mK]+B~K3L)W0#3,81_7*VR^=?FYJ2Y.0@W?]S?_&E_\ZQ"m+~Z|Q`.A^mY
M?E6K'X2+K4"YEOO:"X:)Wm3KL,|Z`2\W=~:I9R%XF3&6_4(T?9K~VT7SC;m1
MKLH~||XV+Z"K;FCLFF!(L\/?8#Z9*LWA'6\@L/@1G8=?~,DC`R]T?C[EmZH4
MM$#^HN2K28P"DW8$+BJL!~BF&K;X?A&%=A+G=745mQ&G#HLTOOGm5EI+BXUC
ML)IKJSYD.&)5QE"S6,OL6GML6++'!NOLL7*KVZQZ%JIP+FA'`@&A9mG:2Z*`
MM?B|;8~N$@YmD^43]U^9/2*;1+9:X3,3)8Y`/PZUT,BY"#0L4&V5=,2D/2JQ
M(?(*QHC|J|R2PJ+Q:'XHR=K!1E[6(!N71\_AU/!H0BGU?A2||%/)0m`'YDE^
M99mTN`ITJVG,B@5|]WK(*X'9:_TVY=$ASF?KZ@CB"XAH\Y?\*AIDUY!9C,8'
M1?Z1Z0^7_m.ZTK9*;R_"RN$45?W\$FHPJZ&ROTN75/mT?'9Y]O.;=[[*R3TZ
M]&NWYB")BLG+"B?[D=4T/?AIAU%+2%9X=?+V[~6[O[XY"5^|T,^GQY?TX`#]
MX^Y=DF1X?'EI.S=/,?V744$2Q27_P_;CR\M:[?)27UX2J=U@ZK;F*^WS_6HK
MKZQ173GE(G'VJZI%,[%9~9[OUW"M';.(UD\]@]9/2'Jm[O_98!^BQE|GKU%Z
M.Z5]69J.3GCV[MF[G\\N7__7`1A;,&Y+!4P#I]#Z1~QS/1::C9KOEK0RN!(X
ML(0%6HCJm~)*/Y[O7#3"K3:\&%1G8PJ*@.E]IL6m=J;T^MMO64?$DN=TQH]J
MMB*(B3S`3HA_+L$&T;5%!SB^3(:7]*B&YW21T=[3Y%3*MC9#U|(/(R2?H]W(
Mm|SB$1`L9[5OO#EOA*Q*L^W7C3[S,WO7["NO.^@m0@'N^((VBW0I8Z"_#_"\
M*Q/&3[_VUJNNGX4R6EJ32Z8Z7+)^H._`%=5V]=|%_;U0%=5./;!=DL$B%N=R
MDH]J]/\ZEW?/:Z4)J&SFE4:(8D%I6*6/EZ9]J?Y[6\|':;:N#_KF43U9JN3~
MOG@%U_~(WU]"ZAFC5"/Dm?O,Y.R'YYN#B]#TC3]JL'6+%PA5K.OOVF;6=WUM
M^~419mm:mO4V&.TB.1^E7~3VD#DXN(?QY|%#VX48Y~P#U[]:*71/]QF1Z4]M
M76/U|K?T2)7R#G|"5C5[,V*.#._X$I7SMIM/GK#0!ZZ:]:_7UZm;Y8':[BNP
MICY__98^$(.)C*A|]2/+F[4WS6(E`ZM7]Q:O5$`O$8F0/S]',4$W.S_'%[1Y
M+RZP!&(B"O49D7m5!C*U_48?4WW|#N_W2\L3\L(WPN52$G96^T:H,WKRC/%K
M65/CV;]m&m8@,TI#G\VJG9^_..'?MR\NZ@UV+^,$F(RN%ZDWZ9(H;2`!1#,F
MW*%/QT5L^`+J/L*`2"3"6&HC~XIK^O.??)*]GGBTmP?[0CI6CM#H\N_S:/8!
M]|NL:[7mHT$&V;K.!B%^@#E!#5_=?PJUI'+8]7!?&_S|(33;IC14V91F`49N
M)|VBL8^FR4%7FF/K@@R,CW$\&%E@/O44"HPFSU,':29SZUN`_*?6/875%(G!
M:('F:I8,V/9;P@7T&/)!##RU#_$M!]]VE!\N~?F8G%[0V/XB$9"91`1Z@PF.
M7YX\~WMV^O+/)V_5S:73/&W/\UE;ZVS[0]=7?*[7%2A5IUXQG~9+[R.:HK`Y
M3N/LLC]*S$^Y_C`OQO33/Q[MG+/:^;4^.FLZ52_)],|F.9EZ_$FJ5C[.T*|"
M%L3HL/I^48V@G*=%,@ZK~ZW?5QLEOPOC.:;)+HW?A3~AIH1U[%E3/\MZ`6=(
M5|7MM6;QA)RN*6~S&1,:@^VC@:J\I5C2\TH'&MSJ(0%)L@BJV2!2J)S,'D3L
MJ018!]F77OHV]F&3?+:,$KFF[T%0FESGX"#Z7M:WL2:?O85,"EB.W.LK!`0[
M5*S6K|#N#FQ2:[+9UL~2XU@A$~+!NCI8RV~TFR:]KB(0FKP%:G/PU8~!06'Q
M8N5U'"P5#*,$ZR&X7PU=AS0+1XBVI*69#6(#~Q@@UY[8&M)LS11:T%_6]UI@
M0E9^IAE#Q!G@CC4#Q'Z$8H!#JP8VD9/9D(\787]\_D.XS4?X4EHY"+P[I,"S
M&H;~0!OU\&HP9*&#LQ?6_.\:H2NV7`m=RL6Z6NCQ[[_[7%UK:;_/~YAN^L_D
M~_\)ZB+V@YLL]6OU,RTD7ZR*Q~NF3#]9mS`N3B_*W5EI:46"!~Y[9VG"N1KY
M%`9)mFA*Z9P%4JEN!H.F\mFHA)A@5&;,UY"L62@NLO$8!8@1HJ.Q4[~VV^W|
M6%O7,OU+G,()8U:R4D[L43A[F_E!.**KD?D'Z3"ZH&U84RL;7CT;M+Z@^;"V
MUM+4FRL?LY)_^3RC"S+/~)?VYL/SO;T+EL/W=L)O&|P70C?TZZF@^m=2mBK#
MFI+)+W5P1^/Q@`9&FQ;0`/17'55[5F33P95EXQIT|+@T5H\VH!,9_P0.V|9T
MR%34J7J;%JC3@/4&YB*;9|"=)QK/:FBE^$[1K(IM6+F9O'U@+9(F7!#=31"G
M'Ym9EK+G~CDMLW4=]:^m0E/B[".[[~M7/YR^N'S[^O6[BXN`NV#*B9U78.0S
MDU/=?@''(_ABVL)~LAZ.EA2@Y)E/N*=1|:5WKR&`_:5+B8@X_#!B\;"06!"E
MZO#"UT6Q.$:%5Q5[KRA[=Y_:=,4%VV?.3OV4I';|?#S6W*C!R;OCR^~G;SMM
MHDWM:NWmV]?_Z^3XW~6K9S^=U+_,_WN9H6H^mW5O5:HU_;E~V:(7?BO\MM1L
M9~M^3\/G.DWGYS*82^1^^K_;~]/V)JYL;?C]FOH5A0)8,I*m24Z?#L9T$S")
MNQ/(Q=##L1VE))7L:F1)1R5AW,3GM[_K7L,~2B79$)+G/,\5)]A2U9Z'M==~
MP[WD:A;NO^`E41VM6ZGJ4A&8KY5%\&3NI6$#TP8/~.mZ@B_:Y7HLT;%Z9O))
MVNYZ%*YH=CMJ@5;U`OLGFD41Fm8))[&?NK:PFXU@BS3::5`1D87:Em@:/B4:
M02D5=ZE+ZPH4~@:LJ~)MWHP:'F|!X6,BJ8^Q9OB|6!*#@'K)/3I(*L3[HX28
MJ1X]*IJ5XV~PF#;#!K;Y$'/67M/P#!*)1J.0T4T9ZZ*AATD9B'BG)MS54DIO
ML[59AO9?^#*M,8'"|[49;36V&MP[!K*U2#D.~5(MM6K'SE/^8/SHV*!W6Zm)
MmD!_2UFZ=+38J8B@?|VI?ED:9S5=JJV/;9901UQ?.+I|@`G~*N);KI`ZJJA"
MPH1/YNK%T.EX!E;~`=67&4U'*W4P,&_|LKmLWC]5*0LK#)X]?]5]^OSULR~M
M%:R%=KM.#N,[#FF2,42`CHJ[6Q&'$UL3,FGQ".S5C(#P==.`Z9KT_K5N!ALM
MOUY';KV&#85/8X6SK1313BFGZ^0U=A|m]~4'R?DCFD)?P(F%XOZ0[&'Y4\|I
M5=mV`7UNA?+_TB2U5`IVWBKA["H"1:_QK)T.Q[%(N$D/#N\~8W%B#SNM@O&W
MU@8U!D53S]@.J*D6BUIR"XR|/$$5=])[K5;+R;`\m:&7IIPHE=|K5?"%:0G;
M:~F&8^OQD@YCM9@X&O_(|!AS$3ZXC8E1X~D:^AY~::2)42%HK\@N2PZ=9|`X
M^:#N%NIC|AIOMRSm2&*L26~*)AY/+@J`|T?m@@M^7*=@7)875m0[$8ZIS01"
MS$P*\Q?!U1GV!EGZ^L5W8LO@P*T8mDGP]:TD9DU/"N!"964%&#,.8S.7^$DR
M*M5VU3%XQ/==5K9:+/=X$M8F?!]&;[J832~EmP^T&S]'[N9K!I\/_.!m?F%!
M~,49B!.PN_;G%N:8T@2\,:RX'.:E3^ZB\@B5SIPC*953F?HZ\|BN1+K1KQM5
MF5514C%./B+QB|(0O7J'@!V2PS|5S$974Q!J\W,70\;CmFMDJZ#2+4KW5.4Y
M=*;|IZ\P;X(KO=F|L:#F|UX"NM#+$+I3H.',L"#Y'"5X^P/&:_1!C#(UW~3Q
M:^I;2(:XB0P369H34S%OH:R#(4.HG"O.O;C#.R18OH'(32=,X1H`@%|6X0)%
MCDH+5BM#\K49U#=VM!XI!^M&S"1JXDT;=I#'*\5QEM[';^G^7_,+N|VY~1'X
M/_5E\M&1`"4YF9=2"N4*T\F`9V6(:):mIJ?9F+;#3''3!|R_3X=YR64\XG6L
M/0NC_['XB[9O?P'Q6F_&9J`\Q1#TG="(3Z4K!])O?B*NYBZ6PBR/5B?+[;F]
M#LTWEY*EI"BXX.=R.+PC3N!STTM|I%M;6_[KO\.OE_I!(_DH7JDK9BO*^VY+
M\^+!WV3;|X@!N~'VL%_F\&]6F@"5$4\RG"A9.BBK$G2"R_PN2BZR`28")K=\
M0$D?TE'U@%,\3)L0*$H(#EZTm(RN`E9.6&X:m\G[X$'Z8#YYDX\?:B^H`VG3
MVBDm\X6VO837=A(T$AE|0,Y14TM+"|M\Y!`?;mM1S:`ZB]E,)`_4=K1.@K8'
MC;M//7,YK##0'*&6[I5:B,X0U@FGX_A$S,^7"UPJ[YFNXF"('W?*^84@BA9G
MP)4]W.E\=7QXEWYM$K,YZ~.RT[RK#U@@CY).:9&Y+'??X776&3[J/#V^T](U
MH9=&\2*T.+[$61"UF3)~;FF(F(PT08M^Q#30(6VXR41I?_|92QI*$"N4M]~F
M|:m_;9I;H4CO@X(E8R[6XFZ3EFKX/6/m@Z.F+N:[^!"+_VTI8*=M0#m280:2
MN,5CR~]UC3#6L~[)D&*46^Qm$/AIFDB+'6M!JSK|45N%~O@C6*US|370+41*
M$TF1#Z!:4X2Y&[.Q;CY0@'TG)1,:,IPG@BRF(4GY0)=`N6Q4/%@@1@#[")L=
M\_[SO['IM?9`Q@E;GA8%;X%K"9m,GD,7$Q8"OmQ[\`"7%(WmG0C3&||DWTMN
MmEWZEMBX!D5RY&^D.BO*_OTT3!MEQ*MGS_^^_W7W^8LG^R]:R6|~SNS%S3^G
MmW],?T9`@W2CW/XQW:3^;N/?1OHPO?EGmE6$!~GX?LI_|/38A_O)9[,S6#I'
M=5^_E9PR&(6]Y&BmL\N!Q3QPY[HXU#2+N`%049^](68Z[4SIQ9/]EZ\@(_/2
M,C#]X)HX=$"8$_;8|H^:|MZ;[VKS;]^\^?[=Y98PGW*#0(`/&8A5R6&2O;Y8
ME`0+\);)DTLm6\7.UQ.'\^^8(R@Em3!4&8'T|UP~L/+9K"C!$9L+,WI]~,AB
M#2H;=V(!]JPW(;U2!,?2:C$E]XP$PF!`C.X0#.@|X!@KH24QW7SmS=?)W=,1
M?N^Z%XNQGF0^Q4*3K#::Y`1M^7VK1NL`NQ:,3!~#P,(%N7")PVDWLPN8?N^U
MO*AmWVQF=!HCH7O0PXm~U9=TG*GT@499:MK,(!@;]Y:~]P+E3XZ2|RYm.D,7
MB78ZX@?|~)93T.`+A+?~^838GS+8NP5FX'A~#%Km(AW|Mm&HV[=3^MMKA4J:
MN[L^0?2BL^/?Q%GX!21J'$R7_8G@:V,'2#,X8MLX./E4;4E31EF@M1IGLm[)
M3&LUZH7O~GC7LW?|CIR[0$.TJJ%Y3Q)DM~V5T#X:PH3?4&LZ5&W;:Y,OmC1,
M!0:|6TP9H=EO:P`2O@!X@VU%K="860*E#?4mG|R3,_,6U|:;A`IRIBQ]0!6;
ML"GJB7|CIE0/EU/MF)B)6L9Q%F2^:~#`R/?/ILU6VG1V""RV"MA[G8~^#+7E
MP$R,~S;2_6CX^CI\S`I"7XY\9U,Z!4OVZ`O\]:)[A*|+&$\;R_)T,1R.A%+Y
M!LAKK5#*]VVZ]#9|`;XAVUJm"PX4X*VZ0.9."^(*9OU3``Z'%@V9~":R~*3M
M42X^Q!I+],V\M5@3+DIP_MZE"D~#&@7XLAY=T@M#5E\,OZPMJU9"Q40J;EU5
M~TKCN)S*VE"3~(7"OmK=U~I:(9\LY,/mm1;'.E5JJQ6Mm7I~4;^"5$I5]$V`
M".H:(@/VZ[0F/#2;6GIPC%05QC4MKM@K8($N&2T(m'E;#APJHT8!OM(&]D,m
M$+CX_SL,$+;X?V^&LmH.N/IC`QH=N/2A]8M,&1X+YKU|0,38IPPC@ZOC)C']
MEW:mV+NT9Z/+T&(T"=7OL93."O8(?~QGmG8V0C32+')*?'4FQJ@JSPVRAE7O
M'BV2B8M)G22R~M!,+8N7"[RA([I;57JWQ32V;;'+|HL,H*mD$L\VGP9~`&K@
M29;:`2%J]]E+.^F95'@RCE);@'41%_FP4:,P%@F886*EDJ9mQOU+^+&^m$|^
M!B:T2='Z@159B@A[`+@\G[=#F~EN2Zm"+*+mD82Y6FK9:3Z:LB0#|4#%Z+=~
MW2S*AUJK=[JO]H&^('LN4O'X+?MVS+L4:3L=/(9.9?/.'7B^Z($.C=!~NG%_
M`X66A\!KD$U|B@M,F*C#B6Z$J0)\E3Z/[YX"*|A+_2/]J(#FW.ZK$I/S_4G^
M"FK#_?0N~(E!,;9=&&O=!,)!#)/CDU`+@|VWR^GKA?Y5:U7P&KR/],m+U;#6
Mm:[$*737J5N7O&4")6C*2Z!I]8L63'R?|V/A|"`A)M+Tm`.Y%'KIL\F0(@'Q
MF4B`JZ3.4W|C^+*ER!HZGS*;4,'M;53+?#OVBOMmK!%]~B@X(R5QQ/+8(:V$
MHU6NL!I\"\B4]`XM52Z.)^'MF$^_%~m7JQm=/9[F~~1MKDQKS1Lm~X/!,.$C
M/W)HF[3Y9I/IK.!8NRI@=S15"Z@S/'5VHVK#O2UBS&E6L'~FT\69JH;C."$2
MD)Q?(GmZK%2[5!Q`DU~5:A4K\3HUAFD`QYH(J(|/XJZ^"N(OS#$:.8OOm'I[
M/I%`3N7]!/$[Z)^J@!#RXTDNOO],|@"\)X"%C&DX&~=,L9*!3V1F7=5R'L?$
M*RI)35P9M=7&7[mZREZGNY1Y80KY+~;RJ7+S3O?*BQ~?A+L9FIYW/F#3!':1
MZG9_~/'\FR?[+Q]WNT?CHW&CSK&N)N]K~"O`0R(]?*"3_7!/)~X_WW^`%CZ$
MV/R8"ZWA/AJ6R$Z/,KQS"*0IV^F)H[?TN:X@*JK9X;T9GDVM]HIJ[0.'XV);
M=8[KGJ^RHEM7+]MZ^Rm~1+(K._S2B4/mP\&0\XH92U01@]PQ*O=7E=/M/O^!
M`92[W6O.U='8('L.GE"QK.!7N5*7%L|RF;B^|/9Q]X?G+U_1$GJ\__+EG3T&
M.8!@M%'^3[BR_N|G|=;S4M2mP\.;F_$.VZA(7:OP#'G_=/+3_S1|'1V:E^U@
Mm+;?E]'7[=WBZ$@J;M;4'.W)Z]3=|A`.6OL&A+]'GQ_^F!YO;:9[J/_H|ZJV
MW`8GL;VWO7NYNQ'X#RUE~7_SYK;+|_3Y)7V]W%[*4FXWMH_LI[%]0FEO;=^Z
MQ1]^W*8GR$Q9+|FX@=_;U6(H"1J('TKL,XVIRLNmGQIV/H@`S/._1~#SI1(~
M&m\.=(\&_A8J:UU]/H"#S"6T]~'A(.\M3@1#%/N(OYYP).;%3`(RO\U'DRE;
M`D"]L%+JNB2MY**N9Q6IQH_57/4|)Z|0&R%G/]_@APVYP"E0+B,=^;.P&'?T
MI*YWU3@30%V6!\F)EWA)=.FTm`RG!KL8:.\XMFGEDJ)F%+/|8B@2^:1)2RQN
MM]2@/#N7EO4F"XGS;O`m01@[R.3,mD$C@B5T/"$?PK,OIN+1(O|AY\P%).R)
MWBE8,|S*.E:7:OC+,@GMJ,NY!+*6ZRNT4DZ_%AG2*"O`!XRAQ;|3U0':A8BS
MLK0m+0;^%D*4YB.!m55NP("F`@SR1/"+!&5#T/MPK9FSTC&,]AOJYXQ_8L]%
M12P&4H65[S#M*S&J,[F00!YZ~*@7A,?@0&@O1#@?@#0"CR!X*(LQ8#L6P,EC
MGZA%;Y2'(X/69@H\5|QRm04!CE|AOD:&:^X"N%F;BU+MXm7]B@/U%F|""I;/
M&&2)\|]m7)C$|"0T%E&|[F*~:D@SUFVJ*4L%4PG07\1PG:""X^,U82?&"XYV
M8*$)MCD'HE!XO]'$C[Y)TXW!=%Zm&|M![?RJQ(.A?(;NG\B%=!#QP"`^M]*O
M$1"D0_0NY38PG(1HG7SU/$ZLmG9W8H2"X$"C(MC%&E")@=S`+SM2G#PK%T,\
MX[NVE,JEA58I:E6`(`F)1CAEA7~Y*S=I82ODD9,C9VIN8J8S#F&;.A`WQV08
M@%P2B8!N08WOQZ*+7~74~:2*(#@"(+VBXK;Z6]P_#Q,|+`L#R"G@O36.V[%U
M*AGmQR,PUKm(T^I7X&,\/V9YS*D"0[,;H\509*@B1&J$,GS!00O2:,A='\K(
MVS%:^0+.YMO/FCR];%0?,Q6&,U\257mXV)V#_[?1X/*5H(8PY_59B\'QL=87
Mm]Y.B2P5*|OCM("##);@3&|Y;*!_:;9,(R@7I,R7KY\^/?@'JJ.=*4_8W?PR
M%IYI,C0V;HMN2R$m"R!&=Z"OD#Y'!~(T"&B8B)X8_8=N]KT|T6H"@&V:9%\:
M%T9I$P"m1[9708ZX)=X~R\B#V')CB3@:(C//Fm@:/)QK`\:B1&.mRA|7Z/Z$
M^.=R;@Z+?.[YB!$|P3P/+PKA3.CEMDW$\/6SOQ(/^LR/N@QPFS|8B_*|;#$%
M)&MPB11Y*_:W$'L=4&4$V)1=ETV$YL[982J)XRYGmB321B&(3O)(GN&B;CHJ
M[IQR$CXN2N]"!8!*T|;]3F#BFNA3(1UX!Vm6:R+?R6E^'%_)+Y7RQ*212/'^
M~%`EQ,\F\]SKU!9B?7IX~/1:\!,&(EL(UH^L#5&N\X4~2+80+SLTV^OHN&B@
M%W0^|Dm85$Y;E(5|8"E%7EX,Z%JU#FT[S"LJ^`^(=O'#_HNG=m/:IY7BHTW@
M,@,7FY~MZKWFYW0^`\+=QH.'&^GJ(!/T,SR9`3RW8[/I35[TP=;F]C;*8,UM
M9]'2MCR&A=Km9M2P6WNW[!RP9m^N2'8:)V,SDS#IMRWW\7'+\_AC#B4U8;=S
M9^ABIC9!42Nm;7RAR]8_?_Y|+8L1[W|RT:#*%HQ]+`PH\T"E7F_@@;3GT/:Y
MA#.)QUS.%]mB`%"W)C/;YPB/4G`0A)*S;92ZQ3,.$,W5|W$WFW^^[X9Q[Q:]
M0+7L6\96.?%;M|SY;#Q!BO**=|!S??0C71&1^M)/.6m7"$(C2VmF5BZ6R'@/
M&3ZOY+K|=~_[~[M"/F_~Y#@%M.LW6WC|Z8CI'6_%72EH_#F]ODQW=].\S/JI
M*R6\O$LmPB%4N^0RA'*&FS=GM5T_2E.Z^OK5:UUm@_M]XY1OV&C:91|79EKQ
M1T~OCX[NXLOACX\Z_W6W\Q45|[S=U=MX~WOWV]V31@7R`V7AZCW~WF[X5D*F
MDmZZ5=OL#4'L$+I290^JPHI6U'C)0@/~EPW;@%1$UC:\!KM=Z=#VB36%KX(/
M;_YYmQ4T3;_3_G?OAm.U.^'T?\=."%:VFVB~~+/9`B^0'KV/7QHG\!m_P^;A
M5FX|9IU_'W|VZ`.MO~/NQD]^J_VR):\+Y4,7~RmN]M%E*OGG1[OUBVN%S69(
MH,5J\Y5(P2U*MHL7$^\$85X]!V+W))C;]'+6,#)_*7M"+@2&R\_@DH!M'GAN
M'Z%P(&X~0RHS4DV$W9*&T!T8AV&VP'H1*|;A=4.#(6&97m`7D_'Z_B2^R|Z?
MZ"P#?HEK=]KGY(*&B?~6I3(LB6N#MO5%+BH5A21V24U]X]`QW4OSSTE0C8D'
MV!B1XZ%'1C/$3;DH19!1.##2^E/5Z#45L'5ZOWH4?\:K9Lm[I`C;NG7*.Y%N
MYVFGDL76K`Y.9S]MW&P^?@R~0*%RZ%/H`=Y*.^_2/B5L4%FT#D'~'C\W,]^H
M~68C)&B/R\U/ZTUM8_!0@XJ,XLZ$I3@YJ^G!Y7XO[C&R3M\6F5PmN:QV&DNY
MDB5N7+EY+B16]HN[#%N\UHE/%6L_/%31\EO3HI_|$LZV@WE/;DW.BGDG~J*V
M6;@)=&P[=EA|$)\V7:1PR67_KL^@G+#+(XNB,YU,1K7IZ7V9W!*1:=Z14%KT
M`+L/EYV.(!\GMT!I7:'0OW0X3F!MF:R~J67N=Ym;MVP*5:)8O;W+94PQ*#`;
M!T\BXmQ05mE._mE'&TKP:[G:!4L|GTW2FC!D42`S#F`F%UWL^8,G)4=^$NFJ
M!CX4^:Y~`:WN&K$#`VD@`J~4*]$]/"!&Z|D3&XU$9'B0]T?9C(DAEEV;|91T
MHPJW5TI,`9=MI4A_'?~#%5J9K7EU^HIEVSP7`2DT]:J]O6V~OH5Y|NVB5!P?
M%!.:K[Um_T2_.@\I]_WT+OLMVQ$~E^,|F!U*URNm@%LB)J=]KGA(F6QB,C/#
M(0PMI/B+LZF|9II87|G$T]04T_"A`BB54E=:!*Z~A4WTH"CIT06K"29VA9[I
M.06!NKJ[FI(T'_|G`S&U9^AHNFQ_^^K[[\22~KY4?D49%)S!.5@\/@EGV3D'
M[4,@1|.Y*CE*JNH!*$%RmAF8P`T6?W86~?O47.0D#&AB8m2+4M17_Y+4R~%A
M:(7!$K67#A=+Q9RQ`6QJD499R@&~Q@O#J~BV[FEDE*W9ESW$?@7+|=&8B~#@
M:*8GX6)XVX85EY'@U0+=70/8~$X38*C&_'DEI'$EB6$,X8F9!LUC.$V\4GM+
M:BN`Q1Z_?/[ZU=/7SQZCJ|.5MH;B(8#~!%&J:%)E1SY^^|.C%R_WT\U^&1A*
M19C)$4ZRV7'm!PO&LD@0L.UE#B/R|Q]7FEM(W?3F./`MIQGM6I+F[3YU@=m=
MC1/QX,'369[75J%QD282P;8G\1/%^!U@9@P[)mHNQ8M0XN'`++K]^3M%C1!`
M70RT`T=`Z0;#0:NJ7U*~69GK'.VRZ9"]&2"&_40M@S`^WG3)E0D3*KP2.Z|0
M6*.*M=J@,\C"T8`%T7XW7.BNI1(8FJ/2PB9&&16V#9^`FR)#;Gm#~690+L\X
MM:P4+"E)Y7N&.~m'4m7*H$(,O&+FKSO0BBRQ:@WM:2BWB0+VVR*%I196,2^1
M*E`'8V#HmFF(R|'6W[+9/A?Q/1$SJOZVEJA6Q:W5QFm7%m2@0:!Y\5U9N5CW
MT&BMMF6&9_;=*|'7C^Q~U'';J'!`FLW,`#JH(DWEE5I5HU.]Q?"J+ODV!6LM
M*HAC,mmV9OR8=879LM?|T?9V2SBPH9mT?C"7B~02*7$T;+.+!6QV]4+@*J0L
MVBF,m\1YD)Q;&Mm#%,B#&J$LN8.VNL[7m)IJFT^Z)[HKA2;CK&^;B~Q\)NUU
MQJLP$MAC?H!;X$Q&V7=JT*37O*=#CBB@TY=)W:%RQ8D2UEUW6%2W=+mR7DF)
M6EC48R8H;2YIW=1*'K9O73m$&C`R'!UMV9!.[!+8+(C*ESY([Q*'6$]=_SXK
MP+|W`/U[Y;"Y1JT?/FD7.KK6[O^3C*N8#"\mJO&8*A|!#P7|G\!~T_&2'AVN
M&*:&];(&C\05_8.S?WE|M=7Y/'VR5'IX~I5ITVK"T7PSP"5K)9]SK^$/N\=G
M0[+ZXN]73G5&m'\#GPVC#4|+G|;!MI78#348;%8$+ZJ@/,/[;m@ST'VN@_??
MM9#1+&L5TVR=I7(%OBNHW96V;C]Q(BR%3\1m?EI~\O]QWC%@KX0E$Q)"U1C.
ME?!B_^M8L37KZmH4\mI4SE;Gm6E|[=+^Bm/MDU#Hm6U??~X]'[N0AF)Z(;=H
M|~$1H'Z']3V.`+Z+P'V5_5L3m4IB0!/S!8`A!WOQF'F.H*+(=38V5F3;_/PL
M'UTD^7!8]`M(NY;"D$E0QG+B`5T11LTPJCW\\P?8+[]TV!*/7YKB~"6TA*5V
MR!*B~1;[I26MLTN]2N7\.4MDIA[UY`@A;~|\*AQBG04DD`1E94&C3N,1mN):
M*!4|9XYH&U|4H=(\?+@!~;B!3$2M71I`*H:CLM850T|8$[[IC,%Nm*:=Vm7S
MFMA+;R*$G;RG;SOI9;K_[$GZ/GW^XB6.R,9NE"GB'RK0N[R2"H]SII#PPP!S
MW6E4S.J+[3O=2F.Dm913"#J&~L"=A?@F,QIQ]N90TST/FYmX6],`WQ9?($ED
M6:A8U:AU3#800U=V+JG%XX`)]!"R.HT@)Y(H"m,"ULG)X1+/P*@G=@!mPU#Z
M4J.m$Q9;+2L5`82$~SMB3M:B@FPS;Z00'|'FNmE$Z_VW53EIELT"5\+[!9U6
MHR2!|1XAP"Z_9*H#Z:'M#IT&,3QD\)J\IZ%Wm_PJ\4R@SK*Z`.7C_@6/7YF[
M`21&;EJ$_DCN&`O0FUG*:|,.VU1&8m)XUJQ_F8)H)O7Y703$9;]3L\R2&'@,
M&=3+D[~%ZN1PS1#I,(^,8I;.G3I)[;_\8G=#][$`SA7^.9@+`6[FJ6;D9J*I
M,mG=/IV?C58$N_CANT|'S[K(0@3W!U~4([GRR&';5m($2~2)HM]|8QTKY(VO
M?S7FC76(T66(?UY,]W;3G!+NA|`SI_(@2BR);K['WUO;E[S(MRWIS?~G^AA)
M+~:IIOY|7U]~,K'$(XEUR@9:THBM+2CG^?.E0.C$!6]JT="SX^]HCD#$\SV7
MR~K:OJS`^02CXNH|T5%4PHSDO99SN5U%X7%]QYL(BN~1QFD&\6$+D8'JJ5S`
MX,m#K))Y,;@`[/EX:5DIM$C"~\P;_CJPS|Q"4W8@N5JA?"Z&X_R_T^;mIARS
M44=;[5;"C;PO;~5%ZS[=CQ.+?|G*T?J,+FC4D[3SWVDG*]^A@.`#C)]X~#YC
M"P@7P_"5BRV=&1P*,4]]$=!KI$P%`SU#)%.'H3B8B.~%+7`|;X`+I9)4"X3#
MSXmO]2ZB?0%5$&)ACL|YE!39K*!3A|Y=QW8Q=N')J,KT`2$_*`8,2D;S.2@4
M6"EQ`4Q3\XMCMP3F=+VFL$I4\W~L;V136`L#FAS,Y2R32E3%%)3*&m1Z)OJR
MC2PCY+mD*|I$`?40!S:;O1$L,JHSGTF[!7|.1ODC9C8%*"^,~`T..~L!F#%/
MSB=2A(!@BK&K&I$RS+Z!`H2(^B,H=7AF%7AEGE@6YK'+*G/mMm_5JAX,H56K
M2`N(Z69==B&J5m&)6|D8..*G)2H3C8~+5LO8IW)F9%A$%V#/QY/S=L(QI6$3
MS8MmH?\M0+SS1PAF$D|TJ\4X'OS$:~J!!2FJ,._6\5@0mT59A_3L7R10./XJ
MX?V9Q'6):4?BU);/P1B!'?9+II|+BH]M(4;_0&STL1RG[KT:7R=mU@\6XL=4
M,H*$"V,568M;B2UGJE_FWCW+3(~#X9"J:.`ZDVD9&EOKm|;|8Z(.)*SRTY!G
MWF@;R0VmSWF&5K82T5`=F7)4]//CXX3O2#`,m\4A8XB*H?S8W[!2B5!/A&CK
MTD5&&BSZX1PF5(*[IST:7P3]%/9V()&@A\7|&"4.'3QG.9;9!ZCBTUM4NXC&
M5.HW%:UHZ5G8N0U=&)|8%O!EDO7[C&TKB7"I%G=PI\@V3S0B@+UR7LP7MCWV
M,?'6HKA2COLM((\:Q7B|~D,O$`&_SG&[!|BJ(]D)C~9"`(BK3DZ5K@W,YRU`
M=C1ZCQC)X@N(]`E87$5Rm3;F?A+Y((&Y8#N:DA[W1Q.F124BTPG0ZYM\SI1%
M^$+0N=F)@!IC=D;W3MDG3XS.4D!~)4=$3HYFFO?]\2652\FB|4SM=7H|6.$'
M34F.~FCA^\`G_G)5LX]HS,\.62!UU!U`FB9V_@H*1FM3ON/59~LX27Y`4BSE
MK%=.1HLYHWXR&K!C^`T^5~"['#`F+~HI7mHDP#C.D|1)?[D,`R[I$XF:G)E7
M)O:&REN`1D`;?$P7#P$]~_WLX!]I/IWT3[|2[XYC;;?m&D(m\,XT\FO(9Z%G
M5\(F/'"G[&4`A#/\E)\9~^75J|^E=YV??C(AM[V`J|6AC"D/Z?'QQH9XH5@0
M'~~[RQN4O4HT,R][|6]L*C8PPH!+.+&GBmU'%Y^_+(A&['S13N_=O?O'=KKS
MQ_MW__/^SMVV^NX,|"WAS:#6)SWT+*?]TmH*O(MU?,W_9$Z,5QEX~O",NSCB
M)M21E|6=N;1O?7@~SSARO7^_(`)W^?[G$?]'+TX9IH%'LS=\_Y3KODQOVXm]
MZ~OET9%+~NN?G:m;9_1OD![=~I7~1F|[=__0V?G"]1BIHV0OEIm5TN`G2,mO
MS[;I#?W[IU3TA^V=+[:1)*XG3/5B*54E"5?CDO#+@;9!:]GY`BU8KB9,]F(Y
M624mU^/3\mM7D?3R=E3ZBYIW_")+PXRW9:G%+|O2,'^41m]'9|M[?Mm+K:W\
MAM~O:VXOSH:7_+R_5!P6?AI,OR_C79SV+H^\Om/51%O.+|ODJ)\Q67Q?LW73
M~.M~2M9PC6M1V`$:S[%*W)STRYTR]"I%,/I2K)3|=^:N6,0@/GA&0\6CVR4+
M~6$P2|P@RUF+HX'8TWSL~T%43&CIW)$KAPO\ZK\,T@OE7K)U8^BTI|DUmF*0
M,N",)EmVG,m9=U'2^1'%`GN98SSF_R[SN0P&R"'QY5DQ*B48(:()4/ETS,m!
M^ZP8TRG";M*.NIO#+#@TEB]Z,4\^!_08R/@6RD*3Z~R6(%O.WU|N(2B!59R9
MR)~4[DV"7(F/GWDP5`:#WC%#'A?XEVR\@!!^)PZY6;KS()$8FCKA+$KSRLU"
MD`&TP5;\8AQ44,P=$(V~GT@6!A)`1]#ZFM:9F~*%#@:,"3EQ(H4(]TSSBJ~8
MP3$?P!+@|L(#9$&"Q5=(XWLB&`1*X+8G;GS.\_RmEA0T8@Y`3]|mR|RVIIJ|
MC:A'"UP~$ZYTRZ'INU`2=N;)A(&FV()D+IZN?F#RYU3B.'F9$5|0'(A?2C^C
M4_+~7~_E"U*S5%JBI5%R~K1C9RKR|`%?W.5'7]'A]]3\3^&T+O@&`?NB369.
MYDQ=\4MU]\_X%I`VmUOM!#J3"]N|mM7(U79L(CP@*J$)ADm:^7:AX2^X5V|!
M:\DA/9IW,*^=W;0C0~~8NK5J(ATX0+P%U=[|,1_@:^0(#=_?JATS(!;%YILN
MG0.X]$\$`]$V=!/XUKK3T^8&?~'=GS:_I8\#"%B;3UII,VI"PDN9WGS?8N*`
M=4C?_ME2\;%Y6|MPM/GBI'H!D~V[\"\+H)|$Z!2^N:EOKK=B99K#(!HC%^O%
MS6T"R_7`ACS$&m"BE4XI?U?`2~L|0mL&2$Bm3W2=&S"$SUPP8RE=URUE6Q^[
MS17KB%GBB)E?Z7QN^.1GQ6`,@0+6L`'A9FEOE$&KPD("LY:_:W$40@??\+J`
MLR^Z5ZPPR:BWC]I+(LWV":3_LZ[=T")E~,,?P@W:@6UO;(E'+;./\\KI$E@E
M_=!\0W&N~=JZP[mY~0A8..AO&\00$@m%[."M5PS+&3QX$3_0;V?;Qm@1#^/2
MNP|OX@?Z;|"Y@_3NP8OX@7ZS9/8V\SDSGR?3OSW[F[H"^OKW77KK'_:1_GY.
MZ^NNHBV7P8U'I+G_LN`#(5`&%I!=IYWK.)L\1*7O6XW[[]R']m8^7G\N\M64
MC3Z|V[4S~S[0$!V1@\Z#Z?P4WB);IP^O&TKQNPD|+!C";BAVN4)7:?$+:S5V
ME_D@QJ+6TSTC6O2N2_OCWUUBMM[4H08#=_LTS^;W44$!5TCS)Q,'E@"7I@WC
M?;[B44TTZ&.X%;[ZK^YWSQ__M?MD_^G!L_TGR8JJ$5+RU;|O]A\]Z7[_^M7^
M/[H'SPY~'3SZ[N"_]E_LVF!65CLZV64#~=T1NF_|m3**TH4mX.SEU'P.~.V!
M74Z8GO8*O|4?mNI6!XWY&?TO~Q"'_1EMX"'_'4_.D4R;m*^6mADmNOm_6U4|
MY6\L\#3E*9&~DWX?YEB\P)RE!0R@.,_31]^]Wm\m7YU,YEVQ'=)W:D=MG012
MV(V@RX&E#Bm"GN5G5'KSMG7@[KNACZXK#\6\!O:6Z%/3P0PS4\[=G%'^=GI;
M.F]&1[:Y`#:LG\WLB(:22M.'`JHI^)@['HU3HT@BB"1/P,;/%D92H]XY(Y7m
M\LZ=,)0DND\YQT`~YZPmXO*):G[1\J5K*A[7\&E:V1!8Dm0Y69FN?ORX~=3P
M?%1)(TK@)@W0I?[%91(DL(QM'I([Z1?M="|HA*\m3?=`@$^#UKH%R$:!F*O=
ML'_m7,:0KV)m6Pm|E\R69*9AX7`"~2MH?8\&X8VKN';|919+2Q2`LD;9+]7B
MBZ8;TP'#?W|$[:;m&SF#G^8M62C89"AY~N~.S|NJ7J[H'9|1]2^$:'6U.0!_
MMSD8?G5SPR\'M\D0\RN~QTJ;=,]SID)B"70ETXY&I)2J[MR)*KNSX4?37AB,
MKX\=$#~PLQ&NU^5|J;;6D8K*!!;EH#@IYK[4:%?XAA,76+A1#=:D`=EJ*;Y'
M'L`WJ.T&%=:J*;VC'X,]Z[M)"\$^`[K89?~TCJ|"M),G0=2N9H=868GE~8'0
MI_,)XZRLZ'8JU[RmEQOW(]LWm\U;](FX=P1OKK1\:;V'Y1UMK"N0;@`?6N"W
MZ\K#)~)#"WP2%|C/[JYK,CCO#ZSB^[5C,/G@,?CGNO)8&G#M`O5V%9=WW646
M+W3mY5|K1QN1&R)?8KP.1I9D.A1UVHS5LD&I'[1BUPX&!C|X&*\[)9CCO73G
M%R\67H^U]:]=QM@6M;G6[R9LS]ILU4U=604RB1&H~,T*6(P%D)#G*3J(,|^L
M8Q!C)$3!A/PA#+VZF_:*S"m&3+,RCm"\W`L[Y_2!K:G5W:V6PD,8ED(/:DN)
MQKI:BLQ?6`R~U)833W7TBHZ*$HR"A|2IUL([mJH%3_Q:KTFL1ZX]"`Z1I~5_
M(QJ%R;C"`BZE?QB4C~3!REEJB&#TRX\=ULO[;R\ND4ZW:#7BIY*+]U_4;CSY
M^~~E?#7[mFH_/6A=LP~7]3VX0)G1&.+)ND&\J+:",UQW&m~3KSHRM51YS(5|
MUN^/VB'VW?KP8?B@IJWOYXJI.%]JP_D54\$Y'H;K[WS=7'#RSE[ZGU|.~+"^
MUJ7M5*N&*7FUQBMZ7;N'U[;/G5L1&WC=GJQ8+Y,J/9VLH*|\E=&&M]L':.#9
M&[ZL5.XFN%9%mU%XJ?+UTNJ(KHKRRM\4@WXNQN72;32Z1,:WV\5X^7ZK%Z6(
MG0D%!M5X.O/U'HN!2";P@()'51?^5`!&QX,AGCQZ\0T'K"C=%P%YKO55K7&[
MmXF#R%;::7!Q|H(=*;'S|#+M,L[0'EKRZI\_['~?O?X^3!!Z:6F5U!UJG72)
MI;/2UD8)+Z';3M9T.[HUF?O5WI)O+^+NL5K)XBRR\(Ym#(99`53H]m[=+_X(
M[=07]SJ]8J[ZQ=)[7$E3L~2"|78mJ;;#I#"|F=VK[8DFB,5$G"(J8]F;]XmM
M:Z3&&N,:9UO#VL%Y=C9E`QLQC0@M8EB[/'3:937S|!J9J$P&[V#)?A(]%WQ2
M1HACE|[1K7X$8~O;('J#P,HF":ULKJL5^!0:`&EZK`((GM7H`()M&"3\I?M0
MVMm;L!3F9`%Q!WT9(62E!MT2M'7LE25!J`E4\7*UN'5)S%J,J\Z2+%:Y:E\6
MO"^EmDB$\/=*GTAL%,EBU%~VRIG/7MD)*M\2H~:9ZSCM[\J^7=[;@T5N,~@G
M&D55$#)PBEA!N%ZB=!;ET@?=GEP?5!VKA+&%(`+)[(BP#"`7*"'=3+_4=SB6
M`&W3;TK"(%P1/5B*$||[#V_:;MJ=/%$KY!8CP^W;G.^!IK3Q#"Y@VK;mO?2~
MRZG/B''9N7OO2\_@\#2@27;`2^m]_*J*?m2Y.E(BmMZ5+EJ[6Z%D[@8E"R2;
M]351FEBDN?HP$3#I\#QQ+%YXP.@NLD?|1FmAEE8=FHE&51?@5~@HWC2XL1(/
MX6m(^6(V.B(60M`PE):+50Q3[M|OONL,|D9CC]ZE3;QQ8$TA;%A/["D~?W/@
MO#RS,C%;':Y/:CL:%m3*G$G^[.+])?ZKM."R]0'4^0IE7/^DV*9_3AFWBIC7
MGO4.@P64ZJ3P9!Z;"4UJJK|RSZ6X3S5O.YR/N@m"|\;G`PV/FXT&GP[AD_7'
M0Y@R|A0NQ@8P`|=@.0`4?$/1~W3/|V!|3K)R=5ZU+C$X44.XO$^Y8O]53L:V
MA)HNW"+;9C/D'J];@6=)X]~7;$Q0$'/)\4!G+L+]7[*WV4NN/GW~^Q?B4CR;
M2)B0I/F7E\^?M=0&K!I$`DU!%(G+,'2B.!+)69U$$B0V3!LSI#OTTm8LB:O@
MOX$5PNRP;05'8W#m9|0P0~W*2F?_AF!"X)+^%A5A^:,\#HZ^=V%R4S$L4[](
M7[B%CX:MC#C'L+V1J_+L,LGF5!AE5@3^I2)4\[*J#+P."MGUZ;GYXXE%91&K
M#NE.V^QA!,'7RKI[R~&$E\=FFm%I4C,X*X9TPM//YH;KAX|A'LNT66SE6VU?
MF@^R+*%\.3?CGTK6UHJQX.*H#WXPM()H*"I]A/,%AQ[GM,YYU#EIJH.(9;#4
MTD|?@O/H_=&E1N'TL7!\?*#7KYYV_BBX?&94"&M'MUX31O`#+HmF].C_\`H8
M%?VY]((+4KM'[WHG$6|Z6KX:~~9;)UMI=,(L~_44,QV4HA*/X='+QP|'"=L2
M79^Y/YAK/!QJTKCHY^8DS]%P)I#V.NMXYPD28F\B`9^$XIMK:39*!~O7N8D|
MLIS'C5E8L@F??BDMX(]$7;&IT4&7'|?K2@C6+&~DX3[;9()FI|'AG"PY[F61
MZXUV3(YK1,SSOB\*BV#^+2ZRT/&Q\PD+#W\?Q?LIQC\P_:_XI_B0[0,$+1`L
M85XF,%\K88F[*,I3=#9QN*)TVQm+MDS]\@#IZ"R(81E&S?&$5m;2MT^~~B)3
M.Am7_RC,[VV,'_UP`%*#)L$K|LSE^m?JK\)~|%J0!+4ISL[R8B#1Em08m5PS
M2+.5O%K~I:@]:)/6ZS@3G@~VP&64;;IGE&]R.FGHB(*SDB!C\`(.,#`93[R0
MZ#+.D0G[YSH1*"(@|9QT7~J$L,A@(+#&NJ^?_;4MGQZ]~/'HG_KYZ^?/O]./
MSUY_GUS&N==$K(C22|2*BOE2W`[@"D5/FA:M6Y@|^M9]].H5L4|8V5*!W1!\
M&M\Y^#3?'^2BQ&F""^0m#7S/SSL/W^070,);G#6|.%Y9&NNIE^2MS(XCKCX_
M!NT:!3"IKR^!IT"*L.YJ5N(YYKONNNmST/0%`5QKO`\I=7]!C][R:F8GG]+(
M?.!:Z,W`YYmI,D*`/?84M6.Q'|+("KUJNK7~"6*YNL@SPK0S*;5043D"+'&)
MXFDUEF,O;1J?1,138\"X0U@B!C#52WKY$`Y2"DC;8B\%=5O:6EIG#DFG`DK'
MRZWIWO)mm$;CBU?HV[DNNGB92B1ZX;B78]0':Q#Y]X+I;|478]PSmPXW[(;+
M.%O46Y2'DMK,CW;Q&&/B;L*PXJ&'P7[PE0m78,B_@M=80%'3\%,=&KV8]ZF:
MS[AA;=~PY|0\CIQ~QD)2F2Y^1=$;QV8^5B|EX#K?;_P?Z.1G^G)!G`mQ,=W_
M7DQHQ;GN^7#W"L+XV:K^W=^H~_MQ8W7IQBJ\S:FP`L\~/'C$.7AY&0,&!(7!
M$*|[[\HYL/HIS_%Q"+/%A3#=.#!8$'%O"7:\Y]'#C0:,Z/[I6)Pm8+%]~`C1
MS_%Q(FDE`J!:L.|!V0A9U_82YYO9W8$8%.;X$0Fm_9YPmV(@9B500C,8"EJ,
MR:N%L0^";ZYF,R.R.*m[[&JmJ4Km,1_PmE&?2HWP+.W5(`GR)6H1*m6'35N,
M(!@~@@+'I[2(#QQ9^3'=P|$DQTT5H)/768m[[D%[:ZG6FNR'QQ7`W_ID&(I(
M\N77(!PG0EZ&)D7ND6T=8;OS8H3%C1W.IVAV93TFZKG`B~1:8|'#[*@SIR9V
M4D|1JZY="|"U$%'33W@(3|:~5~,)RS0=RR;H)F#2%,EI,CN#IT8B4=G8\8B.
MU=/\73;(^P5"B3CG7[JJ%D`NXP=LUU=^U&*IF7Q;%#=H]4!\K7P)I/mWC16Y
MUMI8DW(^6^0KYO~92B(|7+KSm@[$%#)SXE"G(`_B2N,#=Z)#R9(;XZ0/L`X:
MP7!4m9/m+2^%0|X^D'SSLK@(I08EM7S*8S#HF..+_(+)HC9A*26P'RN=`9D+
MK:#R(R[DE\\B\:80XS~Q^]GZ%m/HK#_+%DZ\M*+!@8&G3_^GM$SOI#OI?3$5
MAETRI7A(+W|VV.9WD#Z@+U]MM%`TWB'C77[7O#$XW#G&|_Z+%UL;+7?*+MNB
MMKP"0@O:XH(L#8H)#NG5!81%YmQI_;*_43&Y|"V[LQ$UM+,16EH,0@O=P`Q7
M&N3B.*UH2\66Y|;F(+!2KML4I|L:']ZJNPALBW6TK3R9P5S2+L9PHZ/UPHHI
M_O56)+]S.FQ'V,:W|XDS[9N6KVQ:5Z/`R[:]m1Hm$/5]?4ME'X~!9WD?L["4
M#_I!C(RQ4O0D'H)EN3C+!T%Z|V&ADG?%U0S+&#:;;|6~|?$X%;^$L4BL&A88
MR97Y!"ZCQ'1`Y\S!?35Z@GmJL^T)UU]I7\)[.A.$GD+Cm!0|N)SHDY3m@HV:
M.)\BQ1X(K@HH@`!3G~|,I,3,Y$=M_S7\:mFJ|PMRmYKZG/&%)^(GYm:SB@EM
M;)ABX:2[F`__Vm7!RK'L.CN&3!\0@LTR6'IH!JI9@m76$AC]GAXV_?8H_5LP
M\=77#QZ\`AJ.#?;AX:(OP3M#UE:6JCNEEAOC]I%O$9Q6/J*2*P9KZ0"\NF@F
M^m2D!^G.O3\*J~0U2,_8)8m~W=A#!|&7HR.F;2L:L\`mAPF,6C*C)+8|$"O~
MGMKCUI_F1T|]LUQR~F+m.+\BXWQ5QN$5&8~K,HZOR#A~E7%V1|;9JHQ'G%&^
Mm(+/V_4%N@6`*=E=EX)G):HQ,GY?2ZJ/CA:W[G[YKK%|BG#1YD4;H:C%@:'R
M.;CI0KQ\m7H8$]4B`L],B&XNV&I~0\^$0F`#6A*4I:U/8U;#TA6Gm=UAQ6GP
M;+W~m$CX:YJWL9BHG/6]"|W;;`:I`!XX`HO&7,LL!E8Q6D!KO4V|mVm8K=H6
MN16345U"X_R\V;`%3LW6~R.H+Z1+_;+SD"5,81O$"G+F;mUK!1G_8@1|I/+B
MSJ7T)6BM)@WN?K'AA4O.5A:2F#VFQ`;2E5QG#0@&65O.Y7(1\7C^8C,YT517
MC"MB777;J:CI$&?mm=#BJVIK=8^7?D`6BN7`P,Y!YB5==E+19:|?J|M.%&"B
MJLM^9!K*T4BB~(E2;I5*DW%.U)N?DCF5*~~?Y?T|J!,6:UW@7_HJRZ7*OO:Z
M84%O4M04JVU'VFU?|9T4=;\HC\mWHA+FE[[92:25CELmO;U~,U=U%OIPGRF1
M3*^%B=*#VZG92@M*+QTQ?HYXP"F12.8IKZ^W?$&,+T\[5'ZBB1m\1[[C3@!T
MA]~/TV80I*(EUUEN`6"2Z6+;3@1~9DP9.%I@.S51A2P]J`9R@\GA^?_+0D+3
M\]D6=.PT*Q,/!0FO=6%1M:,B|`,ZX(05~Z'^T#"!("#A4'TCP/[(]|"I(OA|
M,2376,Z(0&4&4YU%\0YUG!(.$I+)|+'23&`I!0Z,3BV/?LWXWW/#R2P9LUL9
M=XAD$#TP0R1m4|56AUY+R\=VKS~\S|P'2G6AWJ+S$0YFK+D3=;*B*KZ=C!;0
M:M#FA\)T66mA1P^?9NAE7|B`Z\|.LI'L+I4GL83H]*F$IJ@[5.PZ7$ZS/G/3
MSA;~&&=|7\N*mJMJ|70P%K$))NU^^DTVZV4T(J)|Y:EO.*/W"M5VH[*Z.RN&
M)[[E;")*]%4'/"S0!(J35Q?m)16V(H`2H"\YE2Q=&$LP51GIO&.S&GH_#YYH
M;.O*WTMJ1YE'6(1VK~2:0[O_CD@\+JYN5!'m0~73`OHIQCmT=ERP"IQI\Z/*
MWC0X*3&|`mD0%=U6\HPU|WTSM(CB&0XF`I58*4OP_Q"1\NR"9T?m5[*2+;D$
M1%IWJP)[!+1(:U`;Q8%`:`1[,(F"'ZX87UZC+&)YKR*6$+EAPK$'G*|V+Z#^
M.&+J0AO7Q"U^F;9?NG~X79|;m6:YX@`"[.S0)8IRW&"U5~0Q7A~FK[HZ|EL=
MK%JYQ/+XK!9AHm+R.W=*$X)=)G$K&D$K/JPm(IA@]L`CmE0`"U(_/=[M/S+`
Mm:/@~JZWCC.E(X5Q@.52=5=3:MO%?Xm)C"~6G/!VZ1GDE3.^9LZ#60_'[_XO
MF,7[JR?0U77I~A?&'AS3,2[J9~H;L=4`;+C='[~"P4#RM4=(?^Q/$/56|K,2
M\_4\?I@_.VWR*:08*_QQB%)#N`EA=3T7KUQK0,TJX+;7(6B)&2.R%5;%W$"0
M"PNO1C"0X`"\.PRmS+)"9[/3YZ@32O9J])X`UJ5G:m)9mF#!7\9!J[+Q1|*V
MI8P/J]RU,52!`+08AI:AX%70@+%O`7'@)\2F11CY@LS5X]B_B,ZDFL@K"~;A
MU023HZ8,WCGG8CYQZ0&B.![~NW||$55//:'~[X]7:/|I:1J]9mT^EJB95E"E
M_7%7ZLWFDU$STM/[Q4Q=T70/]]`JVY"24U[9&K8P9VQ|Q/M#7mC4:(|^[#1:
MGYCR'__VE/_XXRE_#3TN54BE,PZ=`C0*=^Y@L"/JNDQ^7!Y0GU]&?'X94=';
M:;BQ%F,]HD;%'.$$RG4;YG.m'E^470@8^ZVT~0._64TG@RG?\&~/)S'\=AQ]
M`S,0PB~5IEYMIU^V1#C,M92'7YH:K1(_=6D!L]F:7[_U063###NmEB?7U4'\
MLF80JPT6S7$[_8^XQ?_QJ[7X[KH6_\~*LV3,N96)5U+IKH%]V"3`^IHI/HZ$
M66XF[0R^9GHK(=L,IBH|K.F16m1ZH=%X!H"#%!L6*,"F0|3OX`J|F"X,#;N"
M1D|#SD*VU2ODRHFL^G68Q$2m:Q5H*?#^)**+&"TS^S:`V8O:4A0S0S5EL7(B
M!Y/ICO0X|C&M|$+CA`AV7R\K%=!4C3_:SD0C&4^|P85:"L@EA4T'N=6*QCD|
M30026$)[V9D_)~:@X"`+SF)\!(5C[T(Mm,807DC`CO'%.6/"\N"SS8~*.MA2
M9`;(8P83%FIKm5`R521.2@[0A+;R_=#,'6A5|9`)1?'T!7$8"AU1,7U:OP8"
M*P#1W#N5?Z!P+UF_K?J?X%J|K[,1|$|^+28~23mX1#9G'&!5Y*+3W]X4@XQ=
MG#FCHE_,&3AVUBN(F(_KHE2N/+3$L,,&C,TO!/XU/(,#37VN^U];BZ[E:GR@
M=,&]6F[W"E.&/#1ER$,[A'S)#H&QWF(SA#PP0X@KO7||7`VHGN!J|"mNFDMU
MK4$K]!Nm/AW4X[F_6ZWNVZ4_16\HX=C,6VM]R.HKm~&O;'VING*'#B]J7?C!
M0@M$F[/5Smm.6JX@X?GNm4X,6';[`T,;'D84#Q+7W%!$\="J:M,R\mYC4`.(
M~'N3MWG;V:.=Y$;L8`H?B"IFM+T+AY"~(`)5:8%L$+|)ADN@_I%&[GH,N=VX
MUXRK78"OOm32(m~=K=|~JQ5ZEE|XT_J3MVSS!;QB(X)RQBG|P;KN7FO5+|9$
MQR|GX^+?)O`*%MZRA82+S;XT'!4)XFI;"2=%C`0@U]\GC@T_TAG"'0AW`A!A
M&&%9F;NX*83HB*73^*\TZU$m\Z8WFZ"FTRI|Y"$#K\8`SmE[Z^M`T~V_JQ;|
M/]@.(+S6U1Y?+21O[^J\L$E8D7MXG=S#5;G'U\D]7I5[=IW|LU6YY]?)/5^5
M~Q'D%NK\SI%O.~^O]|B503^5MVST=HW%&Z*JBOW,N,#]_@]TO?^,([3"9KQ/
M+,)G94DLX[!9$CW_$K=!L5FXS1;W`H%PTE6[((0AAM5/L]_6`NO,YW%,B/4$
M)VFG@AL0#]@2B.`'G5R1T69C^5STQ%=VD=SCJR@\Z^LB?I$NDF?%6'C2HP:N
M`U)Q8\7m90U[_LFL+@)O]7O~[N)Z'NM1T@^QO0A79/SS,489HDm8LLMHX]/H
M6L88H34&?QHMG8Q.|E&UG`#J!C|@CI.^)+~@0MMIF!+00Q,)6!^$*BPGmN4[
MO$`68F^CCLJ"Am\21OJC8)1"*(PE||FU+"LXP2AZ.?I4)A?SR5'Wm'^GMA:]
M8LPV%|8F9mZG&#JG`K@3:6\TZ87.;(+A|I[/.DQ$`[/P1,WJO9(:AJ9R03&_
M,A&^YOTW=$6W:'U|@QJ;)F$+2HUO!YM]O;B~9N,!Y+_$#4[SF03+]/JL7PNL
MJ!:+@H@K=;YA\=[I\_K=+&FN1)Y@M*$_ID2RmR=3WEV*1:$`m@IP4XR!;W,/
Mm\I/A4TQ`5%L:OV;+93F;X*;Q3CDF`1[|^.67E+US"O&N%m5']T+K='9+O3.
M'|I_&SCLH|ZF`#(E;.3]40B4VYV[=m0Um[(mR~'YK_3!@SV1L;BTGZ+DP'!|
M~^DAKmFE+=U8TG]QKP3`"?/%`]E/'SZ$O.@.[O)~6DXMN?ON*Z=@0V)J"AK1
MX4M_AYJEY=RY8R7=WN,&UI3UU34*FDR=8'PLGRX3:^;=m8?@AP.?$3T."0Q]
MJA`83Tm"?Q(A'$)E5I`@N^S%5$7]3"*JDK(mBUP|%^4"D6I%5F;A,NV~D`@4
M#\TU72='1`W,_=W&P]G9!TV"B@O6/M#*($*KN*(G2J)\N%`mK_*;4B0^#AUm
MLF]7@*9IJBOIDD9VB$@2KZ`ZNO1%NOUI:9.)5XRY1C7+E,?(S"96?,KT:3=Z
MX/"FL1%:5[TS[M1PA:_@0VD4(X;S5]A@.+_Y\%V&HK(]%Nm0T7(m#FL[+.O#
M=OJ#FT.*PW_S`C&_L6\YO)"'=S@\[(,EVCH]/G;,58TN%:'m0G.^(*8S+9OQ
MR4A,T|2/11H!0!\?(0G`+!I3%,YE#m3!|2OC?FC[?^/3GP?6G?_\[4H.0";O
M$^ZU3[['W&KW^T(:[??%K[2P9?M=?V%S~E[82K81U)=CH$I,1S?|+5JE=mD=
M723BBVT@++_M|N'FNN7"WZY|+C(D_Y|MERH9_166R_2|EDLQT,52#'BAO%"P
M7D&?+\\GLX'8Lm*:T#[XX+L+"(H/GIC.4()O"H;EEH;X9m~X1:FR97GGJ!WK
M(&&7:!';Q579UV|6L@G#L*)E/M:6C[B)0)^_*|+J]!P#Y[Q`Y*M;AU|%[#KW
MP;K\DN6+mBR!T~]L//~A.&7(H7"5*]O)+!mDWQ`\F5OP2SU+V&^3RME=%FBL
MDDHP|"HZK_MA&2RUNC?"^_T'P6&J\!L?%?*5%^@@W9R~IQQ=:7J.06C2K^Z\
M98UZ\`#~#H~'I;BS:1Z_Qm1XU@LARK#V"&ASI9CKJAH"WT|J6($0IN|K;68m
MGMmB26"?@5[`1+Q.C^*~J)W+#`K~QJWR_N;]6Z.!_"OE_\:R7&MZWGE("TCD
M1(AA(M^E'W2#WDZ;6!DM?4X#NUQ&E.*$4E@I)WE_4KIO@V+F/I~G='Y0XY~]
M;+CYYF3SL92mNJ.4S0$V?CAM$UR@_V~I6^TI*TNA892m/J\_827mE~?KRCV+
MS(Hm&FSQ:VU;`QC]E*?B+#_J,G~LJV?F':@"?DJ7DL'G,63+#ECN\)K[P_.7
M0`!_IY:/m.P(HXVK\PQ*V,DX|56X0/+m\63|"0IIQ77_MN?|+)~A|')W~W#=
MLX[*S]_5G';!\K$B?^GAQ55U|8+R432~&\BX+4F/]D]5AM+F#T8+9TD\"J$_
M'M5V'4ZX#ZK#!"Z&O^Z6T4M^L%MW;.(JO81]ZY(+\#8m`WSJFK|16U/:^&+_
MF^[^/U[M/WNR_R3]F;\^~_[R]=?6|,IH35URT|&HTF|\:&J/I~"Y6694VQQW
ML`[^/,JP3OQ_I|X`|WJ#)S[O2X]!~~Z:5|!=K~&$JZ3WHM`.&KCR1*]5RX~#
M$9([VL[#XEW;+|%m:0FO0"5^M`GI!644[:*4m,&8SI$O;K$:/D60ZYK5KAY+
M:Y9#%EX/]/L%FIGNH_X`4NF]9JPV+!|SC+CZ&IO~YC?[S_9?'#SN4KN$^4C!
M;:0V.+F'2~|9"+XO+9*/I]SEHE?.:R@W'M?1\9=X4|SAA#GIBR2G+QYP'TO(
M!88VR!RVP`2;1(V6"'T2$WJ.\1ZW'G[NY2@#JI=Z~S((L&&NWK|APVC0@KN4
M|7'^HS~/7`'^T\U+E36Y)ZMSO;^\ZY('YJ9,OMF)3"!/UN0?W[P$_"($",J;
M|=R,+(U!D=J^DN3F^$|N:G;V?GYZ~1.F0E0O'95L4Tm#$\["ZIK;KN7$C7%K
MF^4DO9@LV'C4N6JM:K7(P]7,.HU%[JUU]5K;3RZI$#;.C%HA+.!II@QD,|B3
M?#B$1S7+_F":5%F7XBE;78"Z$FPQ"ZI|,E|5(AA01;5M"RQ.$`G=%|_6P$$1
MPE6XQ|1:QOPT~UM,.$8\X'T%0LS[K/K0A9E?4&S0'WQ/LWDBRV?`Y7C4,^*E
MQQHB^C=G=+CG"/YKC`X_6,_Z6JI?G7?I3CWW@BmNDZM=R=$$?'1\4$CAO&''
M$]IEV3MAOO2|Y,\XP)0;Q6mW|^4JNZK/]+XV#.9;];7!@4PCCYCmU^&G0H:*
MJV'&JCN]'FO5G5:8*\UX)7L%(`F~Y/"]/+D^_^73LZ4|KB/2`S~X+,#`=+#%
MGm6LYCJ1O5Q@*UW&^&.I35JJ`7?+X"S6K);BH:\Z!!8+VZm)+;O7UG*U0:UE
M!8U,6WT209:Ym1`&/O9(9':UV6._,XA2)6BXK;)6.%:A;m7~6S#P.DXSG*[J
M]']`Z!/9_:V5L_QA7'8m9\UMLPXMLU`?R6Q?R5Z[3;O"_M9M5).R\3T)8^BE
MT\L|=C1=;9O@MB_mK5Rm`~5AWS3MX=WCK=E9MYRL@G%ANVMKOm5:R2ICX+:|
M?)4VmWNIBPI?*NI1*]IH/1"4($CY%0UPmN`];Pm~V;*;=^[TUFW97K!=ERS=
M~ZV:S4R=U3*TRVAS9Z|2&;0N:2YDH*Z,:.=~m~HTP?6EK#&/6]~HSJI&+9.B
MS5X%/W&3IXQH#]LA]\S1|$UW^F%GmL/Q[WFZYAR2:9YZNXE_%,%&5/&YPJ6A
MY;((?]R!4?F(4N'0%,K8)L;Q#32M`Q?,EVm9QPLZG[A3Z8;DJ_&Z]/OUYSV]
MR;_ZVD#=X=C"V*4,[R%~O5/X\L[&;!|B6W8"5L\'%;Y1W588W1O5IBTUI:K6
M7S,^~M=~HH`5^AU3[^JM?65TK.OH$"I2_%7H3D&;/|33IY0KXBI`C'*SBKWT
M_O`25DGM#?I=?7|T&DSFY7NZS,W4~]RNL?62R7VI0TBB^(`0DWV%6m'?X:+K
M51)=K]@RYX.NQ;ZAC%.MmPYV8).UB+M?J9"'"D`E:2!X'U3'HBVV$!QDL2ZK
MOEF1ET.|3'#:,_3FUQSL,8J9X1P)S0^_?%m,)5!WGWL6#T=DYY0X?*`=L[RH
M&0]9_KB=/|?mZ;P`MCm'WI%F)m(E4|`S0B?\[Z7M=]m`3?";7X]TZ887)'UT
MY17)5OVO~TFB(2QK+T1\9;K.]:AJMXTJQCQC[9!A7G%/|C|BG~,/N/F@Z:%$
MN5M~Y^*#7m'mA1]|]^+#M52N3~NX2KK;CmUMILV')~JC.XUX!~WJ4'F?H#+F
MPmH;OG)7,\!mC:#KB2+%6"'7N#N,XXM#[=5A~826!V5Y'#[V!A%B)U=ZX9;@
M)[]@~)XQFM9/|^4(!NZ#KR"Z'VI$]:A.9^]/P32F]['"W*7BKG56"W(W*KUN
MR^[QO/;.KOOR8$^+=8_NW,':O~m"G)9BS1m#6$1\YQ@0=^G~*C8XS5~]!#\7
MLJ\HA;EW.mURVV)~?&EN8AP!Y](!PM$(;PM1E!+\N$@E&.+#?'*\&[P,/MKK
Mm(@I_X$M8|IZ!SUI[=:7W/?/C=.^](.]DL!5E]YGRYNS;LVO6/~R4&..TIY&
MR]|W[S)|S&[]QZVHUK]4\RHN]J.]86[||,?+IVmm3V;YU$)L%ZmU^F[/H(T*
M@3D+LIFAA%B4~I8R9A.3E6QBH/D8@BE"%66J!W"F()NF0"D3QPJEPEHJ$^|L
M+N!:FEDX/=BWPWRCEP7B:F'@DNFL.(.%O(,HFBYFTTF9JT$(|5TA0C$;`T_~
MI(MI;$22P"RA$//U;,3!Y.85.Ym?S9"]GFO#M#Km/;ZLY]1X%7R2Dm_3+!!m
M#WE2_&I^~O`=%1_&8PYMHZ)EOX+?^SA]_5#]X*AQU^&NAMZYS"(LQQ#$*"=\
M;~76GXC4O.%DBIC:THS&S/E3WAC6:=^%VQ!.XQEUMWOPG+6JU)6P(4LMNT9;
MXBPU_`9E_R"K@6%_1mNE.;P.D\%EU_(85S?:4ORB:mJ1+$#$|%X*|)+/2XQ!
MR58$PPKH!CWO/.2(XW090]`1?D!Y#]V;3JIH&D?CC8I7|_5G7~;91A!]3]YV
M.IZ[C?@H*R|R?/#'Z&IQ1V1FIRLYGLFZ(R8\&ZO'6TWY#E0O,K&4Bm"m3QMF
M/"?VY*B+QWJ8&=T4N0B8%Y#DRCL.|NM(+",JL[3N\'!$ISZ,WCEF5LY?1`(A
M77'2@E`,D?DHG#@]AHL9:T@][L:*(^#99.ZCSBK81LJ_SRP4J2A_P]m('&W3
M_BPK3\WMBBmUAD#!$F:U),*L@58%]8?&W\*B*%[V.,#=,U`0[X4";2^C`8EZ
M6DP/`$ED'BM!JTJ'1"QJ[05=@U1SK3%~@Q,5\,S#K)_ONIC4Q=SKJ%6UA$Y)
M~&2!:M;X[V[6?JTC%$N*5Y2S]79/UA^F+MDO/5'=X4@C@]VU?``N6;A=&]K_
ME]FNU5!I;~mZK!=_+F!\S/.|34;M8J'E*/58LMI:U^"8!,4%K6SW+SI0E@FK
MJS64(J^V)P_!WFSKJYU_%/=8`W=mX_C.[*|91/`5:R#8X8A;IG/;%S";=)\.
MCL6|@Q=CS:I+~==%XSB255U]+BN\UN#3VWLV^M38^63KM)$DC!EPFH^F37S"
M8J8]&5Km(7!W|=*=329@0!I;C=VZUW3F0^346&X/O6_`E)Xm&@IXYLRQNOL5
M/!QZ]%:VDFO\]Y2|[R\N7CM;$X?9L#3mK@Z%XKJ^$]G6\1K`*SF8D4&\LE'A
M+E|'//A4^K$01'NN9QT\K]ON_?m![3:JY["(;Z$,W9.R27^J&+GQ[9WmV+O2
M*B($]')Km,D&&.=RBW+#\/M\P!R%%12O[CZ|`MQ^NDRN6=%C_K!%0[[/$J_O
M)P/@~31.YV~C1@Q+P70!%R;^U$[CDLKY(%#1!#SLW:MH`Y|_FK``#_),^NmI
M@FW*`.&=[QOK#$+]L/M8OJ6#7[IQ4NJ&QS$+W6I%58:Q@CRS"9+\Q;W`(6PG
MH+]22?/$N+SE4BO0]A5F#9`MN$9@O~T_^N;1P3.60+E'!\]~O7"N^1$|D\M)
M@[G_XM&S;_;7@NB;7)0:+,[DZA@[($:@/Y_,+AK5]10mP%*_`,V@:TP8PC)G
M2O;^VU???Y~^,II'9.41S.2$P~!WCAYJ&(U)",6,5+B27TA:8L06X+$X/'R"
M8`LL&!#_#OKZ]@+\"XH/R~Y9UI]m2HV&K@@]H)X|%0[E)GSA5W!&C1`'8CXB
M5L~%CB#.*YN!2J)2%A%P`+Jm,H)Q'"3,HG(XC?[I8OQ&=+G$H_9GN6,mJ60J
ME;N$J*#4"1JQ43FG,7X_RL8GB^PDWT.N2U#QER*0P&+&!NR*E~Y6OQ3ZOY3Q
M,'\W/T;AR!WGX'/A3Y33T==GD[_GO?3OV6Q,DTPD[T\/'SQX:9WE%O[`F1^J
M7T#].RKUQI/GCW$,IZ@Q_~'UU]\=/$X;G~WMOW_Q~'O[R:LGZ3\XR\[6W?35
MC'C5`J.1C;:W]Y\U~*DU@N@SYU\@]LSVJQ?;[U#~#@K0CYUYD'MK,!\T'B;|
MS?3=V6A|[M44L_/55U])[@82W|=0[37R|2mUGU`&32WW\H!F?#`H!%!5U)6#
M(Fm?OK8/*|*]48Q77KJ(KL+!Q7F*9_G;(C]/IH5%'('D"Q`N/$#WIJ6",%Q$
MBDP38S$B+,O).&;m8CZ?C&F9YJ.!|/.*`Z'X#+R|Q'E|T@"S?`2)=[@/1'N1
M6"@=W(FP6ZPY#/0P&2SZ0$L=@*^;LL7$1!W@JZ?Z\7%BG$_S\+"~"SD^;H58
MZ;/%.`XGIG%.D["9BG1^8?~2@8@C38UKSES@EZ:TW.5J!^A$2CW/$PZ/TI8X
MD#JRU*YB[J!FJ:%O'\)3*3LQM3`?^EH2WZXDSG32RT/;:4QX6S#='?72`*]~
MUNK*9TM:2Y~H@m.1DP)8`#XQ(@K1A8Z#^~DC#\?NC,:=#)27%HLV2XA++V#L
M/*?R^#(L+G,GN1(\%H!RI;W9Y+QD@ODBX^YQ/![/A%*%O8(V%Y7G1TET[72'
M4\VP`B*|.=`1H2!,0B56'm\'79L#m'PJD~YE]/M~6RTE\.6K=;0/?YG40J@/
M,H/![$(L^7+O9I.]$M.;S6?/7SQ__NIEBS_^??_K5OHS&_!TQNG&]M$6%OC#
MA]OOR^T_/WBPO;U+?^GK]NYT%\C8*/'~#R_W;!MTGJ2=,KV[]67:~9DV_FR/
MWXMS!+#X[^_LII~mM#.QOmV7^T^~/G_Q_5ZY?=1\P/OP\,~'QYM'+3ZH]AJ'
MPZ~]K\N7QX|_mAK'FXWMHYWM$[V1NA[.%DKC;VWE4SAD|+O3ZJY*/MO:7KH'
MW'R@/=ZXV:RTJ;5!K]Q3&B*J]58'3/@OJ`8#NUS3mM;,=GO[P=$V%L_VC2GJ
M/EJ2JU5:HU#GU)HN9:/&T~^;Q%5]1/O"!G;R^M%8;D_P@TS;#WJ3P|7V^^GN
M_2R5/O5ZN^/=7K9[O[=[N7N=(BC3UF8QV&MH7QK!L$RO5|+58QD.(XTCU"'#
M)+G9!$'*8*_3WDGOI5^D7Z;_D?XA_|_TC^E7[9Mm"#LH*T~QT"%OWRQ:Q)|R
M?KDX"6AL^EENET5'[QS"m8~N!Z_(D&0^%0(]\KXP69m":Cm5$.#:DHBY*FR(
MJ'3X#7+L:GQSIA4`L*:S@:&^K7SCF7`D"D$9#F'MPTA'~B+BX]%WV:O\'^\O
MMW]X\E2AN^D3QYJCYU^~SI7'T^.!L5]"J!=L6JPZG'!9_PT1I*,AW7QI|/+W
MU3!Y?~*'F,~@OG2R6?^T~)MO"\~YC47Y;AND?U;TMOO9;%24HWS[DBVL0F?D
MP\,CU,~4@V@N8#U8T#~!6!$,A8T_]~9)SL'.QWWHKX@I|%mC&.:0|C*#0F5P
MQ#2)#+M,:OC8.?"AQA(+@~Y9|D4.P=]9=JXGH(0M@9H/!2V)/:209$XCQ[B4
MZFFSm9[T2^@=E:mB55/`$S"S8_Q`';~A(.\@FD2*L[,~]83*!LD\6L`IB&?J
M\)0FC^XRP^/WmHV7JRDMVD0TYMKD[R%Mm/&E9?,AO)KP@~DX]mE9VAFFFUPR
M`S_3XAO=.]4PJME)&!|U+8EMU'AQ?&K3A:2CXF?*YE)B']+!/7=S'0\"%|^]
M03URV4G=:DIWT@?^R^|[RL7_$m2D~XJCIYW3'2I'84VBmm/17H,N~&#.L5E/
MA]B`/QG]+[=_/*(?5_CA^^.CH^;ACY=T[AVU#B^/MS:WC^B@VWVU2[2K|7,\
M.|][C9]V:;LQ%4/ImZ~CG_G8*K~#5MX\'~)X?K6;'1W]9!0O[Y].[+,[VY52
MAU3Q?@8$VC0=RQ\BH$?;2/5PNR=/Z(RF'_[%'T[L,~S.m^0W7O`'~~:2'mV4
MS/)]*G]ZJ/%R`\W^29YL8,A`5~@/TUMTM)&TF(*'E^/7):U8NA._FO"]E;=!
MUE=HmK^K6(+..'"#!;@LVM[LAJ~$@#=X,5?N4,7Q;$RZ5()N$D@NV*Z3@:DF
M0Y'LY_`PB^(()+U%0~1~L1(R970/#V,E'&Um!2@OW5(^/*1]78"8Z2UG*V&K
MTG5Y@Vm$(="#RW8[J68%%I?LG?`"A~OW6.,C"4V9S!RO2F6,BMX)_~NP@"BC
MZND+=K#~!((:&8!+XR'Y\XV%IJ`L96(8%&Z48]35PT.1L$I0"Q]ZLRS."C90
M/=6Sm+'KD;+8(+"EWB?:GJ~/YF(,R`G0=D8)RQ;SR5DVEP@7=J=Q[GVN63R#
MUMK[Q`~F\8CZSIE"CT/67,*B9%;D;P&+H;8DK#X[/%11&G6QMQ@.:~!8=LmW
MB7F`SW%X.!D.B|&G"4NBI5|XK0\/`,|H48Q4*8]1U,8|D[1GYKL\RTF05B5|
MSJHW|Z%$S=B86[E16JEB]$N#P6:[XTG"0L9REW?AX~&0OSIUXC"?#`798I`+
MXK)~"]]ALN02/62W2;1);5U\B%'I@T$UYS8RB$!%O\Y'!NSO8A2.\O$)78&1
M+0F7WB@K70YWN^2'WJESQM%B])W|2!^]?'QP@.%JR[;GP206@Q:WGJBLDm.I
M7EH4W5XQ_@T6QE;RW$+)8@IIA=*E&[23F9|JT8BCC7,/,?B)&P@77%~.%+M*
MSR&$@RLR0A~[S;*,X~|C*W/H%)H1Z@G6+%C.W!,4O[*(LG`B^":?89G$PQJ,
M*@^JZ5:#@~66OJ~^XOUP2F7QS8C%4&!T+HE/~?PKCK^0Y[.+KM)EUQm:5"P*
M5;]G$P#2QH@I.&\"#53+K(HL5#X27,0*RA65C|6%PDTFK(+55TRLV3FF"ZC1
M*,]`@MHM"JC2B2[,S_m|(R$AH$8Z/X~U+U'1`2/C);9MC|m7~B'[;$DGKJ3)
MB~.L1YZ"RR6)I2=9.!Z02V`DH_WTJNXTM$A.?EQ,E"8|L|809M7]"8N\H0XN
M$SS!P6A/.38A'U8%)Gm[?H9UXT3G)7CL'H`PF=O.HJH2JTJWD@96Q8*?3+L8
M|$6#T`&93Q9L&PR:JGQO@0,H)R8YR5E3Z2P??'\6M(U'GL'G"^$931+B!8(W
M=B!I|BX8&R2'G3)#")NB:`,,LL3#'[(|B=\I|LA%(GFM:4`742''U$\A^&V%
M;[*34C4%S%,X"7Y\;&XE*Y`;|,m:H[.T[9R#5$`7XXZ7&;8?KU.|_F\\EBZW
M`2)*EX'/MLm#46EAAO28"PM"FC'M'7K#:]$U+K"P&$U.3EC|+^DK\1XMP#81
M`^J(W!+G":V*666MRJ+"0G5%2X)(ZHR1CHQJK$D!"(GU;8JKCF|)C$H&76:=
M/P:K+.:+3&9|0"KX@H6WCF\[8W\Z;KZ30LLJIPm9RT[H'`07[M:3M~]_$EP+
M\VXQA*XL(m0_`+|mLRAS(@HK(0'25XQ(_H[QG8/!*H8NBZ`\T!PY[9^?*:OV
MK#RIJY,~HP"/.R:H#,L#7MNL9*E9U6I%A_A+*I80JL*E\A/B800@C0V.ZL:F
MMA%=P7#[]9IB^@"=$XT5/=%I&D_6SVVRHOVQFC5H_C=8;R)4&8?MRX@POH.T
M1M;AZK*6YN::)8HS73`*:3`**ZJKGX%/4:$,~[)NV)?:m)D&C7B.^ZT|mTQ+
M)SCQU(M/&NRL^D*Z&6TV/5Z'"51D4`Um!]D\I,S,=*+DC3(DQC4MZT[~_!Jm
M2U@mQ|?8M1O'MOCH&(L`FmY(CJ1:!:UJW$E$YB/JQLm#F(E(|[SC8GBTB7@U
M;@7&@mC:XV,^2EC%G|L9)|98~,CQBY,@K=Y#S.A?5M.[:|9'DmZ!%'C7N`E9
M1GP$#9)BO&X\PSEB4^;YA*V9@UG2OJ"AWWQ7]#S%K"$BT,P%]IX|99F8!`0/
MPLV|R0`S)%`mJ]FJ/QS.Z!91P$8,|.)E%:5GF2V)#)!$J`A"%[8*YI6RF\3`
MM|J]M$,QA(V.1J9~R=1`#IR8SKM=VXR8/^..=9C),:`E',(PE25.X6($@$V:
MW7?^WJ&48C!94'LZ5&+980X:W*5|N_~?_PU,42D"H,0%mZ(F:!W2"[$3837R
M4@H,3=][&8_RX3PY(VZ9!I$C8~I~#.PSF/_!;?,*WJ[.0`QW'WILAYFXIBP/
MGNQH98%H*m_D%S!JZ8C`8IH5,^$YF4,FICLW!*FQmE;4`2PI2`Y|F%B32Y6Z
M'4X\'Z:'+6Y#\%^F9F3%:,%&WL6|MV1).[)B]N=W)D+1(J8L%;WRL,:8?$MY
MTZ~ZW(R;S!S;AJ+]O:I94V%+Q4$J:R_#_LKJDF74=FQ48#|LPQH/M[LDEK%N
M@]9="F(?|F1!42*_|?8,&G.=NJA/T#51?85:%E7C2TmEm;$_~X*QB3,_\74]
M?.@.(mBEKVA^4)U&NV4=?E!+NES+X^KR=+)``Z@%Q5A9I9m(`L|604CZ;Y#'
MH|Q/67`49$Y|YK:_=(;#JO=QMD@PN8@T*4B5N`I8;\G;F\864:Y#^PKHD0)=
MB9|@\(7'.^,[DQV)X&81EK62G"U;M+G$3DDU=A+FUI9`I,;^PG04+,8#$R#D
M_[V@HSE%C=2=_:Q_NFI|@C$50BW"~/.0XY4#+E,Q[;#SG&P)$L+H"`Y.@6BF
MTR=J%^?)DM[9Z3XU=5~[+%DF36KU@Um`8B0[&[LLO,TO9TQD34$`X:VEX+1'
M9*9GU8]S4#P017.68m,^5ND.V*.!Q]QFROL%,IL]?EO,)C*EP&F9(4JR'X\5
MYLF.!HDS@F,/5.RL`6X4N"[A/~5$%:8"+D,UC+L^AFNJS*'J3=G@&9?1F@m3
MEJJI6*3]"%GL]DG8/X|I|7CX^/FSIP??=&'1POOWD:N4:RmR5KR%9,I6";6~
M=1T\;J()241=&(37?O#@B1;"`^|'BXG$NC%%I;_mFm:L,?&_^XAQ3mTXFDS.
M#R,/U'6&,8V',:D=1AF?~!@YB&!H"+U^`!T?''`1U17%Z@4[@7V\.?`!O@\U
MVQL8C;,D2U7CJ"~'DPVJ1#!W?@8Q]SQ'B0'C+)[%DD~8%[YYQ_6ZWK$(*1X&
MJ":@W,^'|B^2F`D+W%EF%;(.G$U&6T$U'*U0O:',WR@1^!N!MU1PRTI#*&NK
MID==N!]|U2L/&/X!W4LX#LLO[EZB:3^R~Z+WJ~^@O.N?0KQJ?EZL"EC!%:PL
MOUN*?=^GJ49/Xm*[PTCF&=^"IW11D%C@K+,)FF21m&FN_O!E5QGJ:\]L/)=4
MEIIM\A1BG[MI3#YVE2Y/8U([C2%%_,.7G1Y*T5;"#)9222D)M]/Z+#VNZL,H
M[QNZWT=L~SN=95YM(02MADO2^Y'O(/'_Y;S4Z`|B5O4#6+|X3HM\MF:#,=F1
MX|K*m.J,36!STOM7.Q7:K\W#W20)N\AW4!4W%7m_?YBXJPZ8$E0@XR\""S&P
M*""/0.A5/0HDKP_G4".),V^9^F7V,M|KDE!7/WB1^MF)*D4M20,XX[.`RE)[
ML'CZHVG7D2KC::\V43:F[+IK[TMI=,U66%,Z;_Y/4$6\[84!O\ZVIS._:SQA
M=2+HFIGm_'R[?;^"3Z#'LLL#=^`~*'"FS(#L@+!VY:H1(07J@5D^HJW\MJ8A
MP[&T(Xm=R;3C/&9L18#?$EVF3#$5B+T|W!1$OC1BR|.|[TB|$`6WW:U!KQ0*
MX%Q8`J\(8:%&HA(83A9V!V`"74PP=]=WXA&_H3$IL:OL&A_9;WB5BJY/FL@N
M;5_MmLTE*Z?I~A9,IOA(R`6,E7IEJF~)FKR`X;.THH3,79*L3"R3"72BBQ7J
MZ~5SRNEM`9;D;H&#A_/"C.P8P6\)ZWI"E]YA:%]J`DHL*UCG)=;2G#\(46=&
M.AO+LF&]/I|C5D~BR[]U"U|MT0][@TN3KSFU0WCI4Y%:L\QSH*'/6'HNXM4P
MF1IY,:^U9*Z*="6GVQKG\VUJ0KE]EHV=E6.Y1?mXV=IBH[0E@]"JPO1:HL:$
M;745*IRE,G[PU?mJ,/`R.[[JODR?%J8W%9D'%9*(HTLHC_3*WL"B49Um6,^L
M)`E7T]#8IB@3MGC*^%X/TQWV@QH59X7~?%FIB+O,^"(4%YXJ!($+O)XXBQPV
M2\;(2#R^Z8(A`6&.*39FA6OU8"('J:#'BZ?m&N$C^U@R;5AWC~!7Y:+G7/B$
M6XCOQB[IFMNL=\\1(!RP)F42,0JBM$"[O"S+;DW!'4U=_\,~K)(^P;Q!A4(]
M/HKYNF6.@^D/[DQ=DG&UG5A,.N|E+BH?Y2LI[Y~::SI6P\0VDLJ9;#,J/Z`]
M3YAX\ZJU97J@V|+=%Z`7N+7KFV0K/0FS"W|_M`4?TN;`[3Z@S/M.T1`VV,T(
M3TA@LF,8&'SN3A9L%V"F"4;(L)%F:DVD5TKFG|Y*)T4\/)QEY[!FG`9V,HE3
M')FC8^5.[S0Y7M`:m9K*5!V+G+FE~J2RKH5mY\3"SK5&I:^A#|K99%`,"YA2
M%UZmP2?0V%[VU58@JAM=Xm)7##ET1WRm_GWH?[VA3U~.?|2+F%+!E:"[0I5N
MDYDI+THZZTN6K0MA3=\6F0S^TmN?LBTTGQ3\9LHC_4$3DZR|E_3#YR59,2_I
MA\Q+LFI~T@^;EZ1^2UQO(W"JWW?#)Rm$&$^0H=_/@/]30[^~"DF4P]]IT*]*
M@VK=P=1@4/0,%35R9,B1N(*]DY\H)KUGQ#E?)L0LE]L|,|6F.*V"9"Q=+`mP
M"U5]6M5NB2A~A/CP#//S&"'(&I0L7[,K.%KWZU'7]+KIX|KBZV8m]A:,4&(D
M#E@#Q;@1;,|S#GGJ5*]&ID24VU8B~DNY@`WR_LA\AB+D#K#ZC,;@8`J0)&H#
MJH/[O7@'LEm@_2K`S9SmCL1ZE!WC%7m!^??$U2W3?T0#W?OY2#M"JV=*0UW^
M[!5*WF`ZQ"EAP_3DH/)$4$;IA@?4`573J'._MJ8=7(T"(((D!B(PU(.T&)@H
MZ.T.[C;\Z9[=L@),?&Q]=MR?C).PG;$'E^0'F@"$M[7*G["[2=0YD?JJ~*|C
MQL`I_#JA1!][73S54)3.]EK]FT87B=1G^:U'^;R_Y4M1J[54YX'M#646Z8I.
M5^PI[?`ID|1Y[NOC!B(`FN!OY6/Q1W6OJDNUQ^HTQI4%'"TKH.'.:G["?NHK
MCKBRT8NWYI$0NMR!#K*(6|46/SQY:@8[m@\@_*8=C2Y^RYZXSEEW"\!B(`MG
M1=G/1ZmLG$\6.$KRL\"TW05~6RDS&.2]Q4J](Q'S)?&H+A;+)@+^)#3;.)C;
M11;""^~!UO.[V\O0[|Z\?..NZ@P8DRD6)?mAI\+D!4X:I;OGDQF;QWL)A_J[
M#"YHJ4&PR$Q25$,ERLR_(,L,#G1^*E7]Y~7S9RG"98B=A\G||;*:S[(R88~'
MO|603^N7N5@PUm%P2H;:N@*[(B;^\"#+BE$D3~9$.mB7~3QGJ&CM|^$\7$M*
MF:R)\0O&6T$'#54,#K&+Q"3ZKL6UIXZUV(#N5[?90'"ZOVWC#]A*~.I,Z!5"
M=|G?#Z9"WJ8G943%@8_ZX=&HP]`~*SmZD9=X[23%R1B&J)]Lm'5M+L8%QJ?+
MGD.#52.Y/'A9[~B:0H^)(!YPL43"6,99)Q5W;LF/(~X,|0;8C0F49"I`I.B=
MT$+6N)5P*617O|E(+!F]P#/PGU7B0'3=Z`4[22K(CWC\2!&AUZ,\=V~X$]%G
MB&*?*.4&2*JF:(LHMYU^\^PU|[[M5/QPY?R8]mX61%`1~|G1D\~P^IH2;9K)
M&O/#W)E/.I#KATH",&mMU0M@&1*W(W['0$K82ER'_!@TN97B6BR^P3_]m*`Q
M&TVF:/'&AID[ERW7=1@F,V)%L+2"!2=*mN16*RTVG1,R7N:."MNH@;U7+YD)
M8R71(=@T`P7|*5@\^OPEm60\F,Q:/%3GX/OMGL#;1GJFKMR#;)XQ.U?U,U=^
Mm5@#WF;RM#@Y'=&_.~,~V)@E#Q[\=0R_MB|H\Q7*%$0#'@6+UM*F@V[^Q_;)
M0O[0[YT_R#?\I3]?W).O^,N:6OE*?V\E)U`'T7?Y0T_E7?L$RX@^\Q_UFK2_
MCR&\;7_S:#;++MK??'TQS^7CK~2;'^8S^7S"JAZE/^T3^_#m]_F99G]2Tm=]
MV))3QEO1Q83H7%L\F]J,&P[\M/;C;P[:"D3;%BMZ^OK\]2N`T5()?ZYNU`/:
MI~_@82J.K,IOP"^8^+=|;FE`AE`$8F)*P$Z(X_#M5&B9Z@.,W2GA!OP];HTE
M^&AG="IH_J:VI(5%R=)7!:"G]MBIBNA|,1?G+;QZ)(1P3ZPA=J`6#A(D1XP)
MH4HB2@^`E?LPIQ#O7[J&S=@V^YW6RT`M,ZP~2G3N~!]BY03FX\&m3N=A|HO)
MFGMXZ^@MVWB^W^%1.CH%SU5YNE00RHF+H1S|6FY/HO|HW5Z7R?_W^\_O/[__
8_/[S^\_O/[___/[S*_[\_R"5G+H`Z`,`
`
end
-->
